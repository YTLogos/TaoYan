<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Linux | Tao Yan</title>
    <link>https://taoyan.netlify.app/categories/linux/</link>
      <atom:link href="https://taoyan.netlify.app/categories/linux/index.xml" rel="self" type="application/rss+xml" />
    <description>Linux</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><copyright>Â© Tao Yan, 2018-2020</copyright><lastBuildDate>Thu, 02 Jul 2020 16:19:05 +0000</lastBuildDate>
    <image>
      <url>https://taoyan.netlify.app/img/pom-card.png</url>
      <title>Linux</title>
      <link>https://taoyan.netlify.app/categories/linux/</link>
    </image>
    
    <item>
      <title>åœ¨Ubuntu 20.04/18.04/16.04ä»¥åŠDebian 9/8ä¸Šå®‰è£…Java11</title>
      <link>https://taoyan.netlify.app/post/2020-07-02.%E5%9C%A8ubuntu-20.0418.0416.04%E4%BB%A5%E5%8F%8Adebian-98%E4%B8%8A%E5%AE%89%E8%A3%85java11/</link>
      <pubDate>Thu, 02 Jul 2020 16:19:05 +0000</pubDate>
      <guid>https://taoyan.netlify.app/post/2020-07-02.%E5%9C%A8ubuntu-20.0418.0416.04%E4%BB%A5%E5%8F%8Adebian-98%E4%B8%8A%E5%AE%89%E8%A3%85java11/</guid>
      <description>&lt;p&gt;Java 11æ˜¯2018å¹´å‘å¸ƒçš„ä¸€ä¸ªé•¿æœŸæ”¯æŒçš„ç‰ˆæœ¬ï¼Œä¸åŒäºJava 8ï¼Œåœ¨Linuxä¸Šå®‰è£…Java 11æ˜¾å¾—æ›´ä¸ºå¤æ‚ç‚¹ï¼Œæˆ‘è¿™é‡Œç®€å•è®°å½•ä¸‹ï¼Œæœ¬æ–‡ä¸»è¦æ¥æºäºè¿™ç¯‡
&lt;a href=&#34;https://computingforgeeks.com/how-to-install-java-11-on-ubuntu-debian-linux/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;åšæ–‡&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä»ppaå®‰è£…oracle-java-11-ç»æµ‹è¯•åœ¨æˆ‘çš„ubuntu-1604ä¸Šæ— æ³•å®‰è£…è¿™é‡Œä¹Ÿè®°å½•ä¸‹å…¶ä»–ç”¨æˆ·å¯ä»¥å°è¯•ä¸‹æ¯•ç«Ÿæ–¹ä¾¿ç®€å•&#34;&gt;ä»PPAå®‰è£…Oracle Java 11 (ç»æµ‹è¯•ï¼Œåœ¨æˆ‘çš„Ubuntu 16.04ä¸Šæ— æ³•å®‰è£…ï¼Œè¿™é‡Œä¹Ÿè®°å½•ä¸‹ï¼Œå…¶ä»–ç”¨æˆ·å¯ä»¥å°è¯•ä¸‹ï¼Œæ¯•ç«Ÿæ–¹ä¾¿ç®€å•)&lt;/h2&gt;
&lt;h3 id=&#34;ubuntu-2004&#34;&gt;Ubuntu 20.04&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;sudo apt update
sudo apt install openjdk-11-jdk
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ubuntu-18041604&#34;&gt;Ubuntu 18.04/16.04&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;sudo add-apt-repository ppa:linuxuprising/java
sudo apt update
sudo apt install oracle-java11-set-default
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;debian-98&#34;&gt;Debian 9/8&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;echo &amp;quot;deb http://ppa.launchpad.net/linuxuprising/java/ubuntu bionic main&amp;quot; | sudo tee /etc/apt/sources.list.d/linuxuprising-java.list
sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 73C3DB2A
sudo apt update
sudo apt install oracle-java11-set-default
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœä¸æƒ³è®¾ç½®Java 11ä¸ºé»˜è®¤çš„Javaç¯å¢ƒï¼Œåˆ™å®‰è£…ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo apt install oracle-java11-installer
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœå®‰è£…æˆåŠŸç¡®è®¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ java -version
openjdk version &amp;quot;11.0.7&amp;quot; 2020-04-14
OpenJDK Runtime Environment (build 11.0.7+10-post-Ubuntu-3ubuntu1)
OpenJDK 64-Bit Server VM (build 11.0.7+10-post-Ubuntu-3ubuntu1, mixed mode, sharing)
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ‰‹åŠ¨å®‰è£…openjdk-11&#34;&gt;æ‰‹åŠ¨å®‰è£…OpenJDK 11&lt;/h2&gt;
&lt;p&gt;OpenJDKæ˜¯ä¸€ä¸ªå…è´¹å¼€æºçš„Javaç¯å¢ƒï¼Œä¸‹è½½OpenJDK 11&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;curl -O https://download.java.net/java/GA/jdk11/9/GPL/openjdk-11.0.2_linux-x64_bin.tar.gz
tar zxvf openjdk-11.0.2_linux-x64_bin.tar.gz
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å°†ç”Ÿæˆçš„æ–‡ä»¶å¤¹æ‹·è´åˆ°/user/local&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sudo mv jdk-11* /usr/local/
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è®¾ç½®ç¯å¢ƒå˜é‡ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sudo vim /etc/profile.d/jdk.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨é‡Œé¢æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;export JAVA_HOME=/usr/local/jdk-11.0.2
export PATH=$PATH:$JAVA_HOME/bin
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨&lt;code&gt;.bashrc&lt;/code&gt;æˆ–è€…&lt;code&gt;.zshrc&lt;/code&gt;ä¸­æ·»åŠ ä»¥ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sudo vi ~/.bashrc
## æ·»åŠ 
source /etc/profile.d/jdk.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é‡å¯æˆ–è€…&lt;code&gt;source /etc/proflie&lt;/code&gt;ï¼Œæœ€åéªŒè¯å®‰è£…å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ java -version
openjdk version &amp;quot;11.0.2&amp;quot; 2019-01-15
OpenJDK Runtime Environment 18.9 (build 11.0.2+9)
OpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)

$ which java
/usr/local/jdk-11.0.2/bin/java
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ‰‹åŠ¨å®‰è£…java-se-development-kit-11-jdk-11&#34;&gt;æ‰‹åŠ¨å®‰è£…Java SE Development Kit 11 (JDK 11)&lt;/h2&gt;
&lt;p&gt;å»
&lt;a href=&#34;https://www.oracle.com/java/technologies/javase-jdk11-downloads.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;è¿™é‡Œ&lt;/a&gt;ä¸‹è½½æœ€æ–°çš„JDK 11&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;curl -LO -H &amp;quot;Cookie: oraclelicense=accept-securebackup-cookie&amp;quot; \
&amp;quot;http://download.oracle.com/otn-pub/java/jdk/11.0.2+9/f51449fcd52f4d52b93a989c5c56ed3c/jdk-11.0.8_linux-x64_bin.deb&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å®‰è£…ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo dpkg -i jdk-11.0.8_linux-x64_bin.deb
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸­é—´é‡åˆ°ä¾èµ–é—®é¢˜çš„è¯ï¼Œè¿è¡Œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sudo apt -f install
$ sudo dpkg -i jdk-11.0.2_linux-x64_bin.deb
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è®¾ç½®ç¯å¢ƒå˜é‡&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sudo vim /etc/profile.d/jdk.sh
## æ·»åŠ 

export JAVA_HOME=/usr/lib/jvm/jdk-11.0.2/
export PATH=$PATH:$JAVA_HOME/bin

## æ¿€æ´»
$ source /etc/profile.d/jdk.sh
$ java -version
java version &amp;quot;11.0.8&amp;quot; 2018-10-16 LTS
Java(TM) SE Runtime Environment 18.9 (build 11.0.8+9-LTS)
Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.8+9-LTS, mixed mode
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    
    <item>
      <title>Shell | å¤šçº¿ç¨‹å¹¶è¡Œè®¡ç®—</title>
      <link>https://taoyan.netlify.app/post/2020-01-02.%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%B9%B6%E8%A1%8C%E8%AE%A1%E7%AE%97/</link>
      <pubDate>Thu, 02 Jan 2020 16:19:05 +0000</pubDate>
      <guid>https://taoyan.netlify.app/post/2020-01-02.%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%B9%B6%E8%A1%8C%E8%AE%A1%E7%AE%97/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/YTLogos/pic_link/master/img/20200104192150.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¤šçº¿ç¨‹å¹¶è¡Œè®¡ç®—å¯ä»¥æé«˜æ•ˆç‡ï¼ŒèŠ‚çœæ—¶é—´ã€‚æœ€è¿‘å·¥ä½œä¸­æœ‰ä¸€æ‰¹æ•°æ®éœ€è¦å¤„ç†ï¼Œå­¦ä¹ äº†ä¸€ä¸‹æ‰¹é‡å¤šçº¿ç¨‹æ“ä½œã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¤šçº¿ç¨‹&#34;&gt;å¤šçº¿ç¨‹&lt;/h2&gt;
&lt;p&gt;çº¿ç¨‹ä¸è¿›ç¨‹æ˜¯ä¸åŒçš„ï¼Œçº¿ç¨‹ç›¸å½“äºç«è½¦è½¦å¢ï¼Œè¿›ç¨‹ç›¸å½“äºç«è½¦ã€‚&lt;/p&gt;
&lt;p&gt;æ‰“ä¸ªæ¯”æ–¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å•è¿›ç¨‹å•çº¿ç¨‹ï¼šä¸€ä¸ªäººåœ¨ä¸€å¼ æ¡Œå­ä¸Šåƒé¥­&lt;/li&gt;
&lt;li&gt;å•è¿›ç¨‹å¤šçº¿ç¨‹ï¼šå¤šä¸ªäººåœ¨ä¸€å¼ æ¡Œå­ä¸Šåƒé¥­&lt;/li&gt;
&lt;li&gt;å¤šè¿›ç¨‹å¤šçº¿ç¨‹ï¼šå¤šä¸ªäººåœ¨å¤šå¼ æ¡Œå­ä¸Šåƒé¥­&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ç®¡é“&#34;&gt;ç®¡é“&lt;/h2&gt;
&lt;p&gt;ç®¡é“æ–‡ä»¶æœ‰ä¸¤ç§ï¼šæœ‰åç®¡é“ï¼ŒåŒ¿åç®¡é“&lt;/p&gt;
&lt;p&gt;æ‰¹é‡æäº¤è„šæœ¬ä¼šå¯¼è‡´I/Oä¸¥é‡è´Ÿè·ï¼Œæˆ‘ä»¬å¸Œæœ›æ§åˆ¶æäº¤è„šæœ¬çš„æ•°é‡ï¼Œå¹¶ä¸”æ¯æ¬¡å®Œæˆä¸€ä¸ªè„šæœ¬ä¹‹åè‡ªåŠ¨æäº¤ä¸€ä¸ªè„šæœ¬ã€‚&lt;strong&gt;FIFO&lt;/strong&gt;æœ‰åç®¡é“å°±å¯ä»¥å®ç°è¿™ç‚¹ã€‚å®ƒçš„ç‰¹æ€§æ˜¯å¦‚æœä¸€ä¸ªè¿›ç¨‹æ‰“å¼€&lt;strong&gt;FIFO&lt;/strong&gt;æ–‡ä»¶è¿›è¡Œå†™æ“ä½œï¼Œè€Œå¦ä¸€ä¸ªè¿›ç¨‹å¯¹ä¹‹è¿›è¡Œè¯»æ“ä½œï¼Œæ•°æ®å°±å¯ä»¥å¦‚åŒåœ¨Shellæˆ–è€…å…¶ä»–åœ°æ–¹å¸¸è§çš„åŒ¿åç®¡é“ä¸€æ ·æµçº¿æ‰§è¡Œã€‚å› æ­¤åˆ©ç”¨æœ‰åç®¡é“&lt;strong&gt;FIFO&lt;/strong&gt;çš„ä¸Šè¿°ç‰¹æ€§å°±å¯ä»¥å®ç°ä¸€ä¸ªé˜Ÿåˆ—æ§åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mkfifo&lt;/code&gt;å‘½ä»¤ç”¨äºåˆ›å»ºfifoï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mkfifo $tmp_fifofile  #æ–°å»ºä¸€ä¸ªfifoç±»å‹æ–‡ä»¶
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;ç®¡é“å…·æœ‰å­˜ä¸€ä¸ªè¯»ä¸€ä¸ªï¼Œè¯»å®Œä¸€ä¸ªå°±å°‘ä¸€ä¸ªï¼Œæ²¡æœ‰åˆ™é˜»å¡ï¼Œæ”¾å›çš„å¯ä»¥é‡å¤å–çš„ç‰¹ç‚¹ã€‚è¿™æ­£æ˜¯é˜Ÿåˆ—ç‰¹æ€§ï¼Œä½†é—®é¢˜æ˜¯å¦‚æœå¾€ç®¡é“æ–‡ä»¶é‡Œé¢æ”¾å…¥ä¸€æ®µå†…å®¹ï¼Œæ²¡äººå–åˆ™ä¼šé˜»å¡ï¼Œè¿™æ ·ä½ æ°¸è¿œä¹Ÿæ²¡åŠæ³•å¾€ç®¡é“é‡Œé¢åŒæ—¶æ”¾å…¥å¤šæ®µå†…å®¹ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜çš„å…³é”®å°±æ˜¯æ–‡ä»¶æè¿°ç¬¦ï¼ˆFile Descriptorï¼ŒFD)äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;æ–‡ä»¶æè¿°ç¬¦file-descriptor-fd&#34;&gt;æ–‡ä»¶æè¿°ç¬¦File Descriptor (FD)&lt;/h2&gt;
&lt;p&gt;Linux shellä¸­çš„File Descriptor (FD)ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæŒ‡å‘æ–‡ä»¶çš„æŒ‡é’ˆã€‚é»˜è®¤æœ‰ä¸‰ä¸ªFDï¼š0ï¼Œ1ï¼Œ2ã€‚Shellä¸­è¿˜å…è®¸æœ‰3..9çš„FDï¼Œé»˜è®¤éƒ½æ²¡æœ‰æ‰“å¼€ï¼Œå¯ä»¥è®¤ä¸ºæŒ‡å‘nullã€‚ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¯æŸ¥çœ‹FDï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ls /proc/self/fd
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åˆ©ç”¨é‡å®šå‘â€˜&amp;gt;&amp;amp;â€™å¯ä»¥ä¸ºä¸€ä¸ªFDèµ‹å€¼ï¼Œä½¿å…¶æŒ‡å‘ä¸€ä¸ªénullçš„æ–‡ä»¶ï¼Œå…¶å®å°±æ˜¯æ‰“å¼€ä¸€ä¸ªFDï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;6&amp;gt;&amp;amp;1
# å¯ä»¥ç†è§£ä¸ºå°†FD6æŒ‡é’ˆæŒ‡å‘FD1æŒ‡é’ˆæŒ‡å‘çš„æ–‡ä»¶
# è¿™æ ·ï¼ŒFD6å’ŒFD1å°±åŒæ—¶æŒ‡å‘åŒä¸€ä¸ªæ–‡ä»¶
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å°†FD6æŒ‡é’ˆç½®ä¸ºç©ºå€¼nullï¼Œå¯å…³é—­FD6ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;6&amp;gt;&amp;amp;-
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸€ä¸ªé‡å®šå‘åªåœ¨å½“å‰å‘½ä»¤ä¸­æœ‰æ•ˆã€‚é€šè¿‡execå¯ä»¥ä½¿IOé‡å®šå‘åœ¨å½“å‰shellä¸­é•¿æœŸæœ‰æ•ˆï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# æ‰“å¼€FD6
exec 6&amp;gt;&amp;amp;1
# å…³é—­FD6
exec 6&amp;gt;&amp;amp;-
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ç¤ºä¾‹&#34;&gt;ç¤ºä¾‹&lt;/h2&gt;
&lt;p&gt;å¹¶å‘å¤„ç†1000ä¸ªbamæ–‡ä»¶è½¬åŒ–ä¸ºbedæ–‡ä»¶ï¼Œå¦‚ä½•ç”¨&lt;strong&gt;Shell&lt;/strong&gt;å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä¸€èˆ¬çš„æƒ³æ³•å°±æ˜¯forå¾ªç¯è¿›è¡Œå¤„ç†&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
# bam to bed

date # è„šæœ¬å¼€å§‹æ—¶é—´

for ((i=1;i&amp;lt;=1000;i++))
do
        bam2bed  #è¿™é‡Œæ‰§è¡Œè‡ªå·±çš„è„šæœ¬
        echo &amp;quot; $i finished! &amp;quot;   
done

date # è„šæœ¬ç»“æŸæ—¶é—´
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™ç§å¤„ç†æ–¹æ³•éœ€è¦å¾ªç¯1000æ¬¡ï¼ŒèŠ±è´¹çš„æ—¶é—´è‚¯å®šå¾ˆé•¿ï¼Œå¯ä»¥è€ƒè™‘å¹¶å‘ï¼Œä¸€æ¬¡æ€§æäº¤1000ä¸ªæ ·æœ¬åŒæ—¶å¤„ç†ã€‚å¯ä»¥é‡‡ç”¨&lt;code&gt;&amp;amp;&lt;/code&gt;+ &lt;code&gt;wait&lt;/code&gt;å®ç°å¤šçº¿ç¨‹&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
# bam to bed

date # è„šæœ¬å¼€å§‹æ—¶é—´

for ((i=1;i&amp;lt;=1000;i++))
do
{
    bam2bed  #è¿™é‡Œæ‰§è¡Œè‡ªå·±çš„è„šæœ¬
        echo &amp;quot; $i finished! &amp;quot;  
 }&amp;amp;              #ç”¨{}æŠŠå¾ªç¯ä½“æ‹¬èµ·æ¥ï¼ŒååŠ ä¸€ä¸ª&amp;amp;ç¬¦å·ï¼Œä»£è¡¨æ¯æ¬¡å¾ªç¯éƒ½æŠŠå‘½ä»¤æ”¾å…¥åå°è¿è¡Œ
                 #ä¸€æ—¦æ”¾å…¥åå°ï¼Œå°±æ„å‘³ç€{}é‡Œé¢çš„å‘½ä»¤äº¤ç»™æ“ä½œç³»ç»Ÿçš„ä¸€ä¸ªçº¿ç¨‹å¤„ç†äº†
                 #å¾ªç¯äº†1000æ¬¡ï¼Œå°±æœ‰1000ä¸ª&amp;amp;å°†ä»»åŠ¡æ”¾å…¥åå°ï¼Œæ“ä½œç³»ç»Ÿä¼šå¹¶å‘1000ä¸ªçº¿ç¨‹æ¥å¤„ç†     
done    
wait             #waitå‘½ä»¤è¡¨ç¤ºã€‚ç­‰å¾…ä¸Šé¢çš„å‘½ä»¤ï¼ˆæ”¾å…¥åå°çš„ä»»åŠ¡ï¼‰éƒ½æ‰§è¡Œå®Œæ¯•äº†å†å¾€ä¸‹æ‰§è¡Œ
     
date # è„šæœ¬ç»“æŸæ—¶é—´
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Shellå®ç°å¹¶å‘å°±æ˜¯é€šè¿‡&amp;amp;å‘½ä»¤ç¬¦å°†å¾ªç¯ä½“çš„å‘½ä»¤æ”¾å…¥åå°è¿è¡Œï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•å¯¹çº¿ç¨‹å¹¶å‘æ•°ä¸å¯æ§ï¼Œç³»ç»Ÿä¹Ÿä¼šéšç€é«˜å¹¶å‘å‹åŠ›çš„ä¸æ–­æ”€å‡ï¼Œå¤„ç†é€Ÿåº¦ä¼šå˜å¾—è¶Šæ¥è¶Šæ…¢ï¼Œæ‰€ä»¥è¿™ç§æ–¹æ³•é’ˆå¯¹å°‘é‡çš„æ–‡ä»¶å¯è¡Œï¼Œä½†æ˜¯ä¸€æ—¦æ–‡ä»¶æ•°é‡å¤§ï¼Œå¤„ç†é€Ÿåº¦æ˜¯å¾ˆæ…¢çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±å¯ä»¥ä½¿ç”¨&lt;strong&gt;FIFO&lt;/strong&gt;å®ç°â€œå¤šè¿›ç¨‹â€&lt;/p&gt;
&lt;p&gt;å…ˆæ–°å»ºä¸€ä¸ª&lt;strong&gt;FIFO&lt;/strong&gt;ï¼Œå†™å…¥ä¸€äº›å­—ç¬¦ã€‚ä¸€ä¸ªè¿›ç¨‹å¼€å§‹å‰ä¼šå…ˆä»è¿™ä¸ªFIFOä¸­è¯»èµ°ä¸€ä¸ªå­—ç¬¦ï¼Œæ‰§è¡Œå®Œä¹‹åå†å†™å›ä¸€ä¸ªå­—ç¬¦ã€‚å¦‚æœ&lt;strong&gt;FIFO&lt;/strong&gt;ä¸­æ²¡æœ‰å­—ç¬¦ï¼Œè¯¥çº¿ç¨‹å°±ä¼šç­‰å¾…ï¼Œfifoå°±æˆäº†ä¸€ä¸ªé”ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯è®¾ç½®32ä¸ªçº¿ç¨‹çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
# bam to bed

start_time=`date +%s`  #å®šä¹‰è„šæœ¬è¿è¡Œçš„å¼€å§‹æ—¶é—´

tmp_fifofile=&amp;quot;/tmp/$$.fifo&amp;quot;
mkfifo $tmp_fifofile   # æ–°å»ºä¸€ä¸ªFIFOç±»å‹çš„æ–‡ä»¶
exec 6&amp;lt;&amp;gt;$tmp_fifofile  # å°†FD6æŒ‡å‘FIFOç±»å‹, è¿™é‡Œ6ä¹Ÿå¯ä»¥æ˜¯å…¶å®ƒæ•°å­—
rm $tmp_fifofile  #åˆ ä¹Ÿå¯ä»¥ï¼Œ

thread_num=32  # å®šä¹‰æœ€å¤§çº¿ç¨‹æ•°

#æ ¹æ®çº¿ç¨‹æ€»æ•°é‡è®¾ç½®ä»¤ç‰Œä¸ªæ•°
#äº‹å®ä¸Šå°±æ˜¯åœ¨fd6ä¸­æ”¾ç½®äº†$thread_numä¸ªå›è½¦ç¬¦
for ((i=0;i&amp;lt;${thread_num};i++));do
    echo
done &amp;gt;&amp;amp;6

for i in data/*.bam # æ‰¾åˆ°dataæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰bamæ ¼å¼çš„æ–‡ä»¶
do
    # ä¸€ä¸ªread -u6å‘½ä»¤æ‰§è¡Œä¸€æ¬¡ï¼Œå°±ä»FD6ä¸­å‡å»ä¸€ä¸ªå›è½¦ç¬¦ï¼Œç„¶åå‘ä¸‹æ‰§è¡Œ
    # å½“FD6ä¸­æ²¡æœ‰å›è½¦ç¬¦æ—¶ï¼Œå°±åœæ­¢ï¼Œä»è€Œå®ç°çº¿ç¨‹æ•°é‡æ§åˆ¶
    read -u6
    {
        bam2bed # å¯ä»¥ç”¨å®é™…å‘½ä»¤ä»£æ›¿
        echo &amp;gt;&amp;amp;6 # å½“è¿›ç¨‹ç»“æŸä»¥åï¼Œå†å‘FD6ä¸­åŠ ä¸Šä¸€ä¸ªå›è½¦ç¬¦ï¼Œå³è¡¥ä¸Šäº†read -u6å‡å»çš„é‚£ä¸ª
    } &amp;amp;
done

wait # è¦æœ‰waitï¼Œç­‰å¾…æ‰€æœ‰çº¿ç¨‹ç»“æŸ

stop_time=`date +%s` # å®šä¹‰è„šæœ¬è¿è¡Œçš„ç»“æŸæ—¶é—´
echo &amp;quot;TIME:`expr $stop_time - $start_time`&amp;quot; # è¾“å‡ºè„šæœ¬è¿è¡Œæ—¶é—´

exec 6&amp;gt;&amp;amp;- # å…³é—­FD6ï¼Œæœ€åä¸€å®šè¦è®°å¾—å…³é—­FIFO
echo &amp;quot;over&amp;quot; # è¡¨ç¤ºè„šæœ¬è¿è¡Œç»“æŸ
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å‚è€ƒ&#34;&gt;å‚è€ƒï¼š&lt;/h2&gt;
&lt;p&gt;
&lt;a href=&#34;https://zhuanlan.zhihu.com/p/68574239&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;[Linux 1] Shellâ€œ å¤šçº¿ç¨‹â€ï¼Œæé«˜å·¥ä½œæ•ˆç‡&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>â€Linuxä¹‹æ•°æ®å‘ˆç°â€œ</title>
      <link>https://taoyan.netlify.app/post/2018-05-22.linux%E4%B9%8B%E6%95%B0%E6%8D%AE%E5%91%88%E7%8E%B0/</link>
      <pubDate>Tue, 22 May 2018 21:19:05 +0000</pubDate>
      <guid>https://taoyan.netlify.app/post/2018-05-22.linux%E4%B9%8B%E6%95%B0%E6%8D%AE%E5%91%88%E7%8E%B0/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://github.com/YTLogos/Pic_blog/blob/master/8aj460AJAl.png?raw=true&#34; alt=&#34;mark&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;é‡å®šå‘&#34;&gt;é‡å®šå‘&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;bash shell&lt;/strong&gt;ä¿ç•™äº†å‰ä¸‰ä¸ªæ–‡ä»¶æè¿°ç¬¦(0ã€1ã€2),åˆ†åˆ«è¡¨ç¤ºæ ‡å‡†è¾“å…¥ã€æ ‡å‡†è¾“å‡ºã€æ ‡å‡†é”™è¯¯ã€‚å¦‚æœéœ€è¦å°†æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯é‡å®šå‘åˆ°åŒä¸€ä¸ªè¾“å‡ºæ–‡ä»¶ä¸­ï¼Œ&lt;strong&gt;bash shell&lt;/strong&gt;æä¾›äº†ç‰¹æ®Šçš„é‡å®šå‘ç¬¦&lt;code&gt;&amp;amp;&amp;gt;&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è„šæœ¬ä¸­é‡å®šå‘è¾“å‡º&#34;&gt;è„šæœ¬ä¸­é‡å®šå‘è¾“å‡º&lt;/h2&gt;
&lt;h3 id=&#34;ä¸´æ—¶é‡å®šå‘&#34;&gt;ä¸´æ—¶é‡å®šå‘&lt;/h3&gt;
&lt;p&gt;åœ¨é‡å®šå‘åˆ°æ–‡ä»¶æè¿°ç¬¦æ—¶ï¼Œå¿…é¡»åœ¨æ–‡ä»¶æè¿°ç¬¦æ•°å­—å‰åŠ ä¸€ä¸ª&lt;code&gt;&amp;amp;&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test8
#!/bin/bash
# testing STDERR messages
echo &amp;quot;This is an error&amp;quot; &amp;gt;&amp;amp;2
echo &amp;quot;This is normal output&amp;quot;
$ ./test8 2&amp;gt; test9
This is normal output
$ cat test9
This is an error
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ°¸ä¹…é‡å®šå‘&#34;&gt;æ°¸ä¹…é‡å®šå‘&lt;/h3&gt;
&lt;p&gt;å¯ä»¥åœ¨è„šæœ¬ä¸­ç”¨&lt;code&gt;exec&lt;/code&gt;å‘½ä»¤å‘Šè¯‰&lt;code&gt;shell&lt;/code&gt;åœ¨è„šæœ¬æ‰§è¡ŒæœŸé—´é‡å®šå‘æŸä¸ªç‰¹å®šæ–‡ä»¶æè¿°ç¬¦&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test11
#!/bin/bash
# redirecting output to different locations
exec 2&amp;gt;testerror
echo &amp;quot;This is the start of the script&amp;quot;
echo &amp;quot;now redirecting all output to another location&amp;quot;
exec 1&amp;gt;testout
echo &amp;quot;This output should go to the testout file&amp;quot;
echo &amp;quot;but this should go to the testerror file&amp;quot; &amp;gt;&amp;amp;2
$
$ ./test11
This is the start of the script
now redirecting all output to another location
$ cat testout
This output should go to the testout file
$ cat testerror
but this should go to the testerror file
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è„šæœ¬ä¸­é‡å®šå‘è¾“å…¥&#34;&gt;è„šæœ¬ä¸­é‡å®šå‘è¾“å…¥&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;exec&lt;/code&gt;å‘½ä»¤å…è®¸å°†æ ‡å‡†è¾“å…¥é‡å®šå‘åˆ°&lt;strong&gt;Linux&lt;/strong&gt;ç³»ç»Ÿä¸Šçš„æ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;exec 0&amp;lt; testfile
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™ä¸ªå‘½ä»¤ä¼šå‘Šè¯‰&lt;code&gt;shell&lt;/code&gt;åº”è¯¥ä»æ–‡ä»¶testfileä¸­è·å¾—è¾“å…¥è€Œä¸æ˜¯STDIN&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$ cat test12
#!/bin/bash
# redirecting file input
exec 0&amp;lt; testfile
count=1
while read line
do
echo &amp;quot;Line #$count: $line&amp;quot;
count=$[ $count + 1 ]
done
$ ./test12
Line #1: This is the first line.
Line #2: This is the second line.
Line #3: This is the third line.
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ¶ˆæ¯è®°å½•&#34;&gt;æ¶ˆæ¯è®°å½•&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;tee&lt;/code&gt;å‘½ä»¤ç›¸å½“äºç®¡é“çš„ä¸€ä¸ªTå‹æ¥å¤´ï¼Œå®ƒå°†ä»STDINè¿‡æ¥çš„æ•°æ®åŒæ—¶å‘å¾€ä¸¤å¤„ï¼Œä¸€å¤„æ˜¯STDOUTï¼Œå¦ä¸€å¤„æ˜¯&lt;code&gt;tee&lt;/code&gt;å‘½ä»¤è¡ŒæŒ‡å®šçš„æ–‡ä»¶å&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ date | tee testfile
Sun Oct 19 18:56:21 EDT 2014
$ cat testfile
Sun Oct 19 18:56:21 EDT 2014
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;tee&lt;/code&gt;å‘½ä»¤åœ¨é»˜è®¤æ¡ä»¶ä¸‹ä¼šæ¯æ¬¡è¦†ç›–è¾“å‡ºæ–‡ä»¶å†…å®¹ï¼Œå¦‚æœéœ€è¦è¿½åŠ æ•°æ®åˆ°æ–‡ä»¶ä¸­ï¼Œå¯ä»¥ç”¨&lt;code&gt;-a&lt;/code&gt;å‚æ•°&lt;/p&gt;
&lt;/blockquote&gt;</description>
    </item>
    
    <item>
      <title>Linuxä¹‹è·å–ç”¨æˆ·è¾“å…¥</title>
      <link>https://taoyan.netlify.app/post/2018-05-21.linux%E4%B9%8B%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5/</link>
      <pubDate>Mon, 21 May 2018 21:19:05 +0000</pubDate>
      <guid>https://taoyan.netlify.app/post/2018-05-21.linux%E4%B9%8B%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://github.com/YTLogos/Pic_blog/blob/master/CGbkeLBFc9.png?raw=true&#34; alt=&#34;mark&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;åŸºæœ¬è¯»å–&#34;&gt;åŸºæœ¬è¯»å–&lt;/h2&gt;
&lt;p&gt;readå‘½ä»¤ä»æ ‡å‡†è¾“å…¥ï¼ˆé”®ç›˜ï¼‰æˆ–å¦ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ä¸­æ¥å—è¾“å…¥ï¼Œåœ¨æ”¶åˆ°è¾“å…¥åï¼Œreadå‘½ä»¤ä¼šå°†æ•°æ®æ”¾è¿›ä¸€ä¸ªå˜é‡&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test21.sh
#!/bin/bash
# testing the read command
#
echo -n &amp;quot;Enter your name: &amp;quot;
read name
echo &amp;quot;Hello $name, welcome to my program. &amp;quot;
#
$
$ ./test21.sh
Enter your name: Rich Blum
Hello Rich Blum, welcome to my program.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;echoå‘½ä»¤ä½¿ç”¨äº†-né€‰é¡¹ï¼Œè¯¥é€‰é¡¹ä¸ä¼šåœ¨å­—ç¬¦ä¸²æœ«å°¾è¾“å‡ºæ¢è¡Œç¬¦ï¼Œå…è®¸è„šæœ¬ç”¨æˆ·ç´§è·Ÿå…¶åè¾“å…¥æ•°æ®ï¼Œè€Œä¸æ˜¯ä¸‹ä¸€è¡Œã€‚
readå‘½ä»¤åŒ…å«äº†-pé€‰é¡¹ï¼Œå…è®¸ç”¨æˆ·ç›´æ¥åœ¨readå‘½ä»¤è¡ŒæŒ‡å®šæç¤ºç¬¦&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test22.sh
#!/bin/bash
# testing the read -p option
#
read -p &amp;quot;Please enter your age: &amp;quot; age
days=$[ $age * 365 ]
echo &amp;quot;That makes you over $days days old! &amp;quot;
#
$
$ ./test22.sh
Please enter your age: 10
That makes you over 3650 days old!
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;readå‘½ä»¤ä¼šå°†æç¤ºç¬¦åè¾“å…¥çš„æ‰€æœ‰æ•°æ®åˆ†é…ç»™å•ä¸ªå˜é‡ï¼Œè¦ä¹ˆæŒ‡å®šå¤šä¸ªå˜é‡ï¼Œè¾“å…¥çš„æ¯ä¸ªæ•°æ®å€¼éƒ½ä¼šåˆ†é…ç»™å˜é‡åˆ—è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªå˜é‡ï¼Œå¦‚æœå˜é‡æ•°é‡ä¸å¤Ÿï¼Œå‰©ä¸‹çš„æ•°æ®å°±å…¨éƒ¨åˆ†é…ç»™æœ€åä¸€ä¸ªå˜é‡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$ cat test23.sh
#!/bin/bash
# entering multiple variables
#
read -p &amp;quot;Enter your name: &amp;quot; first last
echo &amp;quot;Checking data for $last, $firstâ€¦&amp;quot;
$
$ ./test23.sh
Enter your name: Rich Blum
Checking data for Blum, Rich...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥åœ¨readå‘½ä»¤è¡Œä¸­ä¸æŒ‡å®šå˜é‡ï¼Œæ­¤æ—¶readä¼šå°†å®ƒæ”¶åˆ°çš„ä»»ä½•æ•°æ®å­˜å…¥ç¯å¢ƒå˜é‡REPLYä¸­&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test24.sh
#!/bin/bash
# Testing the REPLY Environment variable
#
read -p &amp;quot;Enter your name: &amp;quot;
echo
echo Hello $REPLY, welcome to my program.
#
$
$ ./test24.sh
Enter your name: Christine
Hello Christine, welcome to my program.
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è¶…æ—¶&#34;&gt;è¶…æ—¶&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨readå‘½ä»¤æ—¶è„šæœ¬å¾ˆå¯èƒ½ä¼šä¸€ç›´ç­‰ç€ç”¨æˆ·è¾“å…¥ï¼Œæ­¤æ—¶å¯ä»¥è®¾ç½®ä¸€ä¸ªè®¡æ—¶å™¨æ¥è®©è„šæœ¬åœ¨è¶…è¿‡è¾“å…¥æ—¶é—´åç»§ç»­æ‰§è¡Œ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test25.sh
#!/bin/bash
# timing the data entry
#
if read -t 5 -p &amp;quot;Please enter your name: &amp;quot; name
then
echo &amp;quot;Hello $name, welcome to my script&amp;quot;
else
echo
echo &amp;quot;Sorry, too slow! &amp;quot;
fi
$
$ ./test25.sh
Please enter your name: Rich
Hello Rich, welcome to my script
$ ./test25.sh
Please enter your name:
Sorry, too slow!
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥ä¸å¯¹è¾“å…¥è¿‡ç¨‹è®¡æ—¶ï¼Œè€Œæ˜¯è®©readå‘½ä»¤æ¥ç»Ÿè®¡è¾“å…¥çš„å­—ç¬¦æ•°ï¼Œå½“è¾“å…¥çš„å­—ç¬¦æ•°è¾¾åˆ°é¢„è®¾çš„å­—ç¬¦æ•°æ—¶ï¼Œå°±ä¼šè‡ªåŠ¨é€€å‡ºï¼Œå°†è¾“å…¥çš„æ•°æ®èµ‹å€¼ç»™å˜é‡&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test26.sh
#!/bin/bash
# getting just one character of input
#
read -n1 -p &amp;quot;Do you want to continue [Y/N]? &amp;quot; answer
case $answer in
Y | y) echo
echo &amp;quot;fine, continue onâ€¦&amp;quot;;;
N | n) echo
echo OK, goodbye
exit;;
esac
echo &amp;quot;This is the end of the script&amp;quot;
$
$ ./test26.sh
Do you want to continue [Y/N]? Y
fine, continue onâ€¦
This is the end of the script
$
$ ./test26.sh
Do you want to continue [Y/N]? n
OK, goodbye
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å°†-né€‰é¡¹ä¸å€¼1ä¸€èµ·ä½¿ç”¨ï¼Œå‘Šè¯‰readå‘½ä»¤åœ¨æ¥å—å•ä¸ªå­—ç¬¦åé€€å‡ºã€‚&lt;/p&gt;
&lt;h3 id=&#34;éšè—æ–¹å¼è¯»å–&#34;&gt;éšè—æ–¹å¼è¯»å–&lt;/h3&gt;
&lt;p&gt;-sé€‰é¡¹å¯ä»¥é¿å…åœ¨readå‘½ä»¤ä¸­è¾“å…¥çš„æ•°æ®å‡ºç°åœ¨æ˜¾ç¤ºå™¨ä¸Š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test27.sh
#!/bin/bash
# hiding input data from the monitor
#
read -s -p &amp;quot;Enter your password: &amp;quot; pass
echo
echo &amp;quot;Is your password really $pass? &amp;quot;
$
$ ./test27.sh
Enter your password:
Is your password really T3st1ng?
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ–‡ä»¶ä¸­è¯»å–&#34;&gt;æ–‡ä»¶ä¸­è¯»å–&lt;/h3&gt;
&lt;p&gt;readå¯ä»¥ç”¨æ¥ç›´æ¥è¯»å–æ–‡ä»¶é‡Œä¿å­˜çš„æ•°æ®ï¼Œæ¯æ¬¡è°ƒç”¨readå‘½ä»¤ï¼Œå®ƒéƒ½ä¼šä»æ–‡ä»¶ä¸­è¯»å–ä¸€è¡Œï¼Œå½“æ–‡ä»¶ä¸­æ²¡æœ‰å†…å®¹åï¼Œreadé€€å‡º&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test28.sh
#!/bin/bash
# reading data from a file
#
count=1
cat test | while read line
do
echo &amp;quot;Line $count: $line&amp;quot;
count=$[ $count + 1]
done
echo &amp;quot;Finished processing the file&amp;quot;
$
$ cat test
The quick brown dog jumps over the lazy fox.
This is a test, this is only a test.
O Romeo, Romeo! Wherefore art thou Romeo?
$
$ ./test28.sh
Line 1: The quick brown dog jumps over the lazy fox.
Line 2: This is a test, this is only a test.
Line 3: O Romeo, Romeo! Wherefore art thou Romeo?
Finished processing the file
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    
    <item>
      <title>Linuxä¹‹å¤„ç†ç”¨æˆ·è¾“å…¥ï¼ˆä¸‰ï¼‰</title>
      <link>https://taoyan.netlify.app/post/2018-05-20.linux%E4%B9%8B%E5%A4%84%E7%90%86%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%E4%B8%89/</link>
      <pubDate>Sun, 20 May 2018 21:19:05 +0000</pubDate>
      <guid>https://taoyan.netlify.app/post/2018-05-20.linux%E4%B9%8B%E5%A4%84%E7%90%86%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%E4%B8%89/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://github.com/YTLogos/Pic_blog/blob/master/AHC1ACD4IH.png?raw=true&#34; alt=&#34;mark&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä½¿ç”¨getoptå‘½ä»¤&#34;&gt;ä½¿ç”¨&lt;code&gt;getopt&lt;/code&gt;å‘½ä»¤&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;getopt&lt;/code&gt;èƒ½å¤Ÿè¯†åˆ«å‘½ä»¤è¡Œå‚æ•°ï¼Œä»è€Œåœ¨è„šæœ¬ä¸­è§£æå®ƒä»¬ã€‚&lt;code&gt;getopt&lt;/code&gt;å¯ä»¥æ¥å—ä¸€ç³»åˆ—ä»»æ„å½¢å¼çš„å‘½ä»¤è¡Œé€‰é¡¹å’Œå‚æ•°ï¼Œå¹¶è‡ªåŠ¨å°†å®ƒä»¬è½¬æ¢ä¸ºé€‚å½“çš„æ ¼å¼ã€‚å…¶å‘½ä»¤è¡Œæ ¼å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;getopt optstring paramaters
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;optstring&lt;/code&gt;æ˜¯è¿™ä¸ªè¿‡ç¨‹çš„å…³é”®æ‰€åœ¨ï¼Œå®ƒå®šä¹‰äº†å‘½ä»¤è¡Œæœ‰æ•ˆçš„é€‰é¡¹å­—æ¯ï¼Œè¿˜å®šä¹‰äº†å“ªäº›é€‰é¡¹å­—æ¯éœ€è¦å‚æ•°å€¼ï¼Œåœ¨&lt;code&gt;optstring&lt;/code&gt;ä¸­åˆ—å‡ºä½ è¦åœ¨è„šæœ¬ä¸­ç”¨åˆ°çš„æ¯ä¸ªå‘½ä»¤è¡Œé€‰é¡¹å­—æ¯ï¼Œç„¶ååœ¨æ¯ä¸ªéœ€è¦å‚æ•°å€¼çš„é€‰é¡¹å­—æ¯ååŠ ä¸€ä¸ªå†’å·ï¼Œ&lt;code&gt;getopt&lt;/code&gt;å‘½ä»¤ä¼šåŸºäºä½ å®šä¹‰çš„optstringè§£ææä¾›çš„å‚æ•°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ getopt ad:cd -a -b test1 -cd test2 test3
-a -b test1 -c -d -- test2 test3
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;optstringå®šä¹‰äº†å››ä¸ªæœ‰æ•ˆé€‰é¡¹å­—æ¯ï¼Œå†’å·åœ¨bä¹‹åï¼Œå› ä¸ºbé€‰é¡¹éœ€è¦ä¸€ä¸ªå‚æ•°å€¼ï¼Œå½“&lt;code&gt;getopt&lt;/code&gt;å‘½ä»¤è¿è¡Œæ—¶ï¼Œå®ƒä¼šæ£€æŸ¥æä¾›çš„å‚æ•°åˆ—è¡¨(-a -b test1 -cd test2 test3)ï¼Œå¹¶åŸºäºæä¾›çš„optstringè¿›è¡Œè§£æï¼Œå®ƒä¼šè‡ªåŠ¨å°†-cdé€‰é¡¹åˆ†æˆä¸¤ä¸ªç‹¬ç«‹çš„é€‰é¡¹ï¼Œå¹¶æ’å…¥åŒç ´æŠ˜çº¿æ¥åˆ†éš”è¡Œä¸­çš„é¢å¤–å‚æ•°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚æœæŒ‡å®šäº†ä¸€ä¸ªä¸åœ¨&lt;code&gt;optstring&lt;/code&gt;ä¸­çš„é€‰é¡¹ï¼Œä¼šæŠ¥é”™ï¼Œè¿™æ—¶å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­åŠ å…¥&lt;code&gt;-q&lt;/code&gt;é€‰é¡¹ä»¥å¿½ç•¥é”™è¯¯æ¶ˆæ¯&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ getopt ab:cd -a -b test1 -cde test2 test3
getopt: invalid option -- e
-a -b test1 -c -d -- test2 test3
$ getopt -q ab:cd -a -b test1 -cde test2 test3
-a -b &#39;test1&#39; -c -d -- &#39;test2&#39; &#39;test3&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è„šæœ¬ä¸­ä½¿ç”¨getopt&#34;&gt;è„šæœ¬ä¸­ä½¿ç”¨&lt;code&gt;getopt&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;é€šè¿‡&lt;code&gt;set&lt;/code&gt;å‘½ä»¤æ¥å®Œæˆï¼Œsetå‘½ä»¤çš„é€‰é¡¹ä¹‹ä¸€æ˜¯åŒç ´æŠ˜çº¿ï¼Œå®ƒä¼šå°†å‘½ä»¤è¡Œå‚æ•°æ›¿æ¢æˆsetå‘½ä»¤çš„å‘½ä»¤è¡Œå€¼ã€‚è¯¥æ–¹æ³•é¦–å…ˆå°†åŸå§‹è„šæœ¬ä¸­çš„å‘½ä»¤è¡Œå‚æ•°ä¼ ç»™getoptå‘½ä»¤ï¼Œä¹‹åå†å°†getoptå‘½ä»¤çš„è¾“å‡ºä¼ ç»™setå‘½ä»¤ï¼Œç”¨getoptæ ¼å¼åŒ–åçš„å‘½ä»¤è¡Œå‚æ•°æ¥æ›¿æ¢åŸå§‹çš„å‘½ä»¤è¡Œå‚æ•°ï¼Œå…·ä½“å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;set --$(gteopt -q ab:cd &amp;quot;$@&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç°åœ¨åŸå§‹çš„å‘½ä»¤è¡Œå‚æ•°å˜é‡çš„å€¼å°±ä¼šè¢«getoptå‘½ä»¤è¡Œçš„è¾“å‡ºæ›¿æ¢ï¼Œgetoptå·²ç»å°†å‘½ä»¤è¡Œå‚æ•°å…¨éƒ¨æ ¼å¼åŒ–å¥½äº†ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test18.sh
#!/bin/bash
# Extract command line options &amp;amp; values with getopt
#
set -- $(getopt -q ab:cd &amp;quot;$@&amp;quot;)
#
echo
while [ -n &amp;quot;$1&amp;quot; ]
do
    case &amp;quot;$1&amp;quot; in
    -a) echo &amp;quot;Found the -a option&amp;quot; ;;
    -b) param=&amp;quot;$2&amp;quot;
        echo &amp;quot;Found the -b option, with parameter value $param&amp;quot;
        shift ;;
    -c) echo &amp;quot;Found the -c option&amp;quot; ;;
    --) shift
        break ;;
    *) echo &amp;quot;$1 is not an option&amp;quot;;;
esac
    shift
done
#
count=1
for param in &amp;quot;$@&amp;quot;
do
    echo &amp;quot;Parameter #$count: $param&amp;quot;
    count=$[ $count + 1 ]
done
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç°åœ¨è¿è¡Œå«æœ‰å¤æ‚é€‰é¡¹çš„è„šæœ¬&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ./test18.sh -ac
Found the -a option
Found the -c option
$ ./test18.sh -a -b test1 -cd test2 test3 test4
Found the -a option
Found the -b option, with parameter value &#39;test1&#39;
Found the -c option
Parameter #1: &#39;test2&#39;
Parameter #2: &#39;test3&#39;
Parameter #3: &#39;test4&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä½†æ˜¯è¿˜æ˜¯å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æ— æ³•å¤„ç†å¸¦ç©ºæ ¼å’Œå¼•å·çš„å‚æ•°å€¼ï¼Œå®ƒä¼šå°†ç©ºæ ¼å½“ä½œå‚æ•°åˆ†éš”ç¬¦ï¼Œè€Œä¸æ˜¯æ ¹æ®åŒå¼•å·å°†ä¸¤è€…å½“ä½œä¸€ä¸ªå‚æ•°ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ./test18.sh -a -b test1 -cd &amp;quot;test2 test3&amp;quot; test4
Found the -a option
Found the -b option, with parameter value &#39;test1&#39;
Found the -c option
Parameter #1: &#39;test2
Parameter #2: test3&#39;
Parameter #3: &#39;test4&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;getopts&#34;&gt;getopts&lt;/h3&gt;
&lt;p&gt;getoptsç›¸å¯¹äºgetoptæ¥è¯´æ›´é«˜çº§ï¼Œå®ƒå¯ä»¥æä¾›getoptæ— æ³•å®ç°çš„åŠŸèƒ½ã€‚æ¯æ¬¡è°ƒç”¨getoptsæ—¶ï¼Œå®ƒä¸€æ¬¡åªä¼šå¤„ç†å‘½ä»¤è¡Œä¸Šæ£€æµ‹åˆ°çš„ä¸€ä¸ªå‚æ•°ï¼Œå¤„ç†å®Œæ‰€æœ‰å‚æ•°åï¼Œå®ƒä¼šé€€å‡ºå¹¶è¿”å›ä¸€ä¸ªå¤§äº0çš„é€€å‡ºçŠ¶æ€ç ï¼Œå› æ­¤å¯ä»¥ä¸whileç»“åˆè¿è¡Œã€‚getoptså‘½ä»¤ç”¨åˆ°ä¸¤ä¸ªç¯å¢ƒå˜é‡ï¼Œå¦‚æœé€‰é¡¹éœ€è¦è·Ÿä¸€ä¸ªå‚æ•°å€¼ï¼ŒOPTARGç¯å¢ƒå˜é‡ä¼šä¿å­˜è¿™ä¸ªå€¼ï¼ŒOPTINDç¯å¢ƒå˜é‡ä¿å­˜äº†å‚æ•°åˆ—è¡¨ä¸­getoptsæ­£åœ¨å¤„ç†çš„&lt;strong&gt;å‚æ•°ä½ç½®&lt;/strong&gt;ï¼Œè¿™æ ·å°±èƒ½åœ¨å¤„ç†å®Œé€‰é¡¹ä¹‹åç»§ç»­å¤„ç†å…¶ä»–å‘½ä»¤è¡Œå‚æ•°äº†ï¼Œå…¶ä¸»è¦æ ¼å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;getopts optstring variable
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;optstringå­˜æœ‰æ•ˆçš„é€‰é¡¹å­—æ¯ï¼Œå¦‚æœé€‰é¡¹å­—æ¯è¦æ±‚æœ‰ä¸ªå‚æ•°å€¼ï¼Œå°±åŠ ä¸€ä¸ªå†’å·ï¼Œè¦å»æ‰é”™è¯¯ä¿¡æ¯ï¼Œåœ¨optstringä¹‹å‰åŠ ä¸€ä¸ªå†’å·ï¼Œgetoptså‘½ä»¤ä¼šå°†å½“å‰å‚æ•°ä¿å­˜åˆ°å‘½ä»¤è¡Œä¸­å®šä¹‰çš„variableä¸­&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$ cat test19.sh
#!/bin/bash
# simple demonstration of the getopts command
#
echo
while getopts ğŸ†c opt
do
case &amp;quot;$opt&amp;quot; in
a) echo &amp;quot;Found the -a option&amp;quot; ;;
b) echo &amp;quot;Found the -b option, with value $OPTARG&amp;quot;;;
c) echo &amp;quot;Found the -c option&amp;quot; ;;
*) echo &amp;quot;Unknown option: $opt&amp;quot;;;
esac
done
$
$ ./test19.sh -ab test1 -c
Found the -a option
Found the -b option, with value test1
Found the -c option
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;getoptsåœ¨è§£æå‘½ä»¤è¡Œé€‰é¡¹æ—¶ä¼šç§»é™¤å¼€å¤´çš„ç ´æŠ˜çº¿æ‰€ä»¥åœ¨caseå®šä¹‰ä¸­ä¸ç”¨å•ç ´æŠ˜çº¿ã€‚getoptsæ”¯æŒç©ºæ ¼å‚æ•°å€¼è¾“å…¥åŠå…¶ä»–è¾“å…¥&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ./test19.sh -b &amp;quot;test1 test2&amp;quot; -a
Found the -b option, with value test1 test2
Found the -a option
$ ./test19.sh -abtest1
Found the -a option
Found the -b option, with value test1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;getoptsä¼šå°†åœ¨å‘½ä»¤è¡Œä¸Šæ‰¾åˆ°çš„æœªå®šä¹‰çš„é€‰é¡¹ç»Ÿä¸€è¾“å‡ºä¸ºé—®å·&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ./test19.sh -d
Unknown option: ?
$
$ ./test19.sh -acde
Found the -a option
Found the -c option
Unknown option: ?
Unknown option: ?
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;getoptsçŸ¥é“ä½•æ—¶åœæ­¢å¤„ç†é€‰é¡¹ï¼Œåœ¨getoptså¤„ç†æ¯ä¸ªé€‰é¡¹æ—¶ä¼šå°†OPTINDç¯å¢ƒå˜é‡å€¼åŠ ä¸€ï¼Œåœ¨å®Œæˆgetoptsä¹‹åï¼Œå¯ä»¥ä½¿ç”¨shiftå‘½ä»¤å’ŒOPTINDå€¼æ¥ç§»åŠ¨å‚æ•°ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test20.sh
#!/bin/bash
# Processing options &amp;amp; parameters with getopts
#
echo
while getopts ğŸ†cd opt
do
case &amp;quot;$opt&amp;quot; in
a) echo &amp;quot;Found the -a option&amp;quot; ;;
b) echo &amp;quot;Found the -b option, with value $OPTARG&amp;quot; ;;
c) echo &amp;quot;Found the -c option&amp;quot; ;;
d) echo &amp;quot;Found the -d option&amp;quot; ;;
*) echo &amp;quot;Unknown option: $opt&amp;quot; ;;
esac
done
#
shift $[ $OPTIND - 1 ]
#
echo
count=1
for param in &amp;quot;$@&amp;quot;
do
echo &amp;quot;Parameter $count: $param&amp;quot;
count=$[ $count + 1 ]
done
$ ./test20.sh -a -b test1 -d test2 test3 test4
Found the -a option
Found the -b option, with value test1
Found the -d option
Parameter 1: test2
Parameter 2: test3
Parameter 3: test4
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;é€‰é¡¹æ ‡å‡†åŒ–&#34;&gt;é€‰é¡¹æ ‡å‡†åŒ–&lt;/h3&gt;
&lt;p&gt;ä¸»è¦æ˜¯ä¸Linuxé‡Œå·²ç»å­˜åœ¨å«æœ‰æŸç§ç¨‹åº¦çš„æ ‡å‡†å«ä¹‰çš„å­—æ¯ç›¸å»åˆï¼Œæ¯”å¦‚oä¸€èˆ¬ä»£è¡¨è¾“å‡ºç­‰ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;é€‰ é¡¹ æ è¿°
-a æ˜¾ç¤ºæ‰€æœ‰å¯¹è±¡
-c ç”Ÿæˆä¸€ä¸ªè®¡æ•°
-d æŒ‡å®šä¸€ä¸ªç›®å½•
-e æ‰©å±•ä¸€ä¸ªå¯¹è±¡
-f æŒ‡å®šè¯»å…¥æ•°æ®çš„æ–‡ä»¶
-h æ˜¾ç¤ºå‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯
-i å¿½ç•¥æ–‡æœ¬å¤§å°å†™
-l äº§ç”Ÿè¾“å‡ºçš„é•¿æ ¼å¼ç‰ˆæœ¬
-n ä½¿ç”¨éäº¤äº’æ¨¡å¼ï¼ˆæ‰¹å¤„ç†ï¼‰
-o å°†æ‰€æœ‰è¾“å‡ºé‡å®šå‘åˆ°çš„æŒ‡å®šçš„è¾“å‡ºæ–‡ä»¶
-q ä»¥å®‰é™æ¨¡å¼è¿è¡Œ
-r é€’å½’åœ°å¤„ç†ç›®å½•å’Œæ–‡ä»¶
-s ä»¥å®‰é™æ¨¡å¼è¿è¡Œ
-v ç”Ÿæˆè¯¦ç»†è¾“å‡º
-x æ’é™¤æŸä¸ªå¯¹è±¡
-y å¯¹æ‰€æœ‰é—®é¢˜å›ç­”yes
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    
    <item>
      <title>Linuxä¹‹å¤„ç†ç”¨æˆ·è¾“å…¥(äºŒ)</title>
      <link>https://taoyan.netlify.app/post/2018-05-19.linux%E4%B9%8B%E5%A4%84%E7%90%86%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%E4%BA%8C/</link>
      <pubDate>Sat, 19 May 2018 21:19:05 +0000</pubDate>
      <guid>https://taoyan.netlify.app/post/2018-05-19.linux%E4%B9%8B%E5%A4%84%E7%90%86%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%E4%BA%8C/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://github.com/YTLogos/Pic_blog/blob/master/7bEcJiH4l2.png?raw=true&#34; alt=&#34;mark&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç‰¹æ®Šå‚æ•°å˜é‡&#34;&gt;ç‰¹æ®Šå‚æ•°å˜é‡&lt;/h2&gt;
&lt;p&gt;åœ¨&lt;code&gt;bash shell&lt;/code&gt;ä¸­æœ‰äº›ç‰¹æ®Šå˜é‡ï¼Œå®ƒä»¬ä¼šè®°å½•å‘½ä»¤è¡Œå‚æ•°&lt;/p&gt;
&lt;h3 id=&#34;å‚æ•°ç»Ÿè®¡&#34;&gt;å‚æ•°ç»Ÿè®¡&lt;/h3&gt;
&lt;p&gt;ç‰¹æ®Šå˜é‡&lt;code&gt;$#&lt;/code&gt;å«æœ‰è„šæœ¬è¿è¡Œæ—¶æºå¸¦çš„å‘½ä»¤è¡Œå‚æ•°çš„ä¸ªæ•°ï¼Œå¯ä»¥åœ¨è„šæœ¬ä¸­ä»»ä½•åœ°æ–¹ä½¿ç”¨è¿™ä¸ªç‰¹æ®Šå˜é‡ï¼Œå°±è·Ÿæ™®é€šå˜é‡ä¸€æ ·&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test9.sh
#!/bin/bash
# Testing parameters
#
if [ $# -ne 2 ]
then
echo
echo Usage: test9.sh a b
echo
else
total=$[ $1 + $2 ]
echo
echo The total is $total
echo
fi
#
$
$ bash test9.sh
Usage: test9.sh a b
$ bash test9.sh 10
Usage: test9.sh a b
$ bash test9.sh 10 15
The total is 25
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚ä½•è·å–æœ€åä¸€ä¸ªå‘½ä»¤è¡Œå‚æ•°å˜é‡ï¼Ÿå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•è·å–ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test10.sh
#!/bin/bash
# Grabbing the last parameter
#
params=$#
echo
echo The last parameter is $params
echo The last parameter is $\{!#\}
echo
#
$
$ bash test10.sh 1 2 3 4 5
The last parameter is 5
The last parameter is 5
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æŠ“å–æ‰€æœ‰æ•°æ®&#34;&gt;æŠ“å–æ‰€æœ‰æ•°æ®&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;$*&lt;/code&gt;å’Œ&lt;code&gt;$@&lt;/code&gt;å˜é‡å¯ä»¥ç”¨æ¥è½»æ¾è®¿é—®æ‰€æœ‰å‚æ•°ï¼Œè¿™ä¸¤ä¸ªå˜é‡èƒ½å¤Ÿåœ¨å•ä¸ªå˜é‡ä¸­å­˜å‚¨æ‰€æœ‰çš„å‘½ä»¤è¡Œå‚æ•°ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;$*&lt;/code&gt;å˜é‡ä¼šå°†å‘½ä»¤è¡Œä¸Šæä¾›çš„æ‰€æœ‰å‚æ•°å½“ä½œä¸€ä¸ªå•è¯ä¿å­˜ï¼Œè¿™ä¸ªå•è¯åŒ…å«äº†å‘½ä»¤è¡Œä¸­å‡ºç°çš„æ¯ä¸€ä¸ªå‚æ•°ï¼ŒåŸºæœ¬ä¸Š&lt;code&gt;$*&lt;/code&gt;å˜é‡ä¼šå°†è¿™äº›å‚æ•°è§†ä¸ºä¸€ä¸ªæ•´ä½“ï¼Œè€Œä¸æ˜¯å¤šä¸ªä¸ªä½“&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$@&lt;/code&gt;å˜é‡ä¼šå°†å‘½ä»¤è¡Œä¸Šæä¾›çš„æ‰€æœ‰å‚æ•°å½“ä½œåŒä¸€å­—ç¬¦ä¸²ä¸­çš„å¤šä¸ªç‹¬ç«‹çš„å•è¯ï¼Œè¿™æ ·å¯ä»¥éå†æ‰€æœ‰çš„å‚æ•°å€¼ï¼Œå¾—åˆ°æ¯ä¸ªå‚æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$ cat test11.sh
#!/bin/bash
# testing $* and $@
#
echo
echo &amp;quot;Using the $* method: $*&amp;quot;
echo
echo &amp;quot;Using the $@ method: $@&amp;quot;
$
$ ./test11.sh rich barbara katie jessica
Using the $* method: rich barbara katie jessica
Using the $@ method: rich barbara katie jessica
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;äºŒè€…çš„å·®å¼‚ä¸»è¦å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test12.sh
#!/bin/bash
# testing $* and $@
#
echo
count=1
#
for param in &amp;quot;$*&amp;quot;
do
echo &amp;quot;$* Parameter #$count = $param&amp;quot;
count=$[ $count + 1 ]
done
#
echo
count=1
#
for param in &amp;quot;$@&amp;quot;
do
echo &amp;quot;$@ Parameter #$count = $param&amp;quot;
count=$[ $count + 1 ]
done
$
$ ./test12.sh rich barbara katie jessica
$* Parameter #1 = rich barbara katie jessica
$@ Parameter #1 = rich
$@ Parameter #2 = barbara
$@ Parameter #3 = katie
$@ Parameter #4 = jessica
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;$*&lt;/code&gt;å˜é‡å°†æ‰€æœ‰å‚æ•°å½“æˆå•ä¸ªå‚æ•°ï¼Œ&lt;code&gt;$@&lt;/code&gt;å˜é‡ä¼šå•ç‹¬å¤„ç†æ¯ä¸ªå‚æ•°&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;ç§»åŠ¨å˜é‡&#34;&gt;ç§»åŠ¨å˜é‡&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;bash shell&lt;/code&gt;çš„&lt;code&gt;shift&lt;/code&gt;å‘½ä»¤é»˜è®¤æ¡ä»¶ä¸‹ä¼šå°†æ¯ä¸ªå‚æ•°å˜é‡å‘å·¦ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œå³å˜é‡&lt;code&gt;$3&lt;/code&gt;çš„å€¼ä¼šç§»åˆ°&lt;code&gt;$2&lt;/code&gt;ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå˜é‡&lt;code&gt;$1&lt;/code&gt;çš„å€¼ä¼šè¢«åˆ é™¤ï¼Œå˜é‡&lt;code&gt;$0&lt;/code&gt;çš„å€¼å³ç¨‹åºåä¸ä¼šæ”¹å˜&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test13.sh
#!/bin/bash
# demonstrating the shift command
echo
count=1
while [ -n &amp;quot;$1&amp;quot; ]
do
echo &amp;quot;Parameter #$count = $1&amp;quot;
count=$[ $count + 1 ]
shift
done
$
$ ./test13.sh rich barbara katie jessica
Parameter #1 = rich
Parameter #2 = barbara
Parameter #3 = katie
Parameter #4 = jessica
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å¤„ç†é€‰é¡¹&#34;&gt;å¤„ç†é€‰é¡¹&lt;/h2&gt;
&lt;p&gt;é€‰é¡¹æ˜¯è·Ÿåœ¨å•ç ´æŠ˜å·&lt;code&gt;-&lt;/code&gt;åé¢çš„å•ä¸ªå­—æ¯ï¼Œæ¯”å¦‚&lt;code&gt;-n&lt;/code&gt;ï¼Œå®ƒèƒ½æ”¹å˜å‘½ä»¤çš„è¡Œä¸ºã€‚&lt;/p&gt;
&lt;h3 id=&#34;æŸ¥æ‰¾é€‰é¡¹&#34;&gt;æŸ¥æ‰¾é€‰é¡¹&lt;/h3&gt;
&lt;p&gt;å‘½ä»¤è¡Œé€‰é¡¹åœ¨å‘½ä»¤è¡Œä¸Šç´§è·Ÿåœ¨è„šæœ¬åä¹‹åï¼Œå°±è·Ÿå‘½ä»¤è¡Œå‚æ•°ä¸€æ ·&lt;/p&gt;
&lt;h3 id=&#34;å¤„ç†ç®€å•é€‰é¡¹&#34;&gt;å¤„ç†ç®€å•é€‰é¡¹&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;$ cat test15.sh
#!/bin/bash
# extracting command line options as parameters
#
echo
while [ -n &amp;quot;$1&amp;quot; ]
do
case &amp;quot;$1&amp;quot; in
-a) echo &amp;quot;Found the -a option&amp;quot; ;;
-b) echo &amp;quot;Found the -b option&amp;quot; ;;
-c) echo &amp;quot;Found the -c option&amp;quot; ;;
*) echo &amp;quot;$1 is not an option&amp;quot; ;;
esac
shift
done
$
$ ./test15.sh -a -b -c -d
Found the -a option
Found the -b option
Found the -c option
-d is not an option
#
#
$ ./test15.sh -d -c -a
-d is not an option
Found the -c option
Found the -a option
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;åˆ†ç¦»å‚æ•°å’Œé€‰é¡¹&#34;&gt;åˆ†ç¦»å‚æ•°å’Œé€‰é¡¹&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Linux&lt;/strong&gt;å¤„ç†åŒæ—¶å«æœ‰é€‰é¡¹å’Œå‚æ•°çš„æƒ…å†µæ—¶ï¼Œåˆ©ç”¨ç‰¹æ®Šå­—ç¬¦å°†ä¸¤è€…åˆ†å¼€ï¼Œè¯¥å­—ç¬¦ä¼šå‘Šè¯‰è„šæœ¬ä½•æ—¶é€‰é¡¹ç»“æŸä»¥åŠæ™®é€šå‚æ•°ä½•æ—¶å¼€å§‹ã€‚è¿™ä¸ªç‰¹æ®Šå­—ç¬¦å°±æ˜¯åŒç ´æŠ˜çº¿&lt;code&gt;--&lt;/code&gt;ï¼Œ&lt;code&gt;shell&lt;/code&gt;ä¼šç”¨åŒç ´æŠ˜çº¿æ¥è¡¨æ˜é€‰é¡¹åˆ—è¡¨ç»“æŸï¼Œåœ¨åŒç ´æŠ˜çº¿ä¹‹åï¼Œè„šæœ¬å°±å¯ä»¥æ”¾å¿ƒå°†å‰©ä¸‹çš„å‘½ä»¤è¡Œå‚æ•°å½“ä½œå‚æ•°è€Œä¸æ˜¯é€‰é¡¹æ¥å¤„ç†ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test16.sh
#!/bin/bash
# extracting options and parameters
echo
while [ -n &amp;quot;$1&amp;quot; ]
do
case &amp;quot;$1&amp;quot; in
-a) echo &amp;quot;Found the -a option&amp;quot; ;;
-b) echo &amp;quot;Found the -b option&amp;quot;;;
-c) echo &amp;quot;Found the -c option&amp;quot; ;;
--) shift
break ;;
*) echo &amp;quot;$1 is not an option&amp;quot;;;
esac
shift
done
#
count=1
for param in $@
do
echo &amp;quot;Parameter #$count: $param&amp;quot;
count=$[ $count + 1 ]
done
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨é‡åˆ°åŒç ´æŠ˜çº¿æ—¶è„šæœ¬ç”¨&lt;code&gt;break&lt;/code&gt;å‘½ä»¤è·³å‡º&lt;code&gt;while&lt;/code&gt;å¾ªç¯ï¼Œç”±äºè¿‡æ—©è·³å‡ºå¾ªç¯ï¼Œéœ€è¦å†åŠ ä¸€æ¡&lt;code&gt;shift&lt;/code&gt;å‘½ä»¤æ¥å°†åŒç ´æŠ˜çº¿ç§»å‡ºå‚æ•°å˜é‡ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ./test16.sh -c -a -b test1 test2 test3
Found the -c option
Found the -a option
Found the -b option
test1 is not an option
test2 is not an option
test3 is not an option
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç»“æœè¯´æ˜åœ¨å¤„ç†æ—¶è„šæœ¬è®¤ä¸ºæ‰€æœ‰çš„å‘½ä»¤è¡Œå‚æ•°éƒ½æ˜¯é€‰é¡¹ï¼Œä¸‹é¢ç”¨åŒç ´æŠ˜çº¿å°†å‘½ä»¤è¡Œä¸Šçš„å‚æ•°å’Œé€‰é¡¹åˆ†éš”å¼€&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ./test16.sh -c -a -b -- test1 test2 test3
Found the -c option
Found the -a option
Found the -b option
Parameter #1: test1
Parameter #2: test2
Parameter #3: test3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å½“è„šæœ¬é‡åˆ°åŒç ´æŠ˜çº¿æ—¶å®ƒä¼šåœæ­¢å¤„ç†é€‰é¡¹ï¼Œå¹¶å°†å‰©ä¸‹çš„å‚æ•°éƒ½å½“ä½œå‘½ä»¤è¡Œå‚æ•°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¤„ç†å¸¦å€¼çš„é€‰é¡¹&#34;&gt;å¤„ç†å¸¦å€¼çš„é€‰é¡¹&lt;/h3&gt;
&lt;p&gt;æœ‰äº›é€‰é¡¹ä¼šå¸¦æœ‰ä¸€ä¸ªé¢å¤–çš„å‚æ•°å€¼ï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ./testing.sh -a test1 -b -c -d test2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å½“å‘½ä»¤è¡Œé€‰é¡¹è¦æ±‚æœ‰é¢å¤–çš„å‚æ•°æ—¶ï¼Œå¤„ç†å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test17.sh
#!/bin/bash
# extracting command line options and values
echo
while [ -n &amp;quot;$1&amp;quot; ]
do
case &amp;quot;$1&amp;quot; in
-a) echo &amp;quot;Found the -a option&amp;quot;;;
-b) param=&amp;quot;$2&amp;quot;
echo &amp;quot;Found the -b option, with parameter value $param&amp;quot;
shift ;;
-c) echo &amp;quot;Found the -c option&amp;quot;;;
--) shift
break ;;
*) echo &amp;quot;$1 is not an option&amp;quot;;;
esac
shift
done
#
count=1
for param in &amp;quot;$@&amp;quot;
do
echo &amp;quot;Parameter #$count: $param&amp;quot;
count=$[ $count + 1 ]
done
$
$ ./test17.sh -a -b test1 -d
Found the -a option
Found the -b option, with parameter value test1
-d is not an option
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ&lt;code&gt;case&lt;/code&gt;è¯­å¥å®šä¹‰äº†ä¸‰ä¸ªå¤„ç†é€‰é¡¹ï¼Œ&lt;code&gt;-b&lt;/code&gt;é€‰é¡¹è¿˜æœ‰ä¸€ä¸ªé¢å¤–çš„å‚æ•°å€¼ï¼Œç”±äºè¦å¤„ç†çš„å‚æ•°æ˜¯&lt;code&gt;$1&lt;/code&gt;ï¼Œé¢å¤–çš„å‚æ•°å€¼å°±åº”è¯¥ä½äº&lt;code&gt;$2&lt;/code&gt;(å› ä¸ºæ‰€æœ‰çš„å‚æ•°åœ¨å¤„ç†å®Œä¹‹åéƒ½ä¼šè¢«ç§»å‡º)ã€‚åªè¦å°†å‚æ•°å€¼ä»&lt;code&gt;$2&lt;/code&gt;å˜é‡ä¸­æå–å‡ºæ¥å°±è¡Œäº†ï¼Œå› ä¸ºè¿™ä¸ªé€‰é¡¹å ç”¨äº†ä¸¤ä¸ªå‚æ•°ä½ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨&lt;code&gt;shift&lt;/code&gt;å‘½ä»¤å¤šç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Linuxä¹‹å¤„ç†ç”¨æˆ·è¾“å…¥</title>
      <link>https://taoyan.netlify.app/post/2018-05-18.linux%E4%B9%8B%E5%A4%84%E7%90%86%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5/</link>
      <pubDate>Fri, 18 May 2018 21:19:05 +0000</pubDate>
      <guid>https://taoyan.netlify.app/post/2018-05-18.linux%E4%B9%8B%E5%A4%84%E7%90%86%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://github.com/YTLogos/Pic_blog/blob/master/7bEcJiH4l2.png?raw=true&#34; alt=&#34;mark&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;å‘½ä»¤è¡Œå‚æ•°&#34;&gt;å‘½ä»¤è¡Œå‚æ•°&lt;/h2&gt;
&lt;p&gt;å‘&lt;code&gt;shell&lt;/code&gt;è„šæœ¬ä¼ é€’å‚æ•°çš„æœ€åŸºæœ¬æ–¹æ³•æ˜¯ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°ã€‚å‘½ä»¤è¡Œå‚æ•°å…è®¸åœ¨è¿è¡Œè„šæœ¬æ—¶å‘å‘½ä»¤è¡Œæ·»åŠ æ•°æ®ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è¯»å–å‚æ•°&#34;&gt;è¯»å–å‚æ•°&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;bash shell&lt;/code&gt;å°†ä¸€äº›ç§°ä¸ºä½ç½®å‚æ•°çš„ç‰¹æ®Šå˜é‡åˆ†é…ç»™è¾“å…¥åˆ°å‘½ä»¤è¡Œä¸­çš„æ‰€æœ‰å‚æ•°ï¼ŒåŒ…æ‹¬&lt;code&gt;shell&lt;/code&gt;æ‰€æ‰§è¡Œçš„è„šæœ¬åç§°ã€‚ä½ç½®å‚æ•°å˜é‡æ˜¯æ ‡å‡†çš„æ•°å­—:$0æ˜¯ç¨‹åºåï¼Œ$1æ˜¯ç¬¬ä¸€ä¸ªå˜é‡,ä¾æ­¤ç±»æ¨åˆ°ç¬¬ä¹ä¸ªå‚æ•°$9ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯åœ¨&lt;code&gt;shell&lt;/code&gt;è„šæœ¬ä¸­ä½¿ç”¨å•ä¸ªå‘½ä»¤è¡Œå‚æ•°çš„ç®€å•ä¾‹å­&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test1.sh
#!/bin/bash
# using one command line parameter
#
factorial=1
for (( number = 1; number &amp;lt;= $1 ; number++ ))
do
factorial=$[ $factorial * $number ]
done
echo The factorial of $1 is $factorial
$
$ ./test1.sh 5
The factorial of 5 is 120
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯ä»¥åœ¨&lt;code&gt;shell&lt;/code&gt;è„šæœ¬ä¸­åƒä½¿ç”¨å…¶ä»–å˜é‡ä¸€æ ·ä½¿ç”¨$1å˜é‡ï¼Œ&lt;code&gt;shell&lt;/code&gt;è„šæœ¬ä¼šè‡ªåŠ¨è’‹å‘½ä»¤è¡Œå‚æ•°çš„å€¼åˆ†é…ç»™å˜é‡ï¼Œä¸éœ€è¦ç”¨æˆ·åšä»»ä½•å¤„ç†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚æœéœ€è¦è¾“å…¥æ›´å¤šçš„å‘½ä»¤è¡Œå‚æ•°ï¼Œåˆ™æ¯ä¸ªå‚æ•°å¿…é¡»ç”¨ç©ºæ ¼åˆ†å¼€&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test2.sh
#!/bin/bash
# testing two command line parameters
#
total=$[ $1 * $2 ]
echo The first parameter is $1.
echo The second parameter is $2.
echo The total value is $total.
$
$ ./test2.sh 2 5
The first parameter is 2.
The second parameter is 5.
The total value is 10.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;shell&lt;/code&gt;ä¼šå°†æ¯ä¸ªå‚æ•°åˆ†é…ç»™å¯¹åº”çš„å˜é‡&lt;/p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨æ–‡æœ¬å­—ç¬¦ä¸²&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test3.sh
#!/bin/bash
# testing string parameters
#
echo Hello $1, glad to meet you.
$
$ ./test3.sh Rich
Hello Rich, glad to meet you.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;shell&lt;/code&gt;å°†è¾“å…¥åˆ°å‘½ä»¤è¡Œçš„å­—ç¬¦ä¸²å€¼ä¼ ç»™è„šæœ¬ï¼Œä½†ç¢°åˆ°å«æœ‰ç©ºæ ¼çš„æ–‡æœ¬å­—ç¬¦ä¸²æ—¶å°±ä¼šå‡ºç°é—®é¢˜ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ./test3.sh Rich Blum
Hello Rich, glad to meet you.
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;è®°ä½æ¯ä¸ªå‚æ•°éƒ½æ˜¯ç”¨ç©ºæ ¼åˆ†éš”çš„ï¼Œæ‰€ä»¥&lt;code&gt;shell&lt;/code&gt;ä¼šå°†ç©ºæ ¼å½“æˆä¸¤ä¸ªå€¼çš„åˆ†éš”ç¬¦ã€‚è¦åœ¨å‚æ•°å€¼ä¸­åŒ…å«ç©ºæ ¼ï¼Œå¿…é¡»ä½¿ç”¨å¼•å·(å•åŒå¼•å·å‡å¯)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$ ./test3.sh &#39;Rich Blum&#39;
Hello Rich Blum, glad to meet you.
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;å°†æ–‡æœ¬å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ä¼ é€’æ—¶ï¼Œå¼•å·å¹¶éæ•°æ®çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒä»¬åªæ˜¯è¡¨æ˜æ•°æ®çš„èµ·æ­¢ä½ç½®&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚æœè„šæœ¬éœ€è¦çš„å‘½ä»¤è¡Œå‚æ•°ä¸æ­¢9ä¸ªï¼Œéœ€è¦åœ¨ç¬¬ä¹ä¸ªå˜é‡ä¹‹åçš„å˜é‡æ•°å­—å‘¨å›´åŠ ä¸ŠèŠ±æ‹¬å·,æ¯”å¦‚${10}&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test4.sh
#!/bin/bash
# handling lots of parameters
#
total=$[ ${10} * ${11} ]
echo The tenth parameter is ${10}
echo The eleventh parameter is ${11}
echo The total is $total
$
$ ./test4.sh 1 2 3 4 5 6 7 8 9 10 11 12
The tenth parameter is 10
The eleventh parameter is 11
The total is 110
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è¯»å–è„šæœ¬å&#34;&gt;è¯»å–è„šæœ¬å&lt;/h3&gt;
&lt;p&gt;å¯ä»¥ç”¨$0å‚æ•°è·å–&lt;code&gt;shell&lt;/code&gt;åœ¨å‘½ä»¤è¡Œå¯åŠ¨çš„è„šæœ¬å&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test5.sh
#!/bin/bash
# Testing the $0 parameter
#
echo The zero parameter is set to: $0
#
$
$ bash test5.sh
The zero parameter is set to: test5.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™é‡Œå­˜åœ¨ä¸€ä¸ªæ½œåœ¨çš„é—®é¢˜ï¼Œå¦‚æœä½¿ç”¨å¦ä¸€ä¸ªå‘½ä»¤æ¥è¿è¡Œè„šæœ¬ï¼Œå‘½ä»¤ä¼šå’Œè„šæœ¬åæ··åœ¨ä¸€èµ·ï¼Œå‡ºç°åœ¨$0å‚æ•°ä¸­&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ./test5.sh
The zero parameter is set to: ./test5.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦å¤–å¦‚æœä¼ ç»™$0å˜é‡çš„å®é™…å­—ç¬¦ä¸²ä¸ä»…ä»…æ˜¯è„šæœ¬åï¼Œè€Œæ˜¯å®Œæ•´çš„è„šæœ¬è·¯å¾„æ—¶ï¼Œå˜é‡$0å°±ä¼šä½¿ç”¨æ•´ä¸ªè·¯å¾„&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ bash /home/Christine/test5.sh
The zero parameter is set to: /home/Christine/test5.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æœ‰ä¸ªå°å‘½ä»¤å¯ä»¥è§£å†³è¿™äº›é—®é¢˜ï¼Œ&lt;code&gt;basename&lt;/code&gt;å‘½ä»¤ä¼šè¿”å›ä¸åŒ…å«è·¯å¾„çš„è„šæœ¬å&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test5b.sh
#!/bin/bash
# Using basename with the $0 parameter
#
name=$(basename $0)
echo
echo The script name is: $name
#
$ bash /home/Christine/test5b.sh
The script name is: test5b.sh
$
$ ./test5b.sh
The script name is: test5b.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;$ cat test6.sh
#!/bin/bash
# Testing a Multi-function script
#
name=$(basename $0)
#
if [ $name = &amp;quot;addem&amp;quot; ]
then
total=$[ $1 + $2 ]
#
elif [ $name = &amp;quot;multem&amp;quot; ]
then
total=$[ $1 * $2 ]
fi
#
echo
echo The calculated value is $total
#
$
$ cp test6.sh addem
$ chmod u+x addem
$
$ ln -s test6.sh multem
$
$ ls -l *em
-rwxrw-r--. 1 Christine Christine 224 Jun 30 23:50 addem
lrwxrwxrwx. 1 Christine Christine 8 Jun 30 23:50 multem -&amp;gt; test6.sh
$
$ ./addem 2 5
The calculated value is 7
$
$ ./multem 2 5
The calculated value is 10
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    
    <item>
      <title>Linuxç»“æ„åŒ–å‘½ä»¤which</title>
      <link>https://taoyan.netlify.app/post/2018-05-17.linux%E7%BB%93%E6%9E%84%E5%8C%96%E5%91%BD%E4%BB%A4which/</link>
      <pubDate>Thu, 17 May 2018 21:19:05 +0000</pubDate>
      <guid>https://taoyan.netlify.app/post/2018-05-17.linux%E7%BB%93%E6%9E%84%E5%8C%96%E5%91%BD%E4%BB%A4which/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://github.com/YTLogos/Pic_blog/blob/master/7bEcJiH4l2.png?raw=true&#34; alt=&#34;mark&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;forå‘½ä»¤&#34;&gt;&lt;code&gt;for&lt;/code&gt;å‘½ä»¤&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;for&lt;/code&gt;å‘½ä»¤å…è®¸ä½ åˆ›å»ºä¸€ä¸ªéå†ä¸€ç³»åˆ—å€¼çš„å¾ªç¯ï¼Œæ¯æ¬¡è¿­ä»£éƒ½æ˜¯ç”¨å…¶ä¸­ä¸€ä¸ªå€¼æ¥æ‰§è¡Œå·²å®šä¹‰å¥½çš„å‘½ä»¤ã€‚å…·ä½“æ ¼å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;for var in list
do
    commands
done
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;for&lt;/code&gt;å¾ªç¯å‡å®šæ¯ä¸ªå€¼éƒ½æ˜¯ç”¨ç©ºæ ¼åˆ†éš”çš„ï¼Œå¦‚æœæœ‰åŒ…å«ç©ºæ ¼çš„æ•°æ®å€¼ï¼Œç”¨åŒå¼•å·åœˆèµ·æ¥&lt;/p&gt;
&lt;h3 id=&#34;è¯»å–åˆ—è¡¨ä¸­çš„å€¼&#34;&gt;è¯»å–åˆ—è¡¨ä¸­çš„å€¼&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;$ cat test1
#!/bin/bash
# basic for command
for test in Alabama Alaska Arizona Arkansas California Colorado
do
echo The next state is $test
done
$ ./test1
The next state is Alabama
The next state is Alaska
The next state is Arizona
The next state is Arkansas
The next state is California
The next state is Colorado
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è¯»å–åˆ—è¡¨ä¸­çš„å¤æ‚å€¼&#34;&gt;è¯»å–åˆ—è¡¨ä¸­çš„å¤æ‚å€¼&lt;/h3&gt;
&lt;p&gt;çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat badtest1
#!/bin/bash
# another example of how not to use the for command
for test in I don&#39;t know if this&#39;ll work
do
echo &amp;quot;word:$test&amp;quot;
done
$ ./badtest1
word:I
word:dont know if thisll
word:work
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç»“æœå¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„&lt;/p&gt;
&lt;p&gt;æœ‰ä¸¤ç§åŠæ³•è§£å†³è¯¥é—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨è½¬ä¹‰å­—ç¬¦(åæ–œçº¿)æ¥å°†å•å¼•å·è½¬ä¹‰&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åŒå¼•å·æ¥å®šä¹‰ç”¨åˆ°å•å¼•å·çš„å€¼&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$ cat test2
#!/bin/bash
# another example of how not to use the for command
for test in I don\&#39;t know if &amp;quot;this&#39;ll&amp;quot; work
do
echo &amp;quot;word:$test&amp;quot;
done
$ ./test2
word:I
word:don&#39;t
word:know
word:if
word:this&#39;ll
word:work
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä»å˜é‡è¯»å–åˆ—è¡¨&#34;&gt;ä»å˜é‡è¯»å–åˆ—è¡¨&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;$ cat test4
#!/bin/bash
# using a variable to hold the list
list=&amp;quot;Alabama Alaska Arizona Arkansas Colorado&amp;quot;
list=$list&amp;quot; Connecticut&amp;quot;
for state in $list
do
echo &amp;quot;Have you ever visited $state?&amp;quot;
done
$ ./test4
Have you ever visited Alabama?
Have you ever visited Alaska?
Have you ever visited Arizona?
Have you ever visited Arkansas?
Have you ever visited Colorado?
Have you ever visited Connecticut?
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä»å‘½ä»¤è¯»å–å€¼&#34;&gt;ä»å‘½ä»¤è¯»å–å€¼&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;$ cat test5
#!/bin/bash
# reading values from a file
file=&amp;quot;states&amp;quot;
for state in $(cat $file)
do
echo &amp;quot;Visit beautiful $state&amp;quot;
done
$ cat states
Alabama
Alaska
Arizona
Arkansas
Colorado
Connecticut
Delaware
Florida
Georgia
$ ./test5
Visit beautiful Alabama
Visit beautiful Alaska
Visit beautiful Arizona
Visit beautiful Arkansas
Visit beautiful Colorado
Visit beautiful Connecticut
Visit beautiful Delaware
Visit beautiful Florida
Visit beautiful Georgia
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ›´æ”¹å­—æ®µåˆ†éš”ç¬¦&#34;&gt;æ›´æ”¹å­—æ®µåˆ†éš”ç¬¦&lt;/h3&gt;
&lt;p&gt;é€ æˆè¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯ç‰¹æ®Šçš„ç¯å¢ƒå˜é‡IFSï¼Œå«åšå†…éƒ¨å­—æ®µåˆ†éš”ç¬¦ï¼ŒIFSç¯å¢ƒå˜é‡å®šä¹‰äº†&lt;strong&gt;bash shell&lt;/strong&gt;ç”¨ä½œåˆ†éš”ç¬¦çš„ä¸€ç³»åˆ—å­—ç¬¦ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ&lt;strong&gt;bash shell&lt;/strong&gt;å°†ä¸‹åˆ—å­—ç¬¦å½“ä½œå­—æ®µåˆ†éš”ç¬¦ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç©ºæ ¼&lt;/li&gt;
&lt;li&gt;åˆ¶è¡¨ç¬¦&lt;/li&gt;
&lt;li&gt;æ¢è¡Œç¬¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¦è§£å†³ä¸Šé¢é‡åˆ°çš„å¤„ç†æ–‡ä»¶ä¸­å«æœ‰å­—æ®µåˆ†éš”ç¬¦çš„é—®é¢˜ï¼Œå¯ä»¥åœ¨&lt;strong&gt;shell&lt;/strong&gt;è„šæœ¬ä¸­ä¸´æ—¶æ›´æ”¹IFSç¯å¢ƒå˜é‡çš„å€¼æ¥é™åˆ¶è¢«&lt;strong&gt;bahs shell&lt;/strong&gt;å½“ä½œå­—æ®µåˆ†éš”ç¬¦çš„å­—ç¬¦&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test5b
#!/bin/bash
# reading values from a file
file=&amp;quot;states&amp;quot;
IFS=$&#39;\n&#39;
for state in $(cat $file)
do
echo &amp;quot;Visit beautiful $state&amp;quot;
done
$ ./test5b
Visit beautiful Alabama
Visit beautiful Alaska
Visit beautiful Arizona
Visit beautiful Arkansas
Visit beautiful Colorado
Visit beautiful Connecticut
Visit beautiful Delaware
Visit beautiful Florida
Visit beautiful Georgia
Visit beautiful New York
Visit beautiful New Hampshire
Visit beautiful North Carolina
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœè¦æŒ‡å®šå¤šä¸ªIFSå­—ç¬¦ï¼Œåªè¦å°†å®ƒä»¬åœ¨èµ‹å€¼è¡Œä¸²èµ·æ¥å°±è¡Œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;IFS=$&#39;\n&#39;:;&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™ä¸ªèµ‹å€¼ä¼šå°†æ¢è¡Œç¬¦ã€å†’å·ã€åˆ†å·å’ŒåŒå¼•å·ä½œä¸ºå­—æ®µåˆ†éš”ç¬¦&lt;/p&gt;
&lt;h3 id=&#34;ç”¨é€šé…ç¬¦è¯»å–ç›®å½•&#34;&gt;ç”¨é€šé…ç¬¦è¯»å–ç›®å½•&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;$ cat test6
#!/bin/bash
# iterate through all the files in a directory
for file in /home/rich/test/*
do
if [ -d &amp;quot;$file&amp;quot; ]
then
echo &amp;quot;$file is a directory&amp;quot;
elif [ -f &amp;quot;$file&amp;quot; ]
then
echo &amp;quot;$file is a file&amp;quot;
fi
done
$ ./test6
/home/rich/test/dir1 is a directory
/home/rich/test/myprog.c is a file
/home/rich/test/myprog is a file
/home/rich/test/myscript is a file
/home/rich/test/newdir is a directory
/home/rich/test/newfile is a file
/home/rich/test/newfile2 is a file
/home/rich/test/testdir is a directory
/home/rich/test/testing is a file
/home/rich/test/testprog is a file
/home/rich/test/testprog.c is a file
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;cè¯­è¨€é£æ ¼çš„forå‘½ä»¤&#34;&gt;&lt;code&gt;C&lt;/code&gt;è¯­è¨€é£æ ¼çš„&lt;code&gt;for&lt;/code&gt;å‘½ä»¤&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;bash&lt;/strong&gt;ä¸­&lt;code&gt;C&lt;/code&gt;è¯­è¨€é£æ ¼çš„&lt;code&gt;for&lt;/code&gt;å¾ªç¯çš„åŸºæœ¬æ ¼å¼:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;for (( variable assignment ; condition ; iteration process ))
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;$ cat test8
#!/bin/bash
# testing the C-style for loop
for (( i=1; i &amp;lt;= 10; i++ ))
do
echo &amp;quot;The next number is $i&amp;quot;
done
$ ./test8
The next number is 1
The next number is 2
The next number is 3
The next number is 4
The next number is 5
The next number is 6
The next number is 7
The next number is 8
The next number is 9
The next number is 10
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä½¿ç”¨å¤šä¸ªå˜é‡&#34;&gt;ä½¿ç”¨å¤šä¸ªå˜é‡&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;C&lt;/code&gt;è¯­è¨€é£æ ¼çš„&lt;code&gt;for&lt;/code&gt;å‘½ä»¤ä¹Ÿå…è®¸ä¸ºè¿­ä»£ä½¿ç”¨å¤šä¸ªå˜é‡ã€‚å¾ªç¯ä¼šå•ç‹¬å¤„ç†æ¯ä¸ªå˜é‡ï¼Œä½ å¯ä»¥ä¸ºæ¯ä¸ªå˜é‡å®šä¹‰ä¸åŒçš„è¿­ä»£è¿‡ç¨‹ã€‚å°½ç®¡å¯ä»¥ä½¿ç”¨å¤šä¸ªå˜é‡ï¼Œä½†ä½ åªèƒ½åœ¨&lt;code&gt;for&lt;/code&gt;å¾ªç¯ä¸­å®šä¹‰ä¸€ç§æ¡ä»¶:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test9
#!/bin/bash
# multiple variables
for (( a=1, b=10; a &amp;lt;= 10; a++, b-- ))
do
echo &amp;quot;$a - $b&amp;quot;
done
$ ./test9
1 - 10
2 - 9
3 - 8
4 - 7
5 - 6
6 - 5
7 - 4
8 - 3
9 - 2
10 - 1
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;è”ç³»æ–¹å¼&#34;&gt;è”ç³»æ–¹å¼ï¼š&lt;/h2&gt;
&lt;p&gt;wechat: yt056410
Email: &lt;a href=&#34;mailto:tyan@zju.edu.cn&#34;&gt;tyan@zju.edu.cn&lt;/a&gt;
QQ: 1051927088
GitHub: &lt;a href=&#34;https://github.com/YTLogos&#34;&gt;https://github.com/YTLogos&lt;/a&gt;
JianShu: &lt;a href=&#34;http://www.jianshu.com/u/bd001545cf0b&#34;&gt;http://www.jianshu.com/u/bd001545cf0b&lt;/a&gt;
Blog: &lt;a href=&#34;https://ytlogos.github.io/&#34;&gt;https://ytlogos.github.io/&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸ªäººç®€ä»‹&#34;&gt;ä¸ªäººç®€ä»‹ï¼š&lt;/h2&gt;
&lt;p&gt;ä¸¥æ¶›
æµ™æ±Ÿå¤§å­¦ä½œç‰©é—ä¼ è‚²ç§åœ¨è¯»ç ”ç©¶ç”Ÿ
Rè¯­è¨€çˆ±å¥½è€…ï¼Œçˆ±å¼€æº&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Linuxä¹‹ç»“æ„åŒ–å‘½ä»¤</title>
      <link>https://taoyan.netlify.app/post/2018-05-16.linux%E4%B9%8B%E7%BB%93%E6%9E%84%E5%8C%96%E5%91%BD%E4%BB%A4/</link>
      <pubDate>Wed, 16 May 2018 21:19:05 +0000</pubDate>
      <guid>https://taoyan.netlify.app/post/2018-05-16.linux%E4%B9%8B%E7%BB%93%E6%9E%84%E5%8C%96%E5%91%BD%E4%BB%A4/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://github.com/YTLogos/Pic_blog/blob/master/7bEcJiH4l2.png?raw=true&#34; alt=&#34;mark&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;testè¯­å¥&#34;&gt;&lt;code&gt;test&lt;/code&gt;è¯­å¥&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;test&lt;/code&gt;å‘½ä»¤æä¾›äº†åœ¨&lt;code&gt;if-then&lt;/code&gt;è¯­å¥ä¸­æµ‹è¯•ä¸åŒæ¡ä»¶çš„é€”å¾„ã€‚å¦‚æœ&lt;code&gt;test&lt;/code&gt;å‘½ä»¤ä¸­åˆ—å‡ºçš„æ¡ä»¶æˆç«‹ï¼Œ&lt;code&gt;test&lt;/code&gt;å‘½ä»¤å°±ä¼šæ¨å‡ºå¹¶è¿”å›é€€å‡ºçŠ¶æ€ç 0ã€‚å¦‚æœæ¡ä»¶ä¸æˆç«‹ï¼Œ&lt;code&gt;test&lt;/code&gt;å‘½ä»¤å°±ä¼šæ¨å‡ºå¹¶è¿”å›éé›¶çš„é€€å‡ºçŠ¶æ€ç ï¼Œè¿™ä½¿å¾—&lt;code&gt;if-then&lt;/code&gt;è¯­å¥ä¸ä¼šè¢«æ‰§è¡Œã€‚&lt;code&gt;test&lt;/code&gt;å‘½ä»¤æ ¼å¼éå¸¸ç®€å•:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;test condition
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨&lt;code&gt;if-then&lt;/code&gt;è¯­å¥ä¸­&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;if test condition
then
    commands
fi
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;bash shell&lt;/strong&gt;æä¾›äº†å¦ä¸€ç§æ¡ä»¶æµ‹è¯•æ–¹æ³•ï¼Œæ— éœ€åœ¨&lt;code&gt;if-then&lt;/code&gt;è¯­å¥ä¸­å£°æ˜&lt;code&gt;test&lt;/code&gt;å‘½ä»¤&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;if [ condition ]
then
    commands
fi
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;æ–¹æ‹¬å·å®šä¹‰äº†æµ‹è¯•æ¡ä»¶ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç¬¬ä¸€ä¸ªæ–¹æ‹¬å·ä¹‹åå’Œç¬¬äºŒä¸ªæ–¹æ‹¬å·ä¹‹å‰å¿…é¡»åŠ ä¸Šä¸€ä¸ªç©ºæ ¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;test&lt;/code&gt;å‘½ä»¤å¯ä»¥åˆ¤æ–­ä¸‰ç±»æ¡ä»¶&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ•°å€¼æ¯”è¾ƒ(bash shellåªèƒ½å¤„ç†æ•´æ•°)&lt;/li&gt;
&lt;li&gt;å­—ç¬¦ä¸²æ¯”è¾ƒ&lt;/li&gt;
&lt;li&gt;æ–‡ä»¶æ¯”è¾ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨æ¯”è¾ƒæµ‹è¯•ä¸­ï¼Œå¤§å†™å­—æ¯è¢«è®¤ä¸ºæ˜¯å°äºå°å†™å­—æ¯çš„ï¼Œä½†æ˜¯&lt;code&gt;sort&lt;/code&gt;å‘½ä»¤æ°å¥½ç›¸åã€‚æ¯”è¾ƒæµ‹è¯•ä¸­ä½¿ç”¨çš„æ˜¯æ ‡å‡†çš„&lt;strong&gt;ASCâ…¡&lt;/strong&gt;ï¼Œæ ¹æ®æ¯ä¸ªå­—ç¬¦çš„&lt;strong&gt;ASCâ…¡&lt;/strong&gt;æ•°å€¼æ¥å†³å®šæ’åºç»“æœã€‚&lt;code&gt;sort&lt;/code&gt;å‘½ä»¤ä½¿ç”¨çš„æ˜¯ç³»ç»Ÿçš„æœ¬åœ°åŒ–è¯­è¨€è®¾ç½®ä¸­å®šä¹‰çš„æ’åºé¡ºåºï¼Œå¯¹äºè‹±è¯­ï¼Œæœ¬åœ°åŒ–è®¾ç½®æŒ‡å®šäº†åœ¨æ’åºé¡ºåºä¸­å°å†™å­—æ¯å‡ºç°åœ¨å¤§å†™å­—æ¯ä¹‹å‰ã€‚&lt;code&gt;test&lt;/code&gt;å‘½ä»¤å’Œæµ‹è¯•è¡¨è¾¾å¼ä½¿ç”¨æ ‡å‡†çš„æ•°å­—æ¯”è¾ƒç¬¦å·æ¥è¡¨ç¤ºå­—ç¬¦ä¸²æ¯”è¾ƒï¼Œè€Œç”¨æ–‡æœ¬ä»£ç æ¥è¡¨ç¤ºæ•°å€¼æ¯”è¾ƒã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;if-thené«˜çº§ç‰¹æ€§&#34;&gt;&lt;code&gt;if-then&lt;/code&gt;é«˜çº§ç‰¹æ€§&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;bash shell&lt;/strong&gt;æä¾›äº†ä¸¤é¡¹å¯åœ¨&lt;code&gt;if-then&lt;/code&gt;è¯­å¥ä¸­ä½¿ç”¨çš„é«˜çº§ç‰¹æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨äºæ•°å­¦è¡¨è¾¾å¼çš„åŒæ‹¬å·(æ— éœ€è½¬ä¹‰)&lt;/li&gt;
&lt;li&gt;ç”¨äºé«˜çº§å­—ç¬¦ä¸²å¤„ç†åŠŸèƒ½çš„åŒæ–¹æ‹¬å·(æ”¯æŒæ¨¡å¼åŒ¹é…)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä½¿ç”¨åŒæ‹¬å·&#34;&gt;ä½¿ç”¨åŒæ‹¬å·&lt;/h3&gt;
&lt;p&gt;åŒæ‹¬å·æä¾›äº†ä½¿ç”¨é«˜çº§æ•°å­¦è¡¨è¾¾å¼çš„åŠŸèƒ½ï¼ŒåŒæ‹¬å·å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;(( expression ))
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä½¿ç”¨åŒæ–¹æ‹¬å·&#34;&gt;ä½¿ç”¨åŒæ–¹æ‹¬å·&lt;/h3&gt;
&lt;p&gt;åŒæ–¹æ‹¬å·å‘½ä»¤æä¾›äº†é’ˆå¯¹å­—ç¬¦ä¸²æ¯”è¾ƒçš„é«˜çº§ç‰¹æ€§ï¼Œå…¶å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[[ expression ]]
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;caseå‘½ä»¤&#34;&gt;&lt;code&gt;case&lt;/code&gt;å‘½ä»¤&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;case&lt;/code&gt;å‘½ä»¤ä¼šå°†æŒ‡å®šçš„å˜é‡ä¸ä¸åŒæ¨¡å¼è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå˜é‡å’Œæ¨¡å¼æ¨¡å¼åŒ¹é…ï¼Œé‚£ä¹ˆ&lt;code&gt;shell&lt;/code&gt;ä¼šæ‰§è¡Œä¸ºè¯¥æ¨¡å¼æŒ‡å®šçš„å‘½ä»¤ã€‚å¯ä»¥é€šè¿‡ç«–çº¿æ“ä½œç¬¦æ¥åˆ†éš”å‡ºå¤šä¸ªæ¨¡å¼ï¼Œæ˜Ÿå·ä¼šæ•è·æ‰€æœ‰ä¸å·²çŸ¥æ¨¡å¼ä¸åŒ¹é…çš„å€¼ã€‚æ ¼å¼å…·ä½“å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;case variable in 
pattern1 | pattern2) command1;;
pattern3) command2;;
*) default commands;;
esac
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test26.sh
#!/bin/bash
# using the case command
#
case $USER in
rich | barbara)
echo &amp;quot;Welcome, $USER&amp;quot;
echo &amp;quot;Please enjoy your visit&amp;quot;;;
testing)
echo &amp;quot;Special testing account&amp;quot;;;
jessica)
echo &amp;quot;Do not forget to log off when you&#39;re done&amp;quot;;;
*)
echo &amp;quot;Sorry, you are not allowed here&amp;quot;;;
esac
$
$ ./test26.sh
Welcome, rich
Please enjoy your visit
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    
    <item>
      <title>Linuxå‘½ä»¤</title>
      <link>https://taoyan.netlify.app/post/2018-05-15.linux%E5%91%BD%E4%BB%A4/</link>
      <pubDate>Tue, 15 May 2018 21:19:05 +0000</pubDate>
      <guid>https://taoyan.netlify.app/post/2018-05-15.linux%E5%91%BD%E4%BB%A4/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://github.com/YTLogos/Pic_blog/blob/master/7bEcJiH4l2.png?raw=true&#34; alt=&#34;mark&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;åŸºæœ¬å‘½ä»¤&#34;&gt;åŸºæœ¬å‘½ä»¤&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;tail&lt;/strong&gt;å‘½ä»¤æ·»åŠ -få‚æ•°å…è®¸åœ¨å…¶ä»–è¿›ç¨‹ä½¿ç”¨è¯¥æ–‡ä»¶æ—¶æŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹ã€‚&lt;strong&gt;tail&lt;/strong&gt;å‘½ä»¤ä¼šä¿æŒæ´»åŠ¨çŠ¶æ€ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å˜é‡åã€ç­‰å·å’Œå€¼ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ï¼Œå¦‚æœè¦èµ‹å€¼ä¸€ä¸ªå«æœ‰ç©ºæ ¼çš„å­—ç¬¦ä¸²ç»„ï¼Œå¿…é¡»ç”¨å•å¼•å·æ¥ç•Œå®šå­—ç¬¦ä¸²çš„é¦–å°¾ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ é™¤å·²ç»å­˜åœ¨çš„ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥ç”¨&lt;code&gt;unset&lt;/code&gt;å‘½ä»¤å®Œæˆã€‚åœ¨æ¶‰åŠç¯å¢ƒå˜é‡åæ—¶ï¼Œéœ€è¦è®°ä½çš„ä¸€ç‚¹æ˜¯ï¼šå¦‚æœè¦ç”¨åˆ°ç¯å¢ƒå˜é‡ï¼Œä½¿ç”¨$ï¼Œå¦‚æœè¦æ“ä½œå˜é‡ï¼Œä¸ä½¿ç”¨$ã€‚ä¸€ä¸ªä¾‹å¤–å°±æ˜¯ä½¿ç”¨&lt;code&gt;printenv&lt;/code&gt;æ˜¾ç¤ºæŸä¸ªå˜é‡çš„å€¼ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;/etc/profileæ–‡ä»¶æ˜¯&lt;code&gt;bash shell&lt;/code&gt;é»˜è®¤çš„ä¸»å¯åŠ¨æ–‡ä»¶ï¼Œåªè¦ç™»å½•äº†&lt;strong&gt;Linux&lt;/strong&gt;ç³»ç»Ÿï¼Œ&lt;code&gt;bash&lt;/code&gt;å°±ä¼šæ‰§è¡Œ/etc/profileå¯åŠ¨æ–‡ä»¶ä¸­çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”¨æ¥å‘&lt;strong&gt;Linux&lt;/strong&gt;ç³»ç»Ÿæ·»åŠ æ–°ç”¨æˆ·çš„ä¸»è¦å·¥å…·æ˜¯&lt;code&gt;useradd&lt;/code&gt;,åˆ é™¤ç”¨æˆ·ä½¿ç”¨&lt;code&gt;userdel&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Vim&lt;/strong&gt;ç¼–è¾‘å™¨ä¸­&lt;code&gt;G&lt;/code&gt;è¡¨ç¤ºç§»åˆ°æœ€åä¸€è¡Œï¼Œ&lt;code&gt;num G&lt;/code&gt;è¡¨ç¤ºç§»åˆ°ç¬¬&lt;code&gt;num&lt;/code&gt;è¡Œï¼Œ&lt;code&gt;gg&lt;/code&gt;è¡¨ç¤ºç§»åˆ°ç¬¬ä¸€è¡Œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;echo&lt;/code&gt;å‘½ä»¤å¦‚æœæƒ³å°†æ–‡æœ¬å­—ç¬¦ä¸²å’Œå‘½ä»¤è¾“å‡ºæ˜¾ç¤ºåœ¨åŒä¸€è¡Œä¸­ï¼Œå¯ä»¥ç”¨&lt;code&gt;echo&lt;/code&gt;è¯­å¥çš„&lt;code&gt;-n&lt;/code&gt;å‚æ•°ã€‚éœ€è¦åœ¨å­—ç¬¦ä¸²çš„ä¸¤ä¾§ä½¿ç”¨å¼•å·ï¼Œä¿è¯è¦æ˜¾ç¤ºçš„å­—ç¬¦ä¸²å°¾éƒ¨æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨ç­‰å·å°†å€¼èµ‹ç»™ç”¨æˆ·å˜é‡ï¼Œåœ¨å˜é‡ã€ç­‰å·å’Œå€¼ä¹‹é—´ä¸èƒ½å‡ºç°ç©ºæ ¼ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥å°†å‘½ä»¤è¾“å‡ºèµ‹ç»™å˜é‡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åå¼•å·å­—ç¬¦(`)&lt;/li&gt;
&lt;li&gt;$()æ ¼å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é‡å®šå‘è¾“å‡ºæ—¶ï¼Œ&lt;code&gt;&amp;gt;&lt;/code&gt;ä¼šè¦†ç›–å·²æœ‰æ–‡ä»¶ï¼Œ&lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt;è¿½åŠ æ•°æ®&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¾“å…¥é‡å®šå‘å’Œè¾“å‡ºé‡å®šå‘æ­£å¥½ç›¸åï¼Œè¾“å…¥é‡å®šå‘å°†æ–‡ä»¶çš„å†…å®¹é‡å®šåˆ°å‘½ä»¤ï¼Œè€Œéå°†å‘½ä»¤çš„è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶ã€‚è¾“å…¥é‡å®šå‘çš„ç¬¦å·æ˜¯&lt;code&gt;&amp;lt;&lt;/code&gt;ï¼š&lt;code&gt;command &amp;lt; inputfile&lt;/code&gt;ã€‚ä¸€ä¸ªè®°å¿†æ–¹æ³•æ˜¯ï¼šåœ¨å‘½ä»¤è¡Œä¸Šï¼Œå‘½ä»¤æ€»åœ¨å·¦ä¾§ï¼Œè€Œé‡å®šå‘ç¬¦å·æŒ‡å‘æ•°æ®æµåŠ¨çš„æ–¹å‘ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨æ–¹æ‹¬å·è¿›è¡Œæ•°å­¦è¿ç®—ï¼Œåœ¨&lt;strong&gt;bash&lt;/strong&gt;ä¸­å°†ä¸€ä¸ªæ•°å­¦è¿ç®—ç»“æœèµ‹å€¼ç»™æŸä¸ªå˜é‡æ—¶ï¼Œå¯ä»¥ç”¨ç¾å…ƒç¬¦å’Œæ–¹æ‹¬å·&lt;code&gt;($[ operation ])&lt;/code&gt;å°†æ•°å­¦è¡¨è¾¾å¼å›´èµ·æ¥&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ç»“æ„åŒ–å‘½ä»¤&#34;&gt;ç»“æ„åŒ–å‘½ä»¤&lt;/h2&gt;
&lt;h3 id=&#34;ä½¿ç”¨if-thenè¯­å¥&#34;&gt;ä½¿ç”¨&lt;code&gt;if-then&lt;/code&gt;è¯­å¥&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;if-then&lt;/code&gt;è¯­å¥æ˜¯æœ€åŸºæœ¬çš„ç»“æ„åŒ–è¯­å¥ï¼Œå…¶æ ¼å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;if command
then 
    command
fi
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;bash shell&lt;/strong&gt;çš„è¯­å¥ä¼šè¿è¡Œ&lt;code&gt;if&lt;/code&gt;åé¢çš„å‘½ä»¤ï¼Œå¦‚æœè¯¥å‘½ä»¤çš„é€€å‡ºç æ˜¯0(è¡¨ç¤ºè¯¥å‘½ä»¤è¿è¡ŒæˆåŠŸ),ä½äº&lt;code&gt;then&lt;/code&gt;éƒ¨åˆ†çš„å‘½ä»¤å°±ä¼šè¢«æ‰§è¡Œï¼Œå¦åˆ™&lt;code&gt;then&lt;/code&gt;éƒ¨åˆ†çš„å‘½ä»¤ä¸ä¼šè¢«æ‰§è¡Œï¼Œ&lt;strong&gt;bash shell&lt;/strong&gt;ä¼šç»§ç»­æ‰§è¡Œè„šæœ¬ä¸­çš„ä¸‹ä¸€ä¸ªå‘½ä»¤ã€‚&lt;code&gt;fi&lt;/code&gt;è¯­å¥ç”¨æ¥è¡¨ç¤º&lt;code&gt;if-then&lt;/code&gt;è¯­å¥åˆ°æ­¤ç»“æŸã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä½¿ç”¨if-then-elseè¯­å¥&#34;&gt;ä½¿ç”¨&lt;code&gt;if-then-else&lt;/code&gt;è¯­å¥&lt;/h3&gt;
&lt;p&gt;åœ¨&lt;code&gt;if-then&lt;/code&gt;è¯­å¥ä¸­ï¼Œä¸ç®¡å‘½ä»¤æ˜¯å¦æˆåŠŸæ‰§è¡Œï¼Œéƒ½åªæœ‰ä¸€ç§é€‰æ‹©ã€‚å¦‚æœå‘½ä»¤è¿”å›ä¸€ä¸ªéé›¶é€€å‡ºçŠ¶æ€ç ï¼Œ&lt;code&gt;bash shell&lt;/code&gt;ä¼šç»§ç»­æ‰§è¡Œè„šæœ¬ä¸­çš„ä¸‹ä¸€æ¡å‘½ä»¤ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœèƒ½å¤Ÿæ‰§è¡Œå¦ä¸€ç»„å‘½ä»¤å°±å¥½äº†ï¼Œè¿™æ­£æ˜¯&lt;code&gt;if-then-else&lt;/code&gt;è¯­å¥çš„ä½œç”¨ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;if command
then  
     command
else
     command
fi
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸&lt;code&gt;if-then&lt;/code&gt;ç›¸ä¼¼ï¼ŒåŒºåˆ«å°±æ˜¯å½“&lt;code&gt;if&lt;/code&gt;è¯­å¥ä¸­çš„å‘½ä»¤è¿”å›éé›¶é€€å‡ºçŠ¶æ€ç æ—¶,&lt;code&gt;bash shell&lt;/code&gt;ä¼šæ‰§è¡Œ&lt;code&gt;else&lt;/code&gt;éƒ¨åˆ†ä¸­çš„å‘½ä»¤ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åµŒå¥—if&#34;&gt;åµŒå¥—&lt;code&gt;if&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;æœ‰æ—¶éœ€è¦æ£€æŸ¥è„šæœ¬ä»£ç ä¸­çš„å¤šç§æ¡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨åµŒå¥—çš„&lt;code&gt;if-then&lt;/code&gt;è¯­å¥ã€‚åµŒå¥—çš„&lt;code&gt;if-then&lt;/code&gt;è¯­å¥ä½äºä¸»&lt;code&gt;if-then-else&lt;/code&gt;è¯­å¥çš„&lt;code&gt;else&lt;/code&gt;ä»£ç å—ä¸­ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ls -d /home/NoSuchUser/
/home/NoSuchUser/
$
$ cat test5.sh
#!/bin/bash
# Testing nested ifs
#
testuser=NoSuchUser
#
if grep $testuser /etc/passwd
then
   echo &amp;quot;The user $testuser exists on this system.&amp;quot;
else
   echo &amp;quot;The user $testuser does not exist on this system.&amp;quot;
   if ls -d /home/$testuser/
   then
      echo &amp;quot;However, $testuser has a directory.&amp;quot;
   fi
fi
$
$ ./test5.sh
The user NoSuchUser does not exist on this system.
/home/NoSuchUser/
However, NoSuchUser has a directory.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯ä»¥ä½¿ç”¨&lt;code&gt;else&lt;/code&gt;éƒ¨åˆ†çš„å¦ä¸€ç§å½¢å¼:&lt;code&gt;elif&lt;/code&gt;ã€‚è¿™æ ·å°±ä¸ç”¨ä¹¦å†™å¤šä¸ª&lt;code&gt;if-then&lt;/code&gt;è¯­å¥äº†ï¼Œ&lt;code&gt;elif&lt;/code&gt;ä½¿ç”¨å¦ä¸€ä¸ª&lt;code&gt;if-then&lt;/code&gt;è¯­å¥å»¶ç»­&lt;code&gt;else&lt;/code&gt;éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;if command
then
    command
elif command
then
    more command
fi
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;elif&lt;/code&gt;è¯­å¥æä¾›äº†å¦ä¸€ä¸ªè¦æµ‹è¯•çš„å‘½ä»¤ï¼Œè¿™ç±»ä¼¼äºåŸå§‹çš„&lt;code&gt;if&lt;/code&gt;è¯­å¥è¡Œã€‚å¦‚æœ&lt;code&gt;elif&lt;/code&gt;åå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ç æ˜¯0ï¼Œåˆ™&lt;code&gt;bash&lt;/code&gt;ä¼šæ‰§è¡Œç¬¬äºŒä¸ª&lt;code&gt;then&lt;/code&gt;è¯­å¥éƒ¨åˆ†çš„å‘½ä»¤ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat test5.sh
#!/bin/bash
# Testing nested ifs - use elif &amp;amp; else
#
testuser=NoSuchUser
#
if grep $testuser /etc/passwd
then
echo &amp;quot;The user $testuser exists on this system.&amp;quot;
#
elif ls -d /home/$testuser
then
echo &amp;quot;The user $testuser does not exist on this system.&amp;quot;
echo &amp;quot;However, $testuser has a directory.&amp;quot;
#
else
echo &amp;quot;The user $testuser does not exist on this system.&amp;quot;
echo &amp;quot;And, $testuser does not have a directory.&amp;quot;
fi
$
$ ./test5.sh
/home/NoSuchUser
The user NoSuchUser does not exist on this system.
However, NoSuchUser has a directory.
$
$ sudo rmdir /home/NoSuchUser
[sudo] password for Christine:
$
$ ./test5.sh
ls: cannot access /home/NoSuchUser: No such file or directory
The user NoSuchUser does not exist on this system.
And, NoSuchUser does not have a directory.
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨&lt;code&gt;elif&lt;/code&gt;è¯­å¥ä¸­ï¼Œç´§è·Ÿå…¶åçš„&lt;code&gt;else&lt;/code&gt;è¯­å¥å±äº&lt;code&gt;elif&lt;/code&gt;ä»£ç å—ã€‚å®ƒä»¬å¹¶ä¸å±äºä¹‹å‰çš„&lt;code&gt;if-then&lt;/code&gt;ä»£ç å—&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¯ä»¥ç»§ç»­å°†å¤šä¸ª&lt;code&gt;elif&lt;/code&gt;è¯­å¥ä¸²èµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªå¤§çš„&lt;code&gt;if-then-elif&lt;/code&gt;åµŒå¥—ç»„åˆã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;if command1
then
    command set 1
elif command2
then
    command set 2
elif command3
then
    command set 3
elif command4
then
    command set 4
fi
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;æ¯å—å‘½ä»¤éƒ½ä¼šæ ¹æ®å‘½ä»¤æ˜¯å¦ä¼šè¿”å›é€€å‡ºçŠ¶æ€ç 0æ¥æ‰§è¡Œã€‚è®°ä½ï¼Œ&lt;code&gt;bash shell&lt;/code&gt;ä¼šä¾æ¬¡æ‰§è¡Œ&lt;code&gt;if&lt;/code&gt;è¯­å¥ï¼Œåªæœ‰ç¬¬ä¸€ä¸ªè¿”å›é€€å‡ºçŠ¶æ€ç 0çš„è¯­å¥ä¸­çš„&lt;code&gt;then&lt;/code&gt;éƒ¨åˆ†ä¼šè¢«æ‰§è¡Œã€‚&lt;/p&gt;
&lt;/blockquote&gt;</description>
    </item>
    
    <item>
      <title>Linuxå­¦ä¹ ç¬”è®°ï¼ˆä¹ï¼‰</title>
      <link>https://taoyan.netlify.app/post/2017-11-26.linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%9D/</link>
      <pubDate>Sun, 26 Nov 2017 21:19:05 +0000</pubDate>
      <guid>https://taoyan.netlify.app/post/2017-11-26.linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B9%9D/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://github.com/YTLogos/Pic_blog/blob/master/B6jBAEJ3k8.png?raw=true&#34; alt=&#34;mark&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;sedå®ä¾‹è®²è§£&#34;&gt;sedå®ä¾‹è®²è§£&lt;/h2&gt;
&lt;p&gt;ä¸Šç¯‡
&lt;a href=&#34;https://ytlogos.github.io/2017/11/20/Linux%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%ef%bc%88%e5%85%ab%ef%bc%89/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;åšå®¢&lt;/a&gt;å·²ç»è®²è§£äº†sedçš„åŸºæœ¬å‘½ä»¤åŠå…¶ä½¿ç”¨æ–¹æ³•ï¼Œsedæœ‰ä¸¤ç§æ–¹å¼è¿›è¡Œè°ƒç”¨ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sed [-n] [-e] &#39;command(s)&#39; files
sed [-n] -f scriptfile files
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;sedå„ä¸ªé€‰é¡¹&#34;&gt;sedå„ä¸ªé€‰é¡¹&lt;/h2&gt;
&lt;h3 id=&#34;æ›¿æ¢å‘½ä»¤så‘½ä»¤&#34;&gt;æ›¿æ¢å‘½ä»¤ï¼šså‘½ä»¤&lt;/h3&gt;
&lt;p&gt;sedçš„æ›¿æ¢å‘½ä»¤è¯­æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;s/pattern/replacement/
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç°åœ¨æœ‰ä¸€ä¸ªåŒ…å«3åˆ—10è¡Œçš„æ•°æ®é›†chroms.txtï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ head -n 3 chroms.txt
chrom1  3214482 3216968
chrom1  3216025 3216968
chrom1  3216022 3216024
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬è¦å°†chromæ›¿æ¢æˆchrï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sed &#39;s/chrom/chr/&#39; chroms.txt |head -n 3
chr1    3214482 3216968
chr1    3216025 3216968
chr1    3216022 3216024
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ç®¡æ˜¯patternè¿˜æ˜¯replacementéƒ½æ˜¯è¢«ä¸¤ä¸ªæ–œæ /åŒ…å›´ï¼Œå«åšå®šç•Œç¬¦ï¼Œå®šç•Œç¬¦ä¸ä»…ä»…åªæœ‰/ï¼Œè¿˜æœ‰ï¼š|ç­‰
sedæœ‰éƒ¨åˆ†å‘½ä»¤ä¼šç›´æ¥ä¿®æ”¹åŸæ–‡ä»¶ï¼Œæ‰€ä»¥ä½¿ç”¨è¿‡ç¨‹ä¸­æœ€åå°†ç»“æœredirectåˆ°ä¸€ä¸ªæ–°çš„æ–‡ä»¶&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;-né€‰é¡¹å’Œpå‘½ä»¤ä¸€èµ·ä½¿ç”¨è¡¨ç¤ºåªæ‰“å°é‚£äº›å‘ç”Ÿæ›¿æ¢çš„è¡Œ&#34;&gt;-né€‰é¡¹å’Œpå‘½ä»¤ä¸€èµ·ä½¿ç”¨è¡¨ç¤ºåªæ‰“å°é‚£äº›å‘ç”Ÿæ›¿æ¢çš„è¡Œ&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;$ cat company.txt
baidu 100 5000
sohu 100 4500
google 110 5000
guge 50 3000
$ sed -n &#39;s/u/U/p&#39; company.txt
baidU 100 5000
sohU 100 4500
gUge 50 3000
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;é€‰é¡¹-iä¼šåŒ¹é…æ–‡ä»¶ä¸­æ¯ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªåŒ¹é…&#34;&gt;é€‰é¡¹-iä¼šåŒ¹é…æ–‡ä»¶ä¸­æ¯ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªåŒ¹é…&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;$ cat company.txt
baidu 100 5000
sohu 100 4500
google 110 5000
guge 50 3000
$ sed -i &#39;s/g/G/&#39; company.txt
$ cat company.txt
baidu 100 5000
sohu 100 4500
Google 110 5000
Guge 50 3000
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;å…¨é¢æ›¿æ¢æ ‡è®°g&#34;&gt;å…¨é¢æ›¿æ¢æ ‡è®°g&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨åç¼€/gæ ‡è®°ä¼šæ›¿æ¢æ¯ä¸€è¡Œä¸­çš„æ‰€æœ‰åŒ¹é…&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sed &#39;s/g/G/g&#39; company.txt
baidu 100 5000
sohu 100 4500
GooGle 110 5000
GuGe 50 3000
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ä»ç¬¬nä¸ªåŒ¹é…å¤„å¼€å§‹åŒ¹é…æ ‡è®°ng&#34;&gt;ä»ç¬¬nä¸ªåŒ¹é…å¤„å¼€å§‹åŒ¹é…æ ‡è®°ng&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;$ sed &#39;s/g/G/2g&#39; company.txt
baidu 100 5000
sohu 100 4500
gooGle 110 5000
guGe 50 3000
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢æ˜¯ä»ç¬¬äºŒä¸ªåŒ¹é…å¤„å¼€å§‹æ›¿æ¢ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªgæ²¡æœ‰å‘ç”Ÿæ›¿æ¢&lt;/p&gt;
&lt;h4 id=&#34;-eé€‰é¡¹è°ƒç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼&#34;&gt;-Eé€‰é¡¹è°ƒç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼&lt;/h4&gt;
&lt;p&gt;sedé»˜è®¤ä½¿ç”¨çš„æ—¶POSIXçš„åŸºæœ¬æ­£åˆ™è¡¨è¾¾å¼ï¼ˆBREï¼‰ï¼Œé€šè¿‡é€‰é¡¹-Eæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ‰©å±•ç‰ˆçš„æ­£åˆ™è¡¨è¾¾å¼ï¼ˆEREï¼‰ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ï¼šchr1:28427874-28425431,åˆ†åˆ«ä»£è¡¨æŸ“è‰²ä½“ï¼ˆchrï¼‰ã€start positionä»¥åŠend positionï¼Œæˆ‘ä»¬è¦å°†è¿™ä¸‰è€…åˆ†ç¦»å¼€æ¥å½¢æˆ3åˆ—ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ echo &#39;chr1:28427874-28425431&#39;|sed -E &#39;s/^(chr[^:]+):([0-9]+)-([0-9]+)/\1\t\2\t\3/&#39;
chr1    28427874        28425431
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;çœ‹èµ·æ¥æœ‰ç‚¹å¤æ‚ï¼Œä¸»è¦æ˜¯æ¶‰åŠåˆ°æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ‹†å¼€æ¥çœ‹çš„è¯ä¹Ÿä¸å¤æ‚ï¼Œç¬¬ä¸€éƒ¨åˆ†^(chr[^:]+):,é¦–å…ˆåŒ¹é…ä¸€è¡Œçš„å¼€å§‹ï¼Œæ¥ç€åŒ¹é…ï¼ˆï¼‰é‡Œé¢çš„ä¸€åˆ‡ã€‚æ€»ç»“èµ·æ¥å°±æ˜¯è¯¥éƒ¨åˆ†åŒ¹é…ä»¥chrå¼€å¤´ä»¥åŠè‡³å°‘ä¸€ä¸ªé:çš„å­—ç¬¦ï¼Œä¸€æ¬¡åŒ¹é…åˆ°:å°±ç»“æŸäº†ã€‚ç¬¬äºŒéƒ¨åˆ†å’Œç¬¬ä¸‰éƒ¨åˆ†éƒ½æ˜¯åŒ¹é…è‡³å°‘ä¸€ä¸ªæ•°å­—ã€‚æœ€åå°†åŒ¹é…åˆ°çš„ä¸‰éƒ¨åˆ†å½¢æˆä¸‰åˆ—ã€‚
è¦å®ç°è¿™ä¸€åŠŸèƒ½è¿˜æœ‰sedå¾ˆå¤šæ–¹æ³•ï¼Œæ¯”å¦‚æˆ‘ä»¬åªéœ€è¦å°†:å’Œ-æ›¿æ¢æˆä¸€ä¸ªåˆ¶è¡¨ç¬¦å°±è¡Œäº†ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ echo &#39;chr1:28427874-28425431&#39;|sed &#39;s/[:-]/\t/g&#39;
chr1    28427874        28425431
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿˜å¯ä»¥æ‹†æˆå¤šä¸ªå‘½ä»¤å®Œæˆï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ echo &#39;chr1:28427874-28425431&#39;|sed &#39;s/:/\t/g&#39; | sed &#39;s/-/\t/g&#39;
chr1    28427874        28425431
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿˜å¯ä»¥é€šè¿‡-eé€‰é¡¹æ¥æ·»åŠ å¤šä¸ªå‘½ä»¤&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ echo &#39;chr1:28427874-28425431&#39;|sed -e &#39;s/:/\t/g&#39; -e &#39;s/-/\t/g&#39;
chr1    28427874        28425431
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;æ‰“å°ç‰¹å®šçš„å‡ è¡Œ&#34;&gt;æ‰“å°ç‰¹å®šçš„å‡ è¡Œ&lt;/h4&gt;
&lt;p&gt;è¿™ä¸ªç±»ä¼¼äºheadï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æ‰“å°ç¬¬måˆ°nè¡Œï¼Œä½¿ç”¨&amp;rsquo;m,np&amp;rsquo;è¿›è¡ŒåŒ¹é…&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sed -n &#39;2,5p&#39; chroms.txt
chrom1  3216025 3216968
chrom1  3216022 3216024
chrom1  3671349 3671498
chrom1  3214482 3216021
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;åˆ é™¤å‘½ä»¤då‘½ä»¤&#34;&gt;åˆ é™¤å‘½ä»¤ï¼šdå‘½ä»¤&lt;/h3&gt;
&lt;h4 id=&#34;åˆ é™¤ç©ºç™½è¡Œ&#34;&gt;åˆ é™¤ç©ºç™½è¡Œ&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;$ sed &#39;/^$/d&#39; file
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;æŒ‡å®šåˆ é™¤ç¬¬å‡ è¡Œ&#34;&gt;æŒ‡å®šåˆ é™¤ç¬¬å‡ è¡Œ&lt;/h4&gt;
&lt;p&gt;æ¯”å¦‚åˆ é™¤ç¬¬äºŒè¡Œ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat company.txt
baidu 100 5000
sohu 100 4500
google 110 5000
guge 50 3000
$ sed &#39;2d&#39; company.txt
baidu 100 5000
google 110 5000
guge 50 3000
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;åˆ é™¤æŒ‡å®šçš„ç¬¬å‡ è¡Œä»¥åŠåé¢æ‰€æœ‰è¡Œ&#34;&gt;åˆ é™¤æŒ‡å®šçš„ç¬¬å‡ è¡Œä»¥åŠåé¢æ‰€æœ‰è¡Œ&lt;/h4&gt;
&lt;p&gt;æ¯”å¦‚åˆ é™¤ç¬¬äºŒè¡ŒåŠå…¶åé¢æ‰€æœ‰è¡Œ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sed &#39;2,$d&#39; company.txt
baidu 100 5000
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»ä¸Šé¢å¾ˆå®¹æ˜“çŸ¥é“$dè¡¨ç¤ºæœ€åä¸€è¡Œï¼ŒåŒæ—¶åˆ é™¤ç¬¬mè¡Œåˆ°ç¬¬nè¡Œä¹Ÿå¾ˆå®¹æ˜“å®ç°äº†&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#åˆ é™¤æœ€åä¸€è¡Œ
$ sed &#39;$d&#39; company.txt
baidu 100 5000
sohu 100 4500
google 110 5000
#åˆ é™¤ç¬¬2åˆ°3è¡Œ
$ sed &#39;2,3d&#39; company.txt
baidu 100 5000
guge 50 3000
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;åŒ¹é…åˆ é™¤&#34;&gt;åŒ¹é…åˆ é™¤&lt;/h4&gt;
&lt;p&gt;æ¯”å¦‚æˆ‘ä»¬éœ€è¦åˆ é™¤æ‰€æœ‰å¼€å¤´æ˜¯gçš„è¡Œ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sed &#39;/^g/&#39;d company.txt
baidu 100 5000
sohu 100 4500
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„è¿™é‡Œä¹‹é—´åŒ¹é…ç”¨&#39;&amp;lsquo;å›´ä½ï¼Œdåˆ™ä¸ç”¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;å·²åŒ¹é…å­—ç¬¦ä¸²æ ‡è®°&#34;&gt;å·²åŒ¹é…å­—ç¬¦ä¸²æ ‡è®°&amp;amp;&lt;/h3&gt;
&lt;p&gt;å•¥æ„æ€å‘¢ï¼Œå°±æ˜¯&amp;amp;ä»£è¡¨å·²åŒ¹é…çš„é¡¹&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sed &#39;s/\w\+/[&amp;amp;]/g&#39; company.txt
[baidu] [100] [5000]
[sohu] [100] [4500]
[google] [110] [5000]
[guge] [50] [3000]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ­£åˆ™è¡¨è¾¾å¼\w\+åŒ¹é…æ¯ä¸€ä¸ªå•è¯ï¼Œä½¿ç”¨[&amp;amp;]æ›¿æ¢å®ƒï¼Œ&amp;amp;å¯¹åº”äºä¹‹å‰åŒ¹é…åˆ°çš„æ¯ä¸ªå•è¯&lt;/p&gt;
&lt;h3 id=&#34;å­ä¸²åŒ¹é…æ ‡è®°1&#34;&gt;å­ä¸²åŒ¹é…æ ‡è®°\1&lt;/h3&gt;
&lt;p&gt;å³åŒ¹é…ç»™å®šæ ·å¼çš„å…¶ä¸­ä¸€éƒ¨åˆ†,å¯¹äºåŒ¹é…åˆ°çš„ç¬¬ä¸€ä¸ªå­ä¸²å°±æ ‡è®°ä¸º\1ï¼Œä»¥æ­¤ç±»æ¨åŒ¹é…åˆ°çš„ç¬¬äºŒä¸ªå­ä¸²å°±æ˜¯\2&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ echo this is digit 7 in a number|sed &#39;s/digit \([0-9]\)/\1/&#39;
this is 7 in a number
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;\(..\)ç”¨äºåŒ¹é…å­ä¸²æ•°å­—ï¼Œä¸Šè¿°å‘½ä»¤ä¸­digit 7è¢«åŒ¹é…åˆ°çš„æ˜¯å­ä¸²æ˜¯7
å†ä¸¾ä¸ªä¾‹å­&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ echo aaa BBB |sed &#39;s/\([a-z]\+\) \([A-Z]\+\)/\2 \1/&#39;
BBB aaa
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸Šè¿°å‘½ä»¤ä¸­åŒ¹é…åˆ°çš„å­ä¸²åˆ†åˆ«æ˜¯aaaã€BBBï¼Œ\2è¡¨ç¤ºBBBï¼Œ\1è¡¨ç¤ºaaaã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¼•ç”¨&#34;&gt;å¼•ç”¨&lt;/h3&gt;
&lt;p&gt;sedè¡¨è¾¾å¼å¯ä»¥ä½¿ç”¨å•å¼•å·æ¥å¼•ç”¨ï¼Œä½†æ˜¯å¦‚æœè¡¨è¾¾å¼å†…éƒ¨åŒ…å«å˜é‡å­—ç¬¦ä¸²ï¼Œå°±éœ€è¦ä½¿ç”¨åŒå¼•å·ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;test=hello 
echo hello WORLD | sed &amp;quot;s/$test/HELLO&amp;quot; 
HELLO WORLD
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¸‹ä¸€ä¸ªnå‘½ä»¤&#34;&gt;ä¸‹ä¸€ä¸ªï¼šnå‘½ä»¤&lt;/h3&gt;
&lt;p&gt;å¦‚æœtestè¢«åŒ¹é…ï¼Œåˆ™ç§»åŠ¨åˆ°åŒ¹é…è¡Œçš„ä¸‹ä¸€è¡Œï¼Œæ›¿æ¢è¿™ä¸€è¡Œçš„aaï¼Œå˜ä¸ºbbï¼Œå¹¶æ‰“å°è¯¥è¡Œç„¶åç»§ç»­&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sed &#39;/test/{ n; s/aa/bb/; }&#39; file
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å˜å½¢yå‘½ä»¤&#34;&gt;å˜å½¢ï¼šyå‘½ä»¤&lt;/h3&gt;
&lt;p&gt;æŠŠ1~10è¡Œå†…æ‰€æœ‰çš„abcdeè½¬ä¸ºå¤§å†™ï¼Œæ³¨æ„æ­£åˆ™è¡¨è¾¾å¼å…ƒå­—ç¬¦ä¸èƒ½ä½¿ç”¨è¯¥å‘½ä»¤ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sed &#39;1,10y/abcde/ABCDE/&#39; file
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;é€€å‡ºqå‘½ä»¤&#34;&gt;é€€å‡ºï¼šqå‘½ä»¤&lt;/h3&gt;
&lt;p&gt;æ‰“å°å®Œç¬¬10è¡Œåé€€å‡ºsed&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sed &#39;10q&#39; file
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ‰“å°å¥‡æ•°è¡Œæˆ–è€…å¶æ•°è¡Œ&#34;&gt;æ‰“å°å¥‡æ•°è¡Œæˆ–è€…å¶æ•°è¡Œ&lt;/h3&gt;
&lt;p&gt;æœ‰ä¸¤ç§æ–¹æ³•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#å¥‡æ•°è¡Œ
$ $ sed -n &#39;p;n&#39; company.txt
baidu 100 5000
google 110 5000
#å¶æ•°è¡Œ
$ sed -n &#39;n;p&#39; company.txt
sohu 100 4500
guge 50 3000
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦ä¸€ç§æ–¹æ³•&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#å¥‡æ•°è¡Œ
$ sed -n &#39;1~2p&#39; company.txt
baidu 100 5000
google 110 5000
#å¶æ•°è¡Œ
$ sed -n &#39;2~2p&#39; company.txt
sohu 100 4500
guge 50 3000
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;sedå†…å®¹ååˆ†ä¸°å¯Œï¼Œè¿™é‡Œåªæ˜¯ç¨å¾®ä»‹ç»ä¸€äº›ä¸»è¦åŠŸèƒ½ï¼Œæƒ³è¦æ·±å…¥å­¦ä¹ çš„è¯å¯å‚è€ƒ
&lt;a href=&#34;http://www.gnu.org/software/sed/manual/sed.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ³¨ï¼š
æœ¬æ–‡å‚è€ƒäº†sedçš„
&lt;a href=&#34;http://www.gnu.org/software/sed/manual/sed.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;ä»¥åŠLinuxå‘½ä»¤å¤§å…¨ä¸­çš„
&lt;a href=&#34;http://man.linuxde.net/sed&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sed&lt;/a&gt;å‘½ä»¤ç”¨æ³•&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Linuxå­¦ä¹ ç¬”è®°ï¼ˆå…«ï¼‰</title>
      <link>https://taoyan.netlify.app/post/2017-11-20.linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%85%AB/</link>
      <pubDate>Mon, 20 Nov 2017 17:19:05 +0000</pubDate>
      <guid>https://taoyan.netlify.app/post/2017-11-20.linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%85%AB/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://github.com/YTLogos/Pic_blog/blob/master/B6jBAEJ3k8.png?raw=true&#34; alt=&#34;mark&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;sed&#34;&gt;sed&lt;/h2&gt;
&lt;p&gt;sedæ˜¯ä¸€ç§åŠŸèƒ½å¼ºå¤§çš„æµå¼æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œèƒ½å¤Ÿå®Œç¾ç»“åˆæ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨ã€‚å¤„ç†æ—¶sedå°†å½“å‰å¤„ç†çš„è¡Œå‚¨å­˜åœ¨ä¸´æ—¶ç¼“å†²åŒºä¸­ï¼Œç§°ä¸ºæ¨¡å¼ç©ºé—´ï¼ˆpattern spaceï¼‰ï¼Œæ¥ç€sedå‘½ä»¤å¤„ç†ç¼“å†²åŒºçš„å†…å®¹ï¼Œå¤„ç†å®Œæˆåæ‰“å°åˆ°å±å¹•ï¼Œæ¥ç€ç»§ç»­å¤„ç†ä¸‹ä¸€è¡Œï¼Œä¸æ–­é‡å¤ç›´åˆ°æ–‡ä»¶ç»“æŸã€‚&lt;/p&gt;
&lt;h2 id=&#34;sedçš„ç”¨é€”&#34;&gt;sedçš„ç”¨é€”&lt;/h2&gt;
&lt;p&gt;sedç”¨é€”ååˆ†å¹¿æ³›ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ–‡æœ¬æ›¿æ¢&lt;/li&gt;
&lt;li&gt;é€‰æ‹©æ€§çš„æ–‡ä»¶è¾“å‡º&lt;/li&gt;
&lt;li&gt;ä»æ–‡æœ¬ç‰¹å®šä½ç½®è¿›è¡Œç¼–è¾‘&lt;/li&gt;
&lt;li&gt;æ— äº¤äº’å¼çš„æ–‡æœ¬ç¼–è¾‘&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å·¥ä½œæµ&#34;&gt;å·¥ä½œæµ&lt;/h2&gt;
&lt;p&gt;sedéµå¾ªç®€å•çš„å·¥ä½œæµï¼šè¯»å–ã€æ‰§è¡Œä»¥åŠæ˜¾ç¤ºï¼Œä¸‹å›¾æ˜¾ç¤ºsedçš„å·¥ä½œæµç¨‹ï¼š
&lt;img src=&#34;https://github.com/YTLogos/Pic_blog/blob/master/4556AfHI7k.png?raw=true&#34; alt=&#34;mark&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¯»å–ï¼šsedä»è¾“å…¥æµï¼ˆæ–‡ä»¶ã€ç®¡é“ã€æ ‡å‡†è¾“å…¥STDINç­‰ï¼‰ä¸­è¯»å–ä¸€è¡Œå¹¶ä¸”å­˜å‚¨åˆ°æ¨¡å¼ç©ºé—´çš„å†…éƒ¨ç¼“å†²åŒº&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œï¼šé»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰çš„sedå‘½ä»¤éƒ½åœ¨æ¨¡å¼ç©ºé—´ä¸­æŒ‰é¡ºåºæ‰§è¡Œï¼Œé™¤éæŒ‡å®šäº†è¡Œçš„åœ°å€ï¼Œå¦åˆ™sedå‘½ä»¤å°†ä¼šåœ¨æ‰€æœ‰çš„è¡Œä¸Šä¾æ¬¡æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;æ˜¾ç¤ºï¼šå‘é€ä¿®æ”¹åçš„å†…å®¹åˆ°è¾“å‡ºæµï¼Œä¹‹åæ¨¡å¼ç©ºé—´å°†è¢«æ¸…ç©ºï¼Œç»§ç»­é‡å¤ä¸Šè¿°è¿‡ç¨‹ç›´åˆ°æ–‡ä»¶ç»“æŸ&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ³¨æ„äº‹é¡¹&#34;&gt;æ³¨æ„äº‹é¡¹&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;æ¨¡å¼ç©ºé—´ï¼ˆpattern spaceï¼‰æ˜¯ä¸€å—æ´»è·ƒçš„ç¼“å†²åŒºï¼Œåœ¨sedç¼–è¾‘å™¨æ‰§è¡Œå‘½ä»¤æ—¶å®ƒä¼šä¿å­˜å¾…æ£€æŸ¥çš„æ–‡æœ¬&lt;/li&gt;
&lt;li&gt;é»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰çš„sedå‘½ä»¤éƒ½æ˜¯åœ¨æ¨¡å¼ç©ºé—´ä¸­æ‰§è¡Œï¼Œå› æ­¤è¾“å…¥æ–‡ä»¶ä¸ä¼šå‘ç”Ÿæ”¹å˜&lt;/li&gt;
&lt;li&gt;å¦å¤–ä¸€ä¸ªç¼“å†²åŒºæ˜¯ä¿æŒç©ºé—´ï¼ˆhold bufferï¼‰ï¼Œåœ¨å¤„ç†æ¨¡å¼ç©ºé—´ä¸­çš„æŸäº›è¡Œæ—¶ï¼Œå¯ä»¥åˆ©ç”¨ä¿æŒç©ºé—´æ¥ä¸´æ—¶ä¿å­˜ä¸€äº›è¡Œï¼Œåœ¨æ¯ä¸€ä¸ªå¾ªç¯ç»“æŸçš„æ—¶å€™ï¼Œsedå°†ä¼šç§»é™¤æ¨¡å¼ç©ºé—´çš„å†…å®¹ï¼Œä½†æ˜¯ä¿æŒç©ºé—´çš„å†…å®¹åœ¨æ‰€æœ‰å¾ªç¯è¿‡ç¨‹ä¸­æ˜¯æŒä¹…å­˜å‚¨çš„ï¼Œsedå‘½ä»¤æ— æ³•ç›´æ¥åœ¨ä¿æŒç©ºé—´ä¸­æ‰§è¡Œï¼Œå› æ­¤sedå…è®¸æ•°æ®åœ¨æ¨¡å¼ç©ºé—´ä¸ä¿æŒç©ºé—´ä¹‹é—´åˆ‡æ¢&lt;/li&gt;
&lt;li&gt;åˆå§‹æƒ…å†µä¸‹æ¨¡å¼ç©ºé—´å’Œä¿æŒç©ºé—´éƒ½æ˜¯ç©ºçš„&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰æä¾›è¾“å…¥æ–‡ä»¶çš„è¯sedå°†ä¼šä»æ ‡å‡†è¾“å…¥æ¥æ”¶è¯·æ±‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰æä¾›åœ°å€èŒƒå›´çš„è¯ï¼Œé»˜è®¤æƒ…å†µä¸‹sedå°†å¯¹æ‰€æœ‰çš„è¡Œè¿›è¡Œæ“ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;sedçš„é€‰å‹å‘½ä»¤æ›¿æ¢æ ‡è®°&#34;&gt;sedçš„é€‰å‹ã€å‘½ä»¤ã€æ›¿æ¢æ ‡è®°&lt;/h2&gt;
&lt;p&gt;sedä½œä¸ºä¸€ä¸ªå¼ºå¤§çš„æµå¼ç¼–è¾‘å™¨ï¼Œå…·æœ‰å…¶ç‰¹æœ‰çš„æ ¼å¼&lt;/p&gt;
&lt;h3 id=&#34;sedå‘½ä»¤æ ¼å¼&#34;&gt;sedå‘½ä»¤æ ¼å¼&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;sed [options] &#39;commands&#39; file(s)
sed [options] -f scriptfile file(s)
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;é€‰é¡¹&#34;&gt;é€‰é¡¹&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;-eï¼šä»¥é€‰é¡¹ä¸­æŒ‡å®šçš„scriptæ¥å¤„ç†è¾“å…¥çš„æ–‡æœ¬æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;-fï¼šä»¥é€‰é¡¹ä¸­æŒ‡å®šçš„scriptæ–‡æœ¬æ¥å¤„ç†è¾“å…¥çš„æ–‡æœ¬æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;-næˆ–è€…&amp;ndash;quietæˆ–è€…&amp;ndash;silentï¼šä»…æ˜¾ç¤ºscriptå¤„ç†åçš„ç»“æœ&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;sedå‘½ä»¤&#34;&gt;sedå‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;a\ï¼šåœ¨å½“å‰è¡Œä¸‹é¢æ’å…¥æ–‡æœ¬&lt;/li&gt;
&lt;li&gt;i\ï¼šåœ¨å½“å‰è¡Œä¸Šé¢æ’å…¥æ–‡æœ¬&lt;/li&gt;
&lt;li&gt;c\ï¼šå°†é€‰å®šçš„è¡Œæ”¹ä¸ºæ–°çš„ç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;dï¼šåˆ é™¤é€‰æ‹©çš„è¡Œ&lt;/li&gt;
&lt;li&gt;Dï¼šåˆ é™¤æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œ&lt;/li&gt;
&lt;li&gt;sï¼šæ›¿æ¢æŒ‡å®šå­—ç¬¦&lt;/li&gt;
&lt;li&gt;hï¼šæ‹·è´æ¨¡æ¿å—ä¸­çš„å†…å®¹åˆ°å†…å­˜ä¸­çš„ç¼“å†²åŒº&lt;/li&gt;
&lt;li&gt;Hï¼šè¿½åŠ æ¨¡æ¿å—ä¸­çš„å†…å®¹åˆ°å†…å­˜ä¸­çš„ç¼“å†²åŒº&lt;/li&gt;
&lt;li&gt;gï¼šè·å–ç¼“å†²åŒºçš„å†…å®¹å¹¶æ›¿ä»£å½“å‰æ¨¡æ¿å—çš„å†…å®¹&lt;/li&gt;
&lt;li&gt;Gï¼šè·å–ç¼“å­˜åŒºçš„å†…å®¹ï¼Œå¹¶è¿½åŠ åˆ°å½“å‰æ¨¡æ¿å—æ–‡æœ¬åé¢&lt;/li&gt;
&lt;li&gt;lï¼šåˆ—å‡ºä¸èƒ½æ‰“å°å­—ç¬¦çš„æ¸…å•&lt;/li&gt;
&lt;li&gt;nï¼šè¯»å–ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œï¼Œå¹¶ç”¨ä¸‹ä¸€ä¸ªå‘½ä»¤å¤„ç†æ–°çš„è¡Œè€Œä¸æ˜¯ç”¨ç¬¬ä¸€ä¸ªå‘½ä»¤&lt;/li&gt;
&lt;li&gt;Nï¼šè¿½åŠ ä¸‹ä¸€ä¸ªè¾“å…¥è¡Œåˆ°æ¨¡æ¿å—åé¢å¹¶åœ¨ä¸¤è€…é—´åµŒå…¥ä¸€ä¸ªæ–°è¡Œï¼Œæ”¹å˜å½“å‰è¡Œå·ç &lt;/li&gt;
&lt;li&gt;pï¼šæ‰“å°æ¨¡æ¿å—çš„è¡Œ&lt;/li&gt;
&lt;li&gt;Pï¼šæ‰“å°æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œ&lt;/li&gt;
&lt;li&gt;qï¼šé€€å‡ºsed&lt;/li&gt;
&lt;li&gt;b labelï¼šåˆ†æ”¯åˆ°è„šæœ¬ä¸­å¸¦æœ‰æ ‡è®°çš„åœ°æ–¹ï¼Œå¦‚æœåˆ†æ”¯ä¸å­˜åœ¨åˆ™åˆ†æ”¯åˆ°è„šæœ¬çš„æœ«å°¾&lt;/li&gt;
&lt;li&gt;r fileï¼šä»fileä¸­è¯»å–è¡Œ&lt;/li&gt;
&lt;li&gt;t tableï¼šifåˆ†æ”¯ï¼Œä»æœ€åä¸€è¡Œå¼€å§‹ï¼Œæ¡ä»¶ä¸€æ—¦æ»¡è¶³æˆ–è€…Tã€tå‘½ä»¤ï¼Œå°†å¯¼è‡´åˆ†æ”¯åˆ°å¸¦æœ‰æ ‡å·çš„å‘½ä»¤å¤„æˆ–è€…åˆ°è„šæœ¬çš„æœ«å°¾&lt;/li&gt;
&lt;li&gt;T tableï¼šé”™è¯¯åˆ†æ”¯ï¼Œä»æœ€åä¸€è¡Œå¼€å§‹ï¼Œä¸€æ—¦å‘ç”Ÿé”™è¯¯æˆ–è€…Tã€tå‘½ä»¤ï¼Œå°†å¯¼è‡´åˆ†æ”¯åˆ°å¸¦æœ‰æ ‡å·çš„å‘½ä»¤å¤„æˆ–è€…åˆ°è„šæœ¬çš„æœ«å°¾&lt;/li&gt;
&lt;li&gt;w fileï¼šå†™å¹¶è¿½åŠ åˆ°fileæœ«å°¾&lt;/li&gt;
&lt;li&gt;W fileï¼šå†™å¹¶è¿½åŠ æ¨¡æ¿å—çš„ç¬¬ä¸€è¡Œåˆ°fileæœ«å°¾&lt;/li&gt;
&lt;li&gt;ï¼ï¼šè¡¨ç¤ºåé¢çš„å‘½ä»¤å¯¹æ‰€æœ‰æ²¡æœ‰è¢«é€‰å®šçš„è¡Œå‘ç”Ÿä½œç”¨&lt;/li&gt;
&lt;li&gt;=ï¼šæ‰“å°å½“å‰è¡Œå·ç &lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;sedæ›¿æ¢æ ‡è®°&#34;&gt;sedæ›¿æ¢æ ‡è®°&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;gï¼šè¡¨ç¤ºè¡Œå†…å…¨é¢æ›¿æ¢&lt;/li&gt;
&lt;li&gt;pï¼šè¡¨ç¤ºæ‰“å°è¡Œ&lt;/li&gt;
&lt;li&gt;wï¼šè¡¨ç¤ºå°†è¡Œå†™å…¥ä¸€ä¸ªæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;xï¼šè¡¨ç¤ºäº’æ¢æ¨¡æ¿å—ä¸­çš„æ–‡æœ¬å’Œç¼“å†²åŒºçš„æ–‡æœ¬&lt;/li&gt;
&lt;li&gt;yï¼šè¡¨ç¤ºå°†ä¸€ä¸ªå­—ç¬¦ç¿»è¯‘ä¸ºå¦å¤–çš„å­—ç¬¦ï¼ˆä¸ç”¨äºæ­£åˆ™è¡¨è¾¾å¼ï¼‰&lt;/li&gt;
&lt;li&gt;\lï¼šå­ä¸²åŒ¹é…æ ‡è®°&lt;/li&gt;
&lt;li&gt;&amp;amp;ï¼šå·²åŒ¹é…å­—ç¬¦ä¸²æ ‡è®°&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;sedå…ƒå­—ç¬¦é›†å°±æ˜¯ä¸€äº›æ­£åˆ™è¡¨è¾¾å¼&#34;&gt;sedå…ƒå­—ç¬¦é›†ï¼ˆå°±æ˜¯ä¸€äº›æ­£åˆ™è¡¨è¾¾å¼ï¼‰&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;^ï¼šåŒ¹é…è¡Œçš„å¼€å§‹ï¼Œå¦‚/^sed/åŒ¹é…æ‰€æœ‰ä»¥sedå¼€å¤´çš„è¡Œ&lt;/li&gt;
&lt;li&gt;$ï¼šåŒ¹é…è¡Œç»“æŸï¼Œå¦‚/sed$/åŒ¹é…æ‰€æœ‰ä»¥sedç»“å°¾çš„è¡Œ&lt;/li&gt;
&lt;li&gt;.ï¼šåŒ¹é…ä¸€ä¸ªéæ¢è¡Œç¬¦çš„ä»»æ„å­—ç¬¦ï¼Œå¦‚/s.d/åŒ¹é…åœ¨sdä¹‹é—´æ¥ä¸€ä¸ªä»»æ„å­—ç¬¦&lt;/li&gt;
&lt;li&gt;*ï¼šåŒ¹é…0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œå¦‚/*sed/åŒ¹é…æ‰€æœ‰æ¨¡æ¿æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦åæ¥sedçš„è¡Œ&lt;/li&gt;
&lt;li&gt;[]ï¼šåŒ¹é…ä¸€ä¸ªæŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚/[sH]ed/åŒ¹é…sedå’ŒHed&lt;/li&gt;
&lt;li&gt;[^]ï¼šåŒ¹é…ä¸€ä¸ªä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚/[^A-RT-Z]ed/åŒ¹é…ä¸åŒ…å«A-Rå’ŒT-Zçš„ä¸€ä¸ªå­—ç¬¦å¼€å¤´ç´§è·Ÿsedçš„è¡Œ&lt;/li&gt;
&lt;li&gt;\(..\)ï¼šåŒ¹é…å­ä¸²ï¼Œä¿å­˜åŒ¹é…çš„å­—ç¬¦ï¼Œå¦‚s/(love)able/\1rsï¼Œloveabelè¢«æ›¿æ¢æˆäº†lovers&lt;/li&gt;
&lt;li&gt;&amp;amp;ï¼šä¿å­˜æœç´¢å­—ç¬¦ç”¨æ¥æ›¿æ¢å…¶å®ƒå­—ç¬¦ï¼Œå¦‚s/love/**&amp;amp;**/ï¼Œloveæ›¿æ¢æˆäº†**love**&lt;/li&gt;
&lt;li&gt;\&amp;lt;ï¼šåŒ¹é…å•è¯çš„å¼€å§‹ï¼Œå¦‚/\&amp;lt;love/åŒ¹é…åŒ…å«ä»¥loveå¼€å¤´çš„å•è¯çš„è¡Œ&lt;/li&gt;
&lt;li&gt;\&amp;gt;ï¼šåŒ¹é…å•è¯çš„ç»“æŸï¼Œå¦‚/love\&amp;gt;/åŒ¹é…åŒ…å«ä»¥loveç»“å°¾çš„å•è¯çš„è¡Œ&lt;/li&gt;
&lt;li&gt;x\{m\}ï¼šé‡å¤å­—ç¬¦xï¼Œmæ¬¡ï¼Œå¦‚/0\{5\}åŒ¹é…åŒ…å«5ä¸ª0çš„è¡Œã€‘&lt;/li&gt;
&lt;li&gt;x\{m,\}ï¼šé‡å¤å­—ç¬¦xè‡³å°‘mæ¬¡ï¼Œå¦‚/0\{5,\}/åŒ¹é…è‡³å°‘5ä¸ª0çš„è¡Œ&lt;/li&gt;
&lt;li&gt;x\{m,n\}ï¼šé‡å¤å­—ç¬¦xè‡³å°‘mæ¬¡ï¼Œä¹‹å¤šnæ¬¡ï¼Œå¦‚/0\{5,10\}/åŒ¹é…5-10ä¸ª0çš„è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åé¢å°†è®²è§£sedå®ä¾‹è¿›è¡Œè§£é‡Šå„ä¸ªé€‰é¡¹åŠå…¶ä½¿ç”¨ã€‚&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Linuxå­¦ä¹ ç¬”è®°ï¼ˆä¸ƒï¼‰</title>
      <link>https://taoyan.netlify.app/post/2017-11-16.linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%83/</link>
      <pubDate>Thu, 16 Nov 2017 09:19:05 +0000</pubDate>
      <guid>https://taoyan.netlify.app/post/2017-11-16.linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%83/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://github.com/YTLogos/Pic_blog/blob/master/97fC0bjE56.png?raw=true&#34; alt=&#34;mark&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;awkå‘½ä»¤&#34;&gt;awkå‘½ä»¤&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;awk&lt;/strong&gt;æ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œç”¨äºåœ¨unixä¸‹å¤„ç†æ•°æ®ä»¥åŠæ–‡æœ¬ã€‚æ•°æ®å¯ä»¥æ¥è‡ªstdinã€ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ–‡ä»¶æˆ–è€…å…¶å®ƒå‘½ä»¤çš„è¾“å‡ºï¼ŒåŒæ—¶æ”¯æŒè‡ªå®šä¹‰å‡½æ•°å’Œæ­£åˆ™è¡¨è¾¾å¼ï¼Œæ›´å¤šæ˜¯ä½œä¸ºè„šæœ¬æ¥ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;awkå‘½ä»¤æ ¼å¼ä»¥åŠé€‰é¡¹&#34;&gt;awkå‘½ä»¤æ ¼å¼ä»¥åŠé€‰é¡¹&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;awk&lt;/strong&gt;ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªå¦‚ä¸‹ç»“æ„ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;pattren { action }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ¯ä¸€ä¸ªpatternæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼ï¼Œpatternç±»ä¼¼äºå…¶å®ƒç¼–ç¨‹è¯­è¨€ä¸­çš„ifè¯­å¥ï¼šå¦‚æœè¡¨è¾¾å¼ä¸ºTRUEæˆ–è€…æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…åˆ°çš„è¯ï¼Œåé¢çš„actionå‘½ä»¤ä¼šè¢«æ‰§è¡Œã€‚&lt;/p&gt;
&lt;h2 id=&#34;awkè¯­æ³•å½¢å¼&#34;&gt;awkè¯­æ³•å½¢å¼&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;awk [options] &#39;script&#39; var=value file(s)
awk [options] -f scriptfile var=value file(s)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¸¸ç”¨å‘½ä»¤é€‰é¡¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;-F fsï¼šfsæŒ‡å®šè¾“å…¥åˆ†éš”ç¬¦ï¼Œfså¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼&lt;/li&gt;
&lt;li&gt;-v var=valueï¼šèµ‹å€¼ä¸€ä¸ªç”¨æˆ·å®šä¹‰å˜é‡ï¼Œå°†å¤–éƒ¨å˜é‡ä¼ é€’ç»™awk&lt;/li&gt;
&lt;li&gt;-f scriptfileï¼šä»è„šæœ¬æ–‡ä»¶ä¸­è¯»å–awkå‘½ä»¤&lt;/li&gt;
&lt;li&gt;-m[fr] valï¼šå¯¹valå€¼è®¾ç½®å†…åœ¨é™åˆ¶ï¼Œ-mfé€‰é¡¹é™åˆ¶åˆ†é…ç»™valçš„æœ€å¤§å—æ•°ç›®ï¼›-mré€‰é¡¹é™åˆ¶è®°å½•çš„æœ€å¤§å—æ•°ç›®ï¼Œè¿™ä¸¤ä¸ªåŠŸèƒ½æ˜¯æ‰©å±•åŠŸèƒ½ï¼Œåœ¨æ ‡å‡†awkä¸­ä¸é€‚ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;awkæ¨¡å¼ä»¥åŠæ“ä½œ&#34;&gt;awkæ¨¡å¼ä»¥åŠæ“ä½œ&lt;/h2&gt;
&lt;p&gt;ä¸Šé¢å·²ç»è®²äº†patternä»¥åŠactionï¼Œawkå°±æ˜¯æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæ¨¡å¼ä¸æ“ä½œç»„æˆçš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ¨¡å¼pattern&#34;&gt;æ¨¡å¼pattern&lt;/h3&gt;
&lt;p&gt;patternå¯ä»¥æ˜¯ä»¥ä¸‹ä»»æ„ä¸€ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ­£åˆ™è¡¨è¾¾å¼&lt;/li&gt;
&lt;li&gt;å…³ç³»è¡¨è¾¾å¼ï¼šä½¿ç”¨è¿ç®—ç¬¦æ“ä½œï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–è€…æ•°å­—çš„æ¯”è¾ƒæµ‹è¯•&lt;/li&gt;
&lt;li&gt;æ¨¡å¼åŒ¹é…è¡¨è¾¾å¼ï¼šç”¨è¿ç®—ç¬¦&lt;code&gt;~&lt;/code&gt;(åŒ¹é…)å’Œ&lt;code&gt;!&lt;/code&gt;(ä¸åŒ¹é…)&lt;/li&gt;
&lt;li&gt;BEGINè¯­å¥å—ã€patternè¯­å¥å—ä»¥åŠENDè¯­å¥å—ï¼Œæ¶‰åŠååˆ†å¤æ‚ï¼Œåç»­å†è®²è§£&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ“ä½œ&#34;&gt;æ“ä½œ&lt;/h3&gt;
&lt;p&gt;æ“ä½œç”±ä¸€ä¸ªæˆ–å¤šä¸ªå‘½ä»¤ã€å‡½æ•°è¡¨è¾¾å¼ç»„æˆï¼Œç›¸äº’ä¹‹é—´ä½¿ç”¨æ¢è¡Œç¬¦æˆ–è€…åˆ†å·åˆ†å¼€ï¼Œå¹¶ä½äºå¤§æ‹¬å·å†…ã€‚ä¸»è¦éƒ¨åˆ†æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å˜é‡æˆ–è€…æ•°ç»„èµ‹å€¼&lt;/li&gt;
&lt;li&gt;è¾“å‡ºå‘½ä»¤&lt;/li&gt;
&lt;li&gt;å†…ç½®å‡½æ•°&lt;/li&gt;
&lt;li&gt;æ§åˆ¶æµè¯­å¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;awkè„šæœ¬åŸºæœ¬ç»“æ„&#34;&gt;awkè„šæœ¬åŸºæœ¬ç»“æ„&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;awk &#39;BEGIN{ print &amp;quot;start&amp;quot;} pattern{ command } END{ print &amp;quot;end&amp;quot;}&#39; file
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸€ä¸ªawkè„šæœ¬é€šå¸¸æ˜¯ç”±ï¼šBEIGINè¯­å¥å—ã€èƒ½å¤Ÿä½¿ç”¨æ¨¡å¼åŒ¹é…çš„é€šç”¨è¯­å¥å—ã€ENDè¯­å¥å—ä¸‰éƒ¨åˆ†ç»„æˆï¼Œè¿™ä¸‰éƒ¨åˆ†æ˜¯å¯é€‰çš„ï¼Œä»»æ„ä¸€éƒ¨åˆ†éƒ½å¯ä»¥ä¸å‡ºç°åœ¨è„šæœ¬ä¸­ã€‚è„šæœ¬é€šå¸¸æ˜¯åœ¨&#39;&amp;lsquo;æˆ–&amp;quot;&amp;ldquo;ä¸­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;awk &#39;BEGIN{ i=0 } { i++ } END{ print i }&#39; filename
awk &amp;quot;BEGIN{ i=0 } { i++ } END{ print i }&amp;quot; filename
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;awkçš„å·¥ä½œåŸç†&#34;&gt;awkçš„å·¥ä½œåŸç†&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;awk &#39;BEGIN{ commands } pattern{ commands } END{ commands }&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å·¥ä½œåŸç†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€æ­¥æ˜¯æ‰§è¡Œ&lt;code&gt;BEGIN{ commands }&lt;/code&gt;è¯­å¥å—ä¸­çš„è¯­å¥&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒæ­¥æ˜¯ä»æ–‡ä»¶æˆ–è€…æ ‡å‡†è¾“å…¥ä¸­è¯»å–ä¸€è¡Œï¼Œç„¶åæ‰§è¡Œ&lt;code&gt;pattern{ commands }&lt;/code&gt;è¯­å¥å—ï¼Œå®ƒæ˜¯é€è¡Œæ‰«ææ–‡ä»¶ï¼Œä»ç¬¬ä¸€è¡Œåˆ°æœ€åä¸€è¡Œé‡å¤æ­¤å‘½ä»¤ç›´åˆ°æ–‡ä»¶è¢«å®Œå…¨è¯»å–å®Œæ¯•&lt;/li&gt;
&lt;li&gt;æœ€åå½“è¯»è‡³è¾“å…¥æµæœ«å°¾æ—¶ï¼Œæ‰§è¡Œ&lt;code&gt;END{ commands }&lt;/code&gt;è¯­å¥å—&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ³¨æ„äº‹é¡¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;BEGIN{ commands }&lt;/code&gt;è¯­å¥å—åœ¨awkå¼€å§‹ä»è¾“å…¥æµä¸­è¯»å–ä¹‹å‰è¢«æ‰§è¡Œï¼Œæ˜¯ä¸€ä¸ªå¯é€‰è¯­å¥å—ï¼Œæ¯”å¦‚å˜é‡åˆå§‹åŒ–ã€æ‰“å°è¾“å‡ºè¡¨æ ¼çš„è¡¨å¤´ç­‰è¯­å¥é€šå¸¸å¯ä»¥å†™åœ¨æ­¤è¯­å¥å—ä¸­&lt;/li&gt;
&lt;li&gt;&lt;code&gt;END{ commands }&lt;/code&gt;è¯­å¥å—åœ¨awkä»è¾“å…¥æµä¸­è¯»å–æ‰€æœ‰è¡Œä¹‹åè¢«æ‰§è¡Œï¼Œæ¯”å¦‚æ‰“å°æ‰€æœ‰è¡Œçš„åˆ†æç»“æœè¿™ç±»ä¿¡æ¯æ±‡æ€»éƒ½æ˜¯åœ¨æ­¤è¯­å¥å—ä¸­å®Œæˆï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå¯é€‰è¯­å¥å—&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pattern{ commands }&lt;/code&gt;è¯­å¥å—æ˜¯æœ€é‡è¦çš„ç»„æˆéƒ¨åˆ†ï¼Œä¹Ÿæ˜¯å¯é€‰çš„ï¼Œå¦‚æœæ²¡æœ‰æä¾›æ­¤è¯­å¥å—ï¼Œåˆ™é»˜è®¤æ‰§è¡Œ{ print },å³æ‰“å°æ¯ä¸€ä¸ªè¯»å–åˆ°çš„è¡Œï¼Œawkè¯»å–åˆ°çš„æ¯ä¸€è¡Œéƒ½ä¼šæ‰§è¡Œè¯¥è¯­å¥å—&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬ä¸¾ä¸ªä¾‹å­æ¥è¯´æ˜ä¸€ä¸‹ï¼šæ‰“å°å‡º&lt;em&gt;example.bed&lt;/em&gt;æ–‡ä»¶çš„æ¯ä¸€è¡Œï¼Œå¹¶ä¸”åœ¨å¼€å§‹è¯»å–ä¹‹å‰æ‰“å°å‡ºstartï¼Œè¯»å–å®Œæ¯•ä¹‹åæ‰“å°å‡ºend&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ awk &#39;BEGIN{print &amp;quot;start&amp;quot;}{print}END{print &amp;quot;end&amp;quot;}&#39; example.bed
start
chr1    26      39
chr1    32      47
chr3    11      28
chr1    40      49
chr3    16      27
chr1    9       28
chr2    35      54
chr1    10      19
end
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;æ•²é»‘æ¿äº†ï¼ï¼ï¼å½“printä¸å¸¦ä»»ä½•å‚æ•°æ—¶ï¼Œå®ƒå°±æ‰“å°å½“å‰è¡Œï¼Œå½“printçš„å‚æ•°ä»¥é€—å·è¿›è¡Œåˆ†éš”æ—¶ï¼Œæ‰“å°æ—¶åˆ™ä»¥ç©ºæ ¼ä½œä¸ºå®šç•Œç¬¦ï¼Œåœ¨awkçš„printè¯­å¥å—ä¸­åŒå¼•å·æ˜¯è¢«å½“ä½œæ‹¼æ¥ç¬¦æ¥ä½¿ç”¨çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$ echo|awk &#39;{var1=&amp;quot;v1&amp;quot;;var2=&amp;quot;v2&amp;quot;;var3=&amp;quot;v3&amp;quot;;print var1,var2,var3;}&#39;

v1 v2 v3
$ echo|awk &#39;{var1=&amp;quot;v1&amp;quot;;var2=&amp;quot;v2&amp;quot;;var3=&amp;quot;v3&amp;quot;;print var1&amp;quot;=&amp;quot;var2&amp;quot;=&amp;quot;var3;}&#39;

v1=v2=v3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;{}ç±»ä¼¼äºå¾ªç¯ä½“ï¼Œä¼šå¯¹æ–‡ä»¶æ¯ä¸€è¡Œè¿›è¡Œè¿­ä»£ï¼Œé€šå¸¸å˜é‡åˆå§‹åŒ–è¯­å¥(æ¯”å¦‚i=0)ä»¥åŠæ‰“å°æ–‡ä»¶å¤´éƒ¨çš„è¯­å¥æ”¾åœ¨BEGINè¯­å¥å—ä¸­ï¼Œè€Œå°†æ‰“å°çš„ç»“æœç­‰è¯­å¥æ”¾åœ¨ENDè¯­å¥å—ä¸­ã€‚&lt;/p&gt;
&lt;h2 id=&#34;awkå†…ç½®å˜é‡&#34;&gt;awkå†…ç½®å˜é‡&lt;/h2&gt;
&lt;p&gt;awkå†…ç½®å¤§é‡çš„å˜é‡æ–¹ä¾¿æˆ‘ä»¬ç›´æ¥è°ƒç”¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$nï¼šå½“å‰è®°å½•çš„ç¬¬nä¸ªå­—æ®µï¼Œæ¯”å¦‚nä¸º1è¡¨ç¤ºç¬¬ä¸€ä¸ªå­—æ®µï¼Œnä¸º2è¡¨ç¤ºç¬¬äºŒå­—æ®µï¼Œä»¥æ­¤ç±»æ¨&lt;/li&gt;
&lt;li&gt;$0ï¼šè¡¨ç¤ºæ‰§è¡Œè¿‡ç¨‹ä¸­å½“å‰è¡Œçš„æ–‡æœ¬å†…å®¹&lt;/li&gt;
&lt;li&gt;FSï¼šå­—æ®µåˆ†éš”ç¬¦ï¼Œé»˜è®¤æ˜¯ç©ºæ ¼&lt;/li&gt;
&lt;li&gt;IGNORECASEï¼šå¦‚æœä¸ºçœŸè¡¨ç¤ºå¿½ç•¥å¤§å°å†™è¿›è¡ŒåŒ¹é…&lt;/li&gt;
&lt;li&gt;NFï¼šè¡¨ç¤ºå­—æ®µæ•°ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯¹åº”äºå½“å‰çš„å­—æ®µæ•°&lt;/li&gt;
&lt;li&gt;NRï¼šè¡¨ç¤ºè®°å½•æ•°ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯¹åº”äºå½“å‰çš„è¡Œå·&lt;/li&gt;
&lt;li&gt;OFMTï¼šæ•°å­—çš„è¾“å‡ºæ ¼å¼ï¼Œé»˜è®¤ä¸º%.6g&lt;/li&gt;
&lt;li&gt;OFSï¼šè¾“å‡ºå­—æ®µåˆ†éš”ç¬¦ï¼Œé»˜è®¤å€¼ä¸ºç©ºæ ¼&lt;/li&gt;
&lt;li&gt;ORSï¼šè¾“å‡ºè®°å½•åˆ†éš”ç¬¦ï¼Œé»˜è®¤å€¼ä¸ºä¸€ä¸ªæ¢è¡Œç¬¦&lt;/li&gt;
&lt;li&gt;RSï¼šè®°å½•åˆ†éš”ç¬¦ï¼šé»˜è®¤æ˜¯ç©ºæ ¼&lt;/li&gt;
&lt;li&gt;RSTARTï¼šç”±matchå‡½æ•°æ‰€åŒ¹é…çš„å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªä½ç½®&lt;/li&gt;
&lt;li&gt;RLENGTHï¼šç”±matchå‡½æ•°æ‰€åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²çš„é•¿åº¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸¾ä¾‹è¯´æ˜éƒ¨åˆ†å˜é‡ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ head -n 3 example.bed|awk &#39;{print &amp;quot;Line No:&amp;quot;NR&amp;quot;, No of fields:&amp;quot;NF, &amp;quot;$0=&amp;quot;$0,&amp;quot;$1=&amp;quot;$1,&amp;quot;$2=&amp;quot;$2,&amp;quot;$3=&amp;quot;$3}&#39;
Line No:1, No of fields:3 $0=chr1       26      39 $1=chr1 $2=26 $3=39
Line No:2, No of fields:3 $0=chr1       32      47 $1=chr1 $2=32 $3=47
Line No:3, No of fields:3 $0=chr3       11      28 $1=chr3 $2=11 $3=28
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢æˆ‘ä»¬å…ˆé€‰å–å‰ä¸‰è¡Œï¼Œç„¶ååˆ†åˆ«æ‰“å°å‡ºæ¯ä¸€è¡Œçš„è¡Œå·ï¼Œæ¯ä¸€è¡Œçš„å­—æ®µæ•°ä»¥åŠæ¯ä¸€è¡Œçš„æ¯ä¸€ä¸ªå­—æ®µã€‚
ç”±äºNFè¡¨ç¤ºå­—æ®µæ•°ï¼Œå› æ­¤&lt;code&gt;print $NF&lt;/code&gt;å°±ä¼šæ‰“å°å‡ºæ¯ä¸€è¡Œçš„æœ€åä¸€ä¸ªå­—æ®µ,&lt;code&gt;print $(NF-1)&lt;/code&gt;å°±ä¼šæ‰“å°å‡ºå€’æ•°ç¬¬äºŒä¸ªå­—æ®µï¼Œä¾æ­¤ç±»æ¨ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ head -n 3 example.bed|awk &#39;{print $NF}&#39;
39
47
28
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç»Ÿè®¡ä¸€ä¸ªæ–‡ä»¶æœ‰å¤šå°‘è¡Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¯­å¥ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ awk &#39;END{print NR}&#39; Mus_musculus.GRCm38.75_chr1.gtf
81231
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢æˆ‘ä»¬åªæ˜¯ç”¨äº†ENDè¯­å¥å—ï¼Œåœ¨è¯»å…¥æ¯ä¸€è¡Œæ—¶awkä¼šå°†NRæ›´æ–°ä¸ºå¯¹åº”çš„è¡Œå·ï¼Œæ‰€ä»¥å½“è¯»å–åˆ°æœ€åä¸€è¡Œæ—¶å°±ä¼šæ‰“å°å‡ºæœ€åä¸€è¡Œçš„è¡Œå·NRä¹Ÿå°±æ˜¯æ–‡ä»¶çš„æ€»è¡Œæ•°äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¼ é€’å¤–éƒ¨å˜é‡ç»™awk&#34;&gt;ä¼ é€’å¤–éƒ¨å˜é‡ç»™awk&lt;/h2&gt;
&lt;p&gt;å€ŸåŠ©-vé€‰é¡¹å¯ä»¥å°†å¤–éƒ¨å€¼ï¼ˆéæ¥è‡ªstdinï¼‰ä¼ é€’ç»™awkï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ var=1000
$ echo |awk &#39;{print var}&#39; var=&amp;quot;$var&amp;quot;
1000
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;awkè¿ç®—ä¸åˆ¤æ–­&#34;&gt;awkè¿ç®—ä¸åˆ¤æ–­&lt;/h2&gt;
&lt;p&gt;awkä¸ä»…æ”¯æŒç®—æœ¯è¿ç®—è¿˜æ”¯æŒé€»è¾‘è¿ç®—&lt;/p&gt;
&lt;h3 id=&#34;ç®—æœ¯è¿ç®—ç¬¦&#34;&gt;ç®—æœ¯è¿ç®—ç¬¦&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è¿ç®—ç¬¦&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;+-&lt;/td&gt;
&lt;td&gt;åŠ å‡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;* / &amp;amp;&lt;/td&gt;
&lt;td&gt;ä¹˜ é™¤ æ±‚ä½™&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;+-ï¼&lt;/td&gt;
&lt;td&gt;ä¸€å…ƒåŠ å‡ é€»è¾‘é&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;^***&lt;/td&gt;
&lt;td&gt;æ±‚å¹‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;â€”++ &amp;ndash;&lt;/td&gt;
&lt;td&gt;å¢åŠ æˆ–å‡å°‘ï¼Œä½œä¸ºå‰ç¼€&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;æ‰€æœ‰ç®—æœ¯è¿ç®—ç¬¦è¿›è¡Œæ“ä½œï¼Œæ“ä½œæ•°è‡ªåŠ¨è½¬ä¸ºæ•°å€¼ï¼Œæ‰€æœ‰éæ•°å€¼è½¬ä¸º0&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;èµ‹å€¼è¿ç®—ç¬¦&#34;&gt;èµ‹å€¼è¿ç®—ç¬¦&lt;/h3&gt;
&lt;p&gt;ä¸»è¦èµ‹å€¼è¿ç®—ç¬¦æœ‰ï¼š= += -= *= /= â€¦â€¦= **=&lt;/p&gt;
&lt;p&gt;ä¸¾ä¾‹è¯´æ˜ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;a+=5,ç­‰ä»·äºa=a+5.å…¶å®ƒç±»ä¼¼
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;é€»è¾‘è¿ç®—ç¬¦&#34;&gt;é€»è¾‘è¿ç®—ç¬¦&lt;/h3&gt;
&lt;p&gt;å°±æ˜¯æˆ‘ä»¬å¸¸è§çš„&amp;quot;æˆ–&amp;rdquo;ã€&amp;ldquo;ä¸&amp;rdquo;ã€&amp;ldquo;é&amp;rdquo;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ awk &#39;BEGIN{a=1;b=2;print (a&amp;gt;5&amp;amp;&amp;amp;b&amp;gt;2),(a&amp;gt;5||b&amp;lt;=2);}&#39;
0 1
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ­£åˆ™è¿ç®—ç¬¦&#34;&gt;æ­£åˆ™è¿ç®—ç¬¦&lt;/h3&gt;
&lt;p&gt;ä¸»è¦æœ‰~å’Œ~ï¼å³åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼å’Œä¸åŒ¹é…&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ awk &#39;BEGIN{a=&amp;quot;100test&amp;quot;;if(a~/^100*/){print &amp;quot;OK&amp;quot;;}}&#39;
OK
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å…³ç³»è¿ç®—ç¬¦&#34;&gt;å…³ç³»è¿ç®—ç¬¦&lt;/h3&gt;
&lt;p&gt;ä¸»è¦æ˜¯&amp;gt;ã€&amp;gt;=ã€=ã€==ã€!=ã€&amp;lt;ã€&amp;lt;=ç­‰&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ awk &#39;BEGIN{a=11;if(a&amp;gt;=9){print &amp;quot;OK&amp;quot;;}}&#39;
OK
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å…¶ä»–è¿ç®—ç¬¦&#34;&gt;å…¶ä»–è¿ç®—ç¬¦&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è¿ç®—ç¬¦&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;$&lt;/td&gt;
&lt;td&gt;å­—æ®µå¼•ç”¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç©ºæ ¼&lt;/td&gt;
&lt;td&gt;å­—ç¬¦ä¸²è¿æ¥ç¬¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;?:&lt;/td&gt;
&lt;td&gt;Cæ¡ä»¶è¡¨è¾¾å¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;in&lt;/td&gt;
&lt;td&gt;æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æŸå€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;è¿ç®—ç¬¦ä¼˜å…ˆçº§&#34;&gt;è¿ç®—ç¬¦ä¼˜å…ˆçº§&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://github.com/YTLogos/Pic_blog/blob/master/1JeD56aLBg.png?raw=true&#34; alt=&#34;çº§åˆ«è¶Šé«˜è¶Šä¼˜å…ˆ&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;awké«˜çº§è¾“å…¥è¾“å‡º&#34;&gt;awké«˜çº§è¾“å…¥è¾“å‡º&lt;/h2&gt;
&lt;h3 id=&#34;nextè¯­å¥è¯»å–ä¸‹ä¸€æ¡è®°å½•&#34;&gt;nextè¯­å¥è¯»å–ä¸‹ä¸€æ¡è®°å½•&lt;/h3&gt;
&lt;p&gt;awkä¸­çš„nextè¯­å¥ä½¿ç”¨ï¼šåœ¨å¾ªç¯é€è¡ŒåŒ¹é…ï¼Œå¦‚æœé‡åˆ°nextï¼Œå°±ä¼šè·³è¿‡å½“å‰è¡Œï¼Œç›´æ¥å¿½ç•¥ä¸‹é¢çš„è¯­å¥è€Œè¿›å…¥ä¸‹ä¸€åŒ¹é…ï¼Œä¸€èˆ¬ç”¨äºå¤šè¡ŒåŒ¹é…&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ awk &#39;NR%2==1{next}{print NR,$0;}&#39; example.bed
2 chr1  32      47
4 chr1  40      49
6 chr1  9       28
8 chr1  10      19
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åé¢è¿˜æœ‰å¾ˆå¤šå¤æ‚ç”¨æ³•æˆ‘æš‚æ—¶ä¸è®²äº†ï¼Œå†è€…å¦‚æœé‡åˆ°æ›´å¤æ‚çš„æƒ…å†µæœ€å¥½ä½¿ç”¨å…¶ä»–æ›´å¼ºå¤§çš„å·¥å…·æ¯”å¦‚pythonã€‚ä¸‹é¢æˆ‘ä¼šè®²è®²awkå¦‚ä½•å¤„ç†ç”Ÿç‰©ä¿¡æ¯å­¦æ•°æ®ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ¡ä»¶ç­›é€‰&#34;&gt;æ¡ä»¶ç­›é€‰&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬æƒ³è¦å°†é•¿åº¦å¤§äº18çš„è¡Œæ‰¾å‡ºæ¥ï¼ˆå³end position-start position&amp;gt;18ï¼‰&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ awk &#39;$3-$2&amp;gt;18&#39; example.bed
chr1    9       28
chr2    35      54
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„é€»è¾‘æ“ä½œç¬¦&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Comparison&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;a==b&lt;/td&gt;
&lt;td&gt;a is equal to b&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;a!=b&lt;/td&gt;
&lt;td&gt;a is not equal to b&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;a &amp;lt; b&lt;/td&gt;
&lt;td&gt;a is less than b&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;a &amp;gt; b&lt;/td&gt;
&lt;td&gt;a is greater than b&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;a &amp;lt;= b&lt;/td&gt;
&lt;td&gt;a is less than or equal to b&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;a &amp;gt;= b&lt;/td&gt;
&lt;td&gt;a is greater than or equal to b&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;a ~ b&lt;/td&gt;
&lt;td&gt;a matches regular expression pattern b&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;a !~ b&lt;/td&gt;
&lt;td&gt;a does not match regular expression pattern b&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;a &amp;amp;&amp;amp; b&lt;/td&gt;
&lt;td&gt;logical and a and b&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;!a&lt;/td&gt;
&lt;td&gt;not a (logical negation)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ç­›é€‰å‡ºä½äºæŸ“1å·æŸ“è‰²ä½“ä¸Šé•¿åº¦å¤§äº10çš„è¡Œ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ awk &#39;$1~/chr1/ &amp;amp;&amp;amp; $3-$2&amp;gt;10&#39; example.bed
chr1    26      39
chr1    32      47
chr1    9       28
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;$1~/chr1/&lt;/code&gt;æ˜¯ä¸€æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼ˆæ­£åˆ™è¡¨è¾¾å¼åœ¨ç¬¦å·æ–œæ é‡Œï¼‰ï¼Œè¡¨ç¤ºç¬¬ä¸€åˆ—ä¸­èƒ½åŒ¹é…åˆ°chr1çš„è¡Œï¼Œ&lt;code&gt;~&lt;/code&gt;è¡¨ç¤ºåŒ¹é…ï¼Œä¸åŒ¹é…çš„è¯ä½¿ç”¨&lt;code&gt;!~&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ awk &#39;$1!~/chr1/ &amp;amp;&amp;amp; $3-$2&amp;gt;10&#39; example.bed
chr3    11      28
chr3    16      27
chr2    35      54
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ­£åˆ™è¡¨è¾¾å¼ç»“åˆå…¶ä»–å¤æ‚å‘½ä»¤ï¼ˆactionï¼‰å¯ä»¥è§£å†³å¾ˆå¤šå¤æ‚é—®é¢˜ï¼Œæ¯”å¦‚æˆ‘ä»¬æƒ³è¦å°†2å’Œ3å·æŸ“è‰²ä½“æ¯è¡Œé•¿åº¦éƒ½æ‰“å°å‡ºæ¥è‡ªæˆä¸€åˆ—ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ awk &#39;$1!~/chr1/ {print $0 &amp;quot;\t&amp;quot; $3-$2}&#39; example.bed
chr3    11      28      17
chr3    16      27      11
chr2    35      54      19
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç›®å‰æˆ‘ä»¬å·²ç»è®²äº†awkå¯ä»¥ä½¿ç”¨çš„ä¸¤ä¸ªåŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç»“åˆæ­£åˆ™è¡¨è¾¾å¼ä»¥åŠç®—æœ¯å¯¹æ•°æ®é›†è¿›è¡Œè¿‡æ»¤&lt;/li&gt;
&lt;li&gt;åˆ©ç”¨ç®—æœ¯é‡é“¸æ•°æ®é›†çš„åˆ—&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;beginå’Œend&#34;&gt;BEGINå’ŒEND&lt;/h2&gt;
&lt;p&gt;å‰é¢æˆ‘ä»¬å·²ç»è®²äº†BEGINå’ŒENDï¼ŒBEGINåœ¨åˆå§‹åŒ–å˜é‡æ–¹é¢ååˆ†æœ‰ç”¨ï¼Œæ¯”å¦‚å¦‚æœæˆ‘ä»¬æƒ³è¦æ±‚å¹³å‡é•¿åº¦çš„è¯ï¼Œé¦–å…ˆæˆ‘ä»¬å¯ä»¥æ±‚å’Œå†é™¤ä»¥æ€»è¡Œæ•°&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ awk &#39;BEGIN{sum=0};{sum+=($3-$2)};END{print &amp;quot;mean: &amp;quot;sum/NR};&#39; example.bed
mean: 14
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç”±äºNRè¡¨ç¤ºå½“å‰è¡Œæ•°ï¼Œå› æ­¤æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨å®ƒæ¥æå–æ•°æ®é›†ä¸­çš„æ•°æ®ï¼Œæ¯”å¦‚æå–example.bedä¸­çš„3-5è¡Œ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ awk &#39;NR&amp;gt;=3&amp;amp;&amp;amp;NR&amp;lt;=5&#39; example.bed
chr3    11      28
chr1    40      49
chr3    16      27
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä½¿ç”¨awkæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„å®ç°BEDä¸GTFæ–‡ä»¶ä¹‹é—´çš„è½¬æ¢ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥ååˆ†å¿«é€Ÿçš„å®ç°ä»GTFæ–‡ä»¶ä¸­æå–å‡ºBEDæ–‡ä»¶ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ awk &#39;!/^#/ {print $1 &amp;quot;\t&amp;quot; $4-1 &amp;quot;\t&amp;quot; $5}&#39; Mus_musculus.GRCm38.75_chr1.gtf|head -n 3
1       3054232 3054733
1       3054232 3054733
1       3054232 3054733
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯BEDæ–‡ä»¶ç´¢å¼•æ˜¯ä»0å¼€å§‹çš„ï¼ŒGTFç´¢å¼•æ˜¯ä»1å¼€å§‹çš„ï¼Œå› æ­¤start positionæˆ‘ä»¬éœ€è¦å‡å»1.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;awkå†…ç½®äº†å¾ˆå¤šå‡½æ•°å¯ä»¥è°ƒç”¨ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;function&lt;/th&gt;
&lt;th&gt;description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;length(s)&lt;/td&gt;
&lt;td&gt;length 0f a string s&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tolower(s)&lt;/td&gt;
&lt;td&gt;convert string s to lowercase&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;touppper(s)&lt;/td&gt;
&lt;td&gt;convert string s to uppercase&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;substr(s,i,j)&lt;/td&gt;
&lt;td&gt;return the substring of s that starts at i and ends at j&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;split(s,x,d)&lt;/td&gt;
&lt;td&gt;split string s into chunks by delimiter d,place chunks in array x&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sub(f,r,s)&lt;/td&gt;
&lt;td&gt;find regular expression f in s and replace it with r(modifing s in place);use gsub for global substitution;returns a positive value if string is found&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</description>
    </item>
    
    <item>
      <title>Linuxå­¦ä¹ ç¬”è®°ï¼ˆå…­ï¼‰</title>
      <link>https://taoyan.netlify.app/post/2017-11-15.linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%85%AD/</link>
      <pubDate>Wed, 15 Nov 2017 13:19:05 +0000</pubDate>
      <guid>https://taoyan.netlify.app/post/2017-11-15.linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%85%AD/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://github.com/YTLogos/Pic_blog/blob/master/Fjbj28bH1F.png?raw=true&#34; alt=&#34;mark&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;uniq&#34;&gt;uniq&lt;/h2&gt;
&lt;p&gt;linuxå‘½ä»¤&lt;code&gt;uniq&lt;/code&gt;å¯ä»¥å°†&lt;strong&gt;è¿ç»­é‡å¤&lt;/strong&gt;å»é™¤æ‰ï¼Œä¸¾ä¸ªä¾‹å­è¯´æ˜ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat letters.txt
A
A
B
C
B
C
C
C
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é‡Œé¢å­˜æœ‰é‡å¤æ•°æ®ï¼Œåˆ©ç”¨&lt;code&gt;uniq&lt;/code&gt;å¯ä»¥æœ‰æ•ˆçš„å»é™¤è¿ç»­é‡å¤ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ uniq letters.txt
A
B
C
B
C
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°åªæœ‰è¿ç»­é‡å¤æ‰è¢«æ‰§è¡Œåªå‰©ä¸‹ä¸€ä¸ªï¼Œå¦‚æœæˆ‘ä»¬è¦å»é™¤æ‰€æœ‰çš„é‡å¤åªä¿ç•™ä¸€ä¸ªï¼Œä¸ç®¡æ˜¯ä¸æ˜¯è¿ä¸è¿ç»­ï¼Œå¯ä»¥å…ˆè¿›è¡Œæ’åºå†å»é‡&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$ sort letters.txt|uniq
A
B
C
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœå­˜åœ¨å¤§å°å†™å­—æ¯ï¼Œå¯ä»¥æ·»åŠ å‚æ•°-iæ¥å¿½ç•¥å¤§å°å†™ã€‚è¿˜æœ‰ä¸€ä¸ªé€‰é¡¹-cå¯ä»¥ç”¨æ¥ç»Ÿè®¡è¿ç»­é‡å¤æ¬¡æ•°ï¼ŒåŒç†è¦ç»Ÿè®¡æ‰€æœ‰é‡å¤æ¬¡æ•°å…ˆè¿›è¡Œæ’åºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ uniq -c letters.txt
      2 A
      1 B
      1 C
      1 B
      3 C
# sort then uniq
$ sort letters.txt|uniq -c
      2 A
      2 B
      4 C
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å†æ¥ä¸€ä¸ªï¼Œç»Ÿè®¡gtfæ–‡ä»¶ä¸­CDSã€UTRç­‰æ•°ç›®ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ grep -v &amp;quot;^#&amp;quot; Mus_musculus.GRCm38.75_chr1.gtf|cut -f3|sort|uniq -c|column -t
25901  CDS
36128  exon
2027   gene
2290   start_codon
2299   stop_codon
4993   transcript
7588   UTR
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ ¹æ®æ•°ç›®ä»å¤§åˆ°å°è¿›è¡Œæ’åºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ grep -v &amp;quot;^#&amp;quot; Mus_musculus.GRCm38.75_chr1.gtf|cut -f3|sort|uniq -c|sort -rn |column -t
36128  exon
25901  CDS
7588   UTR
4993   transcript
2299   stop_codon
2290   start_codon
2027   gene
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å†æ·±å…¥ä¸€ç‚¹å±•ç¤ºä¸åœé“¾ä¸Šçš„æ•°ç›®&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ grep -v &amp;quot;^#&amp;quot; Mus_musculus.GRCm38.75_chr1.gtf|cut -f3,7|sort|uniq -c|sort -rn|column -t
18134  exon         +
17994  exon         -
13010  CDS          -
12891  CDS          +
3834   UTR          -
3754   UTR          +
2511   transcript   -
2482   transcript   +
1155   stop_codon   -
1155   start_codon  -
1144   stop_codon   +
1135   start_codon  +
1034   gene         +
993    gene         -
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿˜å¯ä»¥æŸ¥çœ‹ç‰¹å®šåŸºå› ä¸Šçš„CDSç­‰æ•°ç›®&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ grep &amp;quot;ENSMUSG00000033793&amp;quot; Mus_musculus.GRCm38.75_chr1.gtf|cut -f3|sort|uniq -c|sort -rn |column -t
14  exon
13  CDS
3   UTR
1   transcript
1   stop_codon
1   start_codon
1   gene
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å‚æ•°é€‰é¡¹-dæä¾›äº†ä¸€ä¸ªæ•°æ®é›†ä¸­çš„é‡å¤é¡¹&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ uniq -d mm_gene_names.txt|wc -l
0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™ä¸ªæ•°æ®é›†ä¸­æ²¡æœ‰é‡å¤é¡¹ï¼ï¼ï¼&lt;/p&gt;
&lt;h2 id=&#34;join&#34;&gt;Join&lt;/h2&gt;
&lt;p&gt;joiné¡¾åæ€ä¹‰å°±æ˜¯å°†ä¸åŒæ•°æ®é›†æ ¹æ®ç›¸åŒçš„åˆ—åˆå¹¶åœ¨ä¸€èµ·ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ä¸¤ä¸ªæ–‡ä»¶éœ€è¦ç»è¿‡æ’åºæ‰èƒ½åˆå¹¶åœ¨ä¸€èµ·ï¼Œå› æ­¤ç¬¬ä¸€æ­¥éœ€è¦æ£€æŸ¥æ•°æ®é›†æœ‰æ²¡æœ‰æ’åºï¼Œæ²¡æœ‰çš„è¯éœ€è¦è¿›è¡Œæ’åºã€‚
joinåŸºæœ¬è¯­æ³•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;join -1 &amp;lt;file_1_field&amp;gt; -2 &amp;lt;file_2_field&amp;gt; &amp;lt;file_1&amp;gt; &amp;lt;file_2&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å…¶ä¸­file_1å’Œfile_2æ˜¯ä¸¤ä¸ªéœ€è¦åˆå¹¶çš„æ–‡ä»¶ï¼Œfile_1_fieldè¡¨ç¤ºfile_1ä¸­åˆå¹¶çš„åˆ—ï¼Œfile_2_fieldåŒç†ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sort -k1,1 example.bed &amp;gt; example_sorted.bed
$ sort -c -k1,1 example_lengths.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç»éªŒè¯ä¸¤ä¸ªæ•°æ®é›†éƒ½å·²ç»æ’è¿‡åºäº†ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ join -1 1 -2 1 example_sorted.bed example_lengths.txt &amp;gt; example_with_lengths.txt
$ cat example_with_lengths.txt|column -t
chr1  10  19  58352
chr1  26  39  58352
chr1  32  47  58352
chr1  40  49  58352
chr1  9   28  58352
chr2  35  54  39521
chr3  11  28  24859
chr3  16  27  24859
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬å°†&lt;em&gt;example_lengths.txt&lt;/em&gt;ä¸­çš„chr3å»é™¤æ‰å†è¿›è¡Œåˆå¹¶ï¼Œç»“æœä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ head -n2 example_lengths.txt &amp;gt; example_lengths_alt.txt
$ join -1 1 -2 1 example_sorted.bed example_lengths_alt.txt
chr1 10 19 58352
chr1 26 39 58352
chr1 32 47 58352
chr1 40 49 58352
chr1 9 28 58352
chr2 35 54 39521
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç»“æœå‘ç°chr3è¢«joinå‰”é™¤æ‰äº†ï¼Œå› æ­¤joinåªä¼šåˆå¹¶æ–‡ä»¶å…±æœ‰çš„é¡¹ï¼Œå¦‚æœæƒ³è¦ä¿ç•™chr3å¯ä»¥æ·»åŠ å‚æ•°é€‰é¡¹-aå®ç°ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ join -1 1 -2 1 -a 1 example_sorted.bed example_lengths_alt.txt|column -t
chr1  10  19  58352
chr1  26  39  58352
chr1  32  47  58352
chr1  40  49  58352
chr1  9   28  58352
chr2  35  54  39521
chr3  11  28
chr3  16  27
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    
    <item>
      <title>Linuxå­¦ä¹ ç¬”è®°ï¼ˆäº”ï¼‰</title>
      <link>https://taoyan.netlify.app/post/2017-11-14.linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%BA%94/</link>
      <pubDate>Tue, 14 Nov 2017 13:19:05 +0000</pubDate>
      <guid>https://taoyan.netlify.app/post/2017-11-14.linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%BA%94/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://github.com/YTLogos/Pic_blog/blob/master/9Egg9ALKHB.png?raw=true&#34; alt=&#34;mark&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;sort&#34;&gt;&lt;strong&gt;&lt;code&gt;sort&lt;/code&gt;&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;sort&lt;/code&gt;å‘½ä»¤åœ¨&lt;strong&gt;linux&lt;/strong&gt;ä¸­éå¸¸æœ‰ç”¨ï¼Œå®ƒå¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œæ’åºå¹¶å°†æ’åºç»“æœæ ‡å‡†è¾“å‡ºã€‚&lt;code&gt;sort&lt;/code&gt;å³å¯ä»¥ä»ç‰¹å®šçš„æ–‡ä»¶ä¸­ä¹Ÿå¯ä»¥ä»STDINä¸­è·å–è¾“å…¥ã€‚
&lt;code&gt;sort&lt;/code&gt;è¯­æ³•è§„åˆ™å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sort (é€‰é¡¹) (å‚æ•°) æ–‡ä»¶
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å‚æ•°è¯¦è§£ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;-bï¼šå¿½ç•¥æ¯è¡Œå‰é¢å¼€å§‹å‡ºçš„ç©ºæ ¼å­—ç¬¦ï¼›&lt;/li&gt;
&lt;li&gt;-cï¼šæ£€æŸ¥æ–‡ä»¶æ˜¯å¦å·²ç»æŒ‰ç…§é¡ºåºæ’åºï¼›&lt;/li&gt;
&lt;li&gt;-dï¼šæ’åºæ—¶ï¼Œå¤„ç†è‹±æ–‡å­—æ¯ã€æ•°å­—åŠç©ºæ ¼å­—ç¬¦å¤–ï¼Œå¿½ç•¥å…¶ä»–çš„å­—ç¬¦ï¼›&lt;/li&gt;
&lt;li&gt;-fï¼šæ’åºæ—¶ï¼Œå°†å°å†™å­—æ¯è§†ä¸ºå¤§å†™å­—æ¯ï¼›&lt;/li&gt;
&lt;li&gt;-iï¼šæ’åºæ—¶ï¼Œé™¤äº†040è‡³176ä¹‹é—´çš„ASCIIå­—ç¬¦å¤–ï¼Œå¿½ç•¥å…¶ä»–çš„å­—ç¬¦ï¼›&lt;/li&gt;
&lt;li&gt;-mï¼šå°†å‡ ä¸ªæ’åºå·çš„æ–‡ä»¶è¿›è¡Œåˆå¹¶ï¼›&lt;/li&gt;
&lt;li&gt;-Mï¼šå°†å‰é¢3ä¸ªå­—æ¯ä¾ç…§æœˆä»½çš„ç¼©å†™è¿›è¡Œæ’åºï¼›&lt;/li&gt;
&lt;li&gt;-nï¼šä¾ç…§æ•°å€¼çš„å¤§å°æ’åºï¼›&lt;/li&gt;
&lt;li&gt;-o&amp;lt;è¾“å‡ºæ–‡ä»¶&amp;gt;ï¼šå°†æ’åºåçš„ç»“æœå­˜å…¥åˆ¶å®šçš„æ–‡ä»¶ï¼›&lt;/li&gt;
&lt;li&gt;-rï¼šä»¥ç›¸åçš„é¡ºåºæ¥æ’åºï¼›&lt;/li&gt;
&lt;li&gt;-t&amp;lt;åˆ†éš”å­—ç¬¦&amp;gt;ï¼šæŒ‡å®šæ’åºæ—¶æ‰€ç”¨çš„æ ä½åˆ†éš”å­—ç¬¦ï¼›&lt;/li&gt;
&lt;li&gt;+&amp;lt;èµ·å§‹æ ä½&amp;gt;-&amp;lt;ç»“æŸæ ä½&amp;gt;ï¼šä»¥æŒ‡å®šçš„æ ä½æ¥æ’åºï¼ŒèŒƒå›´ç”±èµ·å§‹æ ä½åˆ°ç»“æŸæ ä½çš„å‰ä¸€æ ä½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;sort&lt;/code&gt;å°†æ–‡ä»¶/æ–‡æœ¬çš„æ¯ä¸€è¡Œä½œä¸ºä¸€ä¸ªå•ä½ç›¸äº’æ¯”è¾ƒï¼Œæ¯”è¾ƒåŸåˆ™æ˜¯ä»é¦–å­—ç¬¦å‘åï¼Œä¸€æ¬¡æŒ‰&lt;strong&gt;ASCII&lt;/strong&gt;ç å€¼è¿›è¡Œæ¯”è¾ƒï¼Œæœ€åå°†ä»–ä»¬æŒ‰å‡åºæ ¼å¼è¾“å‡ºã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat example.bed
chr1    26      39
chr1    32      47
chr3    11      28
chr1    40      49
chr3    16      27
chr1    9       28
chr2    35      54
chr1    10      19
#æ²¡æœ‰ä»»ä½•å‚æ•°æ’åº
$ sort example.bed
chr1    10      19
chr1    26      39
chr1    32      47
chr1    40      49
chr1    9       28
chr2    35      54
chr3    11      28
chr3    16      27
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;sort&lt;/code&gt;é»˜è®¤ç©ºæ ¼ï¼ˆtab or spacesï¼‰ä½œä¸ºåˆ†éš”ç¬¦ï¼Œå› æ­¤å¦‚æœä½ çš„æ–‡ä»¶ä½¿ç”¨å…¶ä»–çš„åˆ†éš”ç¬¦ï¼Œæ¯”å¦‚CSVæ–‡ä»¶ï¼ˆåˆ†éš”ç¬¦ä¸ºâ€œ,â€ï¼‰ï¼Œè¿™æ—¶å°±éœ€è¦é€šè¿‡å‚æ•°&lt;code&gt;-t&lt;/code&gt;æŒ‡å®šåˆ†éš”ç¬¦ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å®é™…æ’åºè¿‡ç¨‹ä¸­æˆ‘ä»¬å¸Œæœ›èƒ½å¤ŸæŒ‡å®šä¾æ¬¡æŒ‰å“ªä¸€åˆ—è¿›è¡Œæ’åºï¼Œè¿™é‡Œé¢å°±æ¶‰åŠåˆ°äº†å‚æ•°é€‰é¡¹-käº†ã€‚-kå‚æ•°çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;FStart.CStart Modifie,FEnd.CEnd Modifier 
-------Start--------,-------End-------- 
FStart.CStart é€‰é¡¹ , FEnd.CEnd é€‰é¡¹
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ ¼å¼è¢«&amp;quot;,&amp;ldquo;åˆ†ä¸ºä¸¤éƒ¨åˆ†&lt;code&gt;Start&lt;/code&gt;ä»¥åŠ&lt;code&gt;End&lt;/code&gt;ä¸¤éƒ¨åˆ†ã€‚å…¶ä¸­&lt;code&gt;Start&lt;/code&gt;éƒ¨åˆ†åˆåˆ†ä¸ºä¸‰éƒ¨åˆ†,é‡ç‚¹è§£é‡Šä¸€ä¸‹å…¶ä¸­çš„&lt;code&gt;FStart&lt;/code&gt;ä»¥åŠ&lt;code&gt;CStart&lt;/code&gt;éƒ¨åˆ†ï¼Œ&lt;code&gt;CStart&lt;/code&gt;ä¸æ˜¯å¿…é¡»çš„å¯ä»¥çœç•¥ï¼Œçœç•¥çš„è¯è¡¨ç¤ºä»æœ¬åŸŸçš„å¼€å¤´éƒ¨åˆ†å¼€å§‹ï¼Œ&lt;code&gt;FStart.CStart&lt;/code&gt;ä¸­çš„&lt;code&gt;FStart&lt;/code&gt;è¡¨ç¤ºä½œç”¨çš„åŸŸï¼Œ&lt;code&gt;CStart&lt;/code&gt;åˆ™è¡¨ç¤ºåœ¨&lt;code&gt;FStart&lt;/code&gt;åŸŸä¸­ä»ç¬¬å‡ ä¸ªå­—ç¬¦å¼€å§‹æ’åºï¼ŒåŒç†ï¼Œåœ¨&lt;code&gt;End&lt;/code&gt;éƒ¨åˆ†ç±»ä¼¼ã€‚ä¸‹é¢æˆ‘ä»¬ä¸¾ä¸ªä¾‹å­è¯´æ˜ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ head -n 3 example.bed
chr1    26      39
chr1    32      47
chr3    11      28
# sort è¿›è¡Œæ’åº
$ sort -k1,1 -k2,2n example.bed
chr1    9       28
chr1    10      19
chr1    26      39
chr1    32      47
chr1    40      49
chr2    35      54
chr3    11      28
chr3    16      27
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨ä¸Šé¢çš„å‘½ä»¤ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å‚æ•°-kæ¥æŒ‡å®šæŒ‰å“ªä¸€åˆ—æ¥è¿›è¡Œæ’åºï¼Œé¦–å…ˆç¬¬ä¸€ä¸ª-kå‚æ•°è¡¨ç¤ºæˆ‘ä»¬æƒ³è¦ç¬¬ä¸€æŒ‰ç¬¬ä¸€åˆ—æ’åºï¼Œæ¥ä¸‹æ¥çš„ç¬¬äºŒä¸ª-kå‚æ•°è¡¨ç¤ºæŒ‰ç¬¬äºŒåˆ—æ’åºï¼Œnè¡¨ç¤ºè¿™ä¸€åˆ—æ˜¯æ•°å€¼å‹æ•°æ®ã€‚-kçš„è¯­æ³•ååˆ†å¤æ‚ï¼Œå†ä¸¾ä¸ªç®€å•ä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æœ‰è¿™æ ·ä¸€ä¸ªæ–‡ä»¶&lt;em&gt;company.txt&lt;/em&gt;:æœ‰ä¸‰ä¸ªåŸŸï¼Œç¬¬ä¸€ä¸ªåŸŸæ˜¯å…¬å¸åç§°ï¼Œç¬¬äºŒä¸ªåŸŸæ˜¯å…¬å¸äººæ•°ï¼Œç¬¬ä¸‰ä¸ªåŸŸæ˜¯å‘˜å·¥å¹³å‡å·¥èµ„ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat company.txt|column -t
baidu   100  5000
sohu    100  4500
google  110  5000
guge    50   3000
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æŒ‰ç¬¬ä¸€ä¸ªåŸŸä¸šä¹Ÿå°±æ˜¯æŒ‰å…¬å¸åç§°çš„å­—æ¯è¿›è¡Œæ’åº&#34;&gt;æŒ‰ç¬¬ä¸€ä¸ªåŸŸä¸šä¹Ÿå°±æ˜¯æŒ‰å…¬å¸åç§°çš„å­—æ¯è¿›è¡Œæ’åº&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;$ sort -k1 company.txt
baidu 100 5000
google 110 5000
guge 50 3000
sohu 100 4500
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™å¾ˆå¥½ç†è§£&lt;/p&gt;
&lt;h3 id=&#34;æŒ‰æ¯ä¸ªå…¬å¸çš„äººæ•°ä¹Ÿå°±æ˜¯ç¬¬äºŒä¸ªåŸŸè¿›è¡Œæ’åºnè¡¨ç¤ºè¿™ä¸€ä¸ªåŸŸæ˜¯æ•°å€¼å‹æ•°æ®&#34;&gt;æŒ‰æ¯ä¸ªå…¬å¸çš„äººæ•°ä¹Ÿå°±æ˜¯ç¬¬äºŒä¸ªåŸŸè¿›è¡Œæ’åº(nè¡¨ç¤ºè¿™ä¸€ä¸ªåŸŸæ˜¯æ•°å€¼å‹æ•°æ®)&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;$ sort -k2n company.txt
guge 50 3000
baidu 100 5000
sohu 100 4500
google 110 5000
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œbaiduå’Œsohuçš„å‘˜å·¥äººæ•°ç›¸åŒï¼Œè¿™æ—¶ä¼šæŒ‰ç…§é»˜è®¤çš„è§„åˆ™ä»ç¬¬ä¸€ä¸ªåŸŸè¿›è¡Œå‡åºæ’åˆ—ï¼Œæ‰€ä»¥å¯ä»¥çœ‹åˆ°baiduæ’åœ¨sohuå‰é¢ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æŒ‰å…¬å¸å‘˜å·¥äººæ•°æ’åºå‘˜å·¥äººæ•°ç›¸åŒçš„æŒ‰ç¬¬ä¸‰ä¸ªåŸŸå‡åºæ’åˆ—&#34;&gt;æŒ‰å…¬å¸å‘˜å·¥äººæ•°æ’åºï¼Œå‘˜å·¥äººæ•°ç›¸åŒçš„æŒ‰ç¬¬ä¸‰ä¸ªåŸŸå‡åºæ’åˆ—&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;$ sort -k2n -k3n company.txt
guge 50 3000
sohu 100 4500
baidu 100 5000
google 110 5000
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹å‡ºä¸å‰é¢çš„å·®åˆ«ï¼Œè¿™é‡ŒæŒ‰å‘˜å·¥å¹³å‡å·¥èµ„è¿›è¡Œç¬¬äºŒæ¬¡æ’åºï¼Œæ‰€ä»¥sohuæ’åœ¨baiduå‰é¢ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å…ˆæŒ‰å‘˜å·¥å·¥èµ„é™åºæ’åºå¦‚æœå‘˜å·¥äººæ•°ç›¸åŒåˆ™å†æŒ‰å…¬å¸äººæ•°å‡åºæ’åº&#34;&gt;å…ˆæŒ‰å‘˜å·¥å·¥èµ„é™åºæ’åºï¼Œå¦‚æœå‘˜å·¥äººæ•°ç›¸åŒï¼Œåˆ™å†æŒ‰å…¬å¸äººæ•°å‡åºæ’åº&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;$ sort -k3nr -k2n company.txt
baidu 100 5000
google 110 5000
sohu 100 4500
guge 50 3000
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å‘½ä»¤ä¸­çš„rè¡¨ç¤ºé™åºæ’åºï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬å°†nã€rè¿™æ ·çš„é€‰é¡¹åŠ å…¥åˆ°äº†æ¯ä¸€ä¸ª-ké€‰é¡¹ä¸­ï¼Œå…¶å®å°±æ˜¯-kè¯­æ³•ä¸­çš„Modifieré€‰é¡¹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä»å…¬å¸åç§°å­—æ¯çš„ç¬¬äºŒä¸ªå­—æ¯å¼€å§‹æ’åº&#34;&gt;ä»å…¬å¸åç§°å­—æ¯çš„ç¬¬äºŒä¸ªå­—æ¯å¼€å§‹æ’åº&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;$ sort -k1.2 company.txt
baidu 100 5000
sohu 100 4500
google 110 5000
guge 50 3000
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;-k1.2è¡¨ç¤ºå¯¹ç¬¬ä¸€ä¸ªåŸŸçš„ç¬¬äºŒä¸ªå­—ç¬¦å¼€å§‹åˆ°æœ¬åŸŸçš„æœ€åä¸€ä¸ªå­—ç¬¦ä¸ºæ­¢çš„å­—ç¬¦ä¸²è¿›è¡Œæ’åºï¼Œå¯ä»¥çœ‹åˆ°sohuä¸googleçš„ç¬¬äºŒä¸ªå­—æ¯éƒ½æ˜¯oï¼Œä½†æ˜¯æ¥ä¸‹æ¥çš„å­—æ¯sohuçš„hæ’åœ¨googleçš„oä¹‹å‰ï¼Œå› æ­¤sohuæ’åœ¨googleå‰é¢ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åªé’ˆå¯¹å…¬å¸åç§°çš„ç¬¬äºŒå­—æ¯è¿›è¡Œæ’åºç›¸åŒçš„è¯åˆ™æŒ‰å‘˜å·¥å¹³å‡å·¥èµ„é™åºæ’åº&#34;&gt;åªé’ˆå¯¹å…¬å¸åç§°çš„ç¬¬äºŒå­—æ¯è¿›è¡Œæ’åºï¼Œç›¸åŒçš„è¯åˆ™æŒ‰å‘˜å·¥å¹³å‡å·¥èµ„é™åºæ’åº&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„äº†ï¼Œæ•²é»‘æ¿ï¼ï¼ï¼ä¸Šé¢æˆ‘ä»¬æ˜¯ä»ç¬¬ä¸€ä¸ªåŸŸçš„ç¬¬äºŒä¸ªå­—ç¬¦å¼€å§‹è¿›è¡Œæ’åºï¼Œè€Œè¿™é‡Œåªé’ˆå¯¹ç¬¬äºŒä¸ªå­—ç¬¦è¿›è¡Œæ’åºï¼Œå¦‚æœç¬¬äºŒå­—ç¬¦ç›¸åŒçš„è¯åˆ™æŒ‰å‘˜å·¥å¹³å‡å·¥èµ„é™åºæ’åºï¼Œä¸Šé¢çš„ä¾‹å­æ˜¯æŒ‰ç¬¬ä¸‰ä¸ªå­—ç¬¦è¿›è¡Œæ’åºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$ sort -k1.2,1.2 -k3rn company.txt
baidu 100 5000
google 110 5000
sohu 100 4500
guge 50 3000
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°è¿™æ¬¡googleæ’åœ¨sohuå‰é¢äº†ã€‚
-ké€‰é¡¹éƒ¨åˆ†è®²åˆ°è¿™é‡ŒåŸºæœ¬è„‰ç»œæ¸…æ¥šäº†,æ­¤æ—¶å†ç»“åˆå…¶ä»–é€‰é¡¹&lt;code&gt;sort&lt;/code&gt;å°±ä¼šå˜å¾—ååˆ†å¼ºå¤§ã€‚&lt;/p&gt;
&lt;h3 id=&#34;sortçš„-ué€‰é¡¹&#34;&gt;sortçš„-ué€‰é¡¹&lt;/h3&gt;
&lt;p&gt;uä»£è¡¨uniqueï¼Œå› æ­¤æ­¤é€‰é¡¹ä¼šå°†é‡å¤çš„é€‰é¡¹åˆ é™¤ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œè¿™é‡Œæˆ‘ä»¬æ ¹æ®ç¬¬äºŒåŸŸè¿›è¡Œæ’åºï¼Œæ·»åŠ -ué€‰é¡¹ï¼Œè¿™æ ·å…·æœ‰ç›¸åŒå‘˜å·¥æ•°ä¸”å¤„äºåç»­ä½ç½®çš„è¡Œå°†è¢«åˆ é™¤ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sort -k2n -u company.txt
guge 50 3000
baidu 100 5000
google 110 5000
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™é‡Œå°±å°†sohuè¿™ä¸€è¡Œåˆ é™¤äº†ã€‚æ³¨æ„äº†ï¼Œå½“-kä¸uç»“åˆä½¿ç”¨æ—¶ï¼Œ-uåªè¯†åˆ«-kè®¾å®šçš„åŸŸï¼Œå‘ç°ç›¸åŒå°±å°†åç»­ç›¸åŒçš„è¡Œåˆ é™¤ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å†ä¸¾ä¸ªä¾‹å­çœ‹çœ‹ç‰¹æ®Šæƒ…å†µ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sort -k2n -k3n -u company.txt
guge 50 3000
sohu 100 4500
baidu 100 5000
google 110 5000
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°è¿™æ¬¡æ²¡æœ‰åˆ é™¤ä»»ä½•è¡Œï¼Œè¿™ä¸»è¦æ˜¯ç”±äº-uä¼šæƒè¡¡æ‰€æœ‰-ké€‰é¡¹ï¼Œåªä¼šå°†éƒ½ç›¸åŒçš„åˆ é™¤ï¼Œåªè¦å…¶ä¸­æœ‰ä¸€çº§ä¸åŒå°±ä¸ä¼šè½»æ˜“åˆ é™¤ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å…¶ä»–æ³¨æ„ç‚¹&#34;&gt;å…¶ä»–æ³¨æ„ç‚¹&lt;/h3&gt;
&lt;p&gt;æœ€åæˆ‘è¿˜æƒ³å†è®²è®²&lt;code&gt;sort&lt;/code&gt;ä¸€äº›å…¶ä»–æ¯”è¾ƒæœ‰ç”¨çš„é€‰é¡¹ã€‚ç¬¬ä¸€ä¸ªæ˜¯-Vé€‰é¡¹ã€‚æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­çœ‹çœ‹ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cat example2.bed
chr2    15      19
chr22   32      46
chr10   31      47
chr1    34      49
chr11   6       16
chr2    17      22
chr2    27      46
chr10   30      42
# è¿›è¡Œæ’åº
$ sort -k1,1 -k2,2n example2.bed
chr1    34      49
chr10   30      42
chr10   31      47
chr11   6       16
chr2    15      19
chr2    17      22
chr2    27      46
chr22   32      46
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°chr2æ’åœ¨chr11ä¹‹åï¼Œä¸»è¦æ˜¯å› ä¸º1æ’åœ¨2ä¹‹å‰ï¼Œ&lt;code&gt;sort&lt;/code&gt;å¯¹æ–‡æœ¬è¿›è¡Œæ’åºæ—¶æ— æ³•æŒ‰æ•°å­—è¿›è¡Œæ’åºï¼Œé€šè¿‡é€‰é¡¹-Vå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sort -k1,1V -k2,2n example2.bed
chr1    34      49
chr2    15      19
chr2    17      22
chr2    27      46
chr10   30      42
chr10   31      47
chr11   6       16
chr22   32      46
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦å¤–ä¸€ä¸ªéœ€è¦è€ƒè™‘çš„æ˜¯å½“æˆ‘ä»¬å¤„ç†å¤§æ•°æ®é›†æ–‡æœ¬æ—¶ï¼Œæé«˜è¿è¡Œé€Ÿåº¦æ˜¯å¾ˆé‡è¦çš„ï¼Œ&lt;code&gt;sort&lt;/code&gt;æä¾›äº†å‡ ç§æ–¹æ³•ï¼Œç¬¬ä¸€æ˜¯æä¾›äº†-Sé€‰é¡¹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sort -k1,1 -k4,4n -S2G Mus_musculus.GRCm38.75_chr1_random.gtf
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å…¶ä¸­Gè¡¨ç¤ºgigabyteï¼Œå¦å¤–ä¸€ç§æ–¹æ³•æ˜¯æä¾›äº†å¹¶è¡Œå¤šçº¿ç¨‹è®¡ç®—&amp;ndash;parallelé€‰é¡¹&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sort -k1,1 -k4,4n --parallel=4 Mus_musculus.GRCm38.75_chr1_random.gtf
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    
    <item>
      <title>Linuxå­¦ä¹ ç¬”è®°ï¼ˆå››ï¼‰</title>
      <link>https://taoyan.netlify.app/post/2017-11-13.linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%9B%9B/</link>
      <pubDate>Mon, 13 Nov 2017 13:19:05 +0000</pubDate>
      <guid>https://taoyan.netlify.app/post/2017-11-13.linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%9B%9B/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://github.com/YTLogos/Pic_blog/blob/master/894bbdhjmL.png?raw=true&#34; alt=&#34;mark&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;grep&#34;&gt;&lt;code&gt;grep&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;grep&lt;/code&gt;å…¨ç§°æ˜¯&lt;strong&gt;global search regular expression(RE) and print out the line&lt;/strong&gt;ï¼Œä¸­æ–‡åå³å…¨é¢æœç´¢æ­£åˆ™è¡¨è¾¾å¼å¹¶æŠŠè¡Œæ‰“å°å‡ºæ¥ã€‚æ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·ï¼Œå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ–‡æœ¬ï¼Œå¹¶å°†åŒ¹é…çš„è¡Œåˆ—æ‰“å°å‡ºæ¥ã€‚&lt;strong&gt;Unix&lt;/strong&gt;çš„&lt;code&gt;grep&lt;/code&gt;å®¶æ—åŒ…æ‹¬&lt;code&gt;grep&lt;/code&gt;,&lt;code&gt;egrep&lt;/code&gt;,&lt;code&gt;fgrep&lt;/code&gt;ä»¥åŠ&lt;code&gt;zgrep&lt;/code&gt;ç­‰ï¼Œ&lt;code&gt;egrep&lt;/code&gt;,&lt;code&gt;fgrep&lt;/code&gt;ä¸&lt;code&gt;grep&lt;/code&gt;çš„å·®åˆ«å¾ˆå°ï¼Œ&lt;code&gt;egrep&lt;/code&gt;æ”¯æŒæ›´å¤šçš„reå…ƒå­—ç¬¦ï¼Œ &lt;code&gt;fgrep&lt;/code&gt;å°±æ˜¯&lt;em&gt;fixed grep&lt;/em&gt;æˆ–&lt;em&gt;fast grep&lt;/em&gt;ï¼Œå®ƒä»¬æŠŠæ‰€æœ‰çš„å­—æ¯éƒ½çœ‹ä½œå•è¯ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¸­çš„å…ƒå­—ç¬¦è¡¨ç¤ºå…¶è‡ªèº«çš„å­—é¢æ„ä¹‰ï¼Œä¸å†ç‰¹æ®Š&lt;code&gt;grep&lt;/code&gt;å¯ä»¥é€šè¿‡-&lt;em&gt;Gã€&lt;/em&gt;-&lt;em&gt;Eã€&lt;/em&gt;-_F_å‘½ä»¤è¡Œé€‰é¡¹æ¥ä½¿ç”¨&lt;code&gt;egrep&lt;/code&gt;,&lt;code&gt;fgrep&lt;/code&gt;çš„åŠŸèƒ½ï¼Œ&lt;code&gt;zgrep&lt;/code&gt;å¯ä»¥ç”¨æ¥å¤„ç†&lt;strong&gt;ZIP&lt;/strong&gt;æ ¼å¼æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h3 id=&#34;grepå¸¸ç”¨ç”¨æ³•&#34;&gt;&lt;code&gt;grep&lt;/code&gt;å¸¸ç”¨ç”¨æ³•&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;grep&lt;/code&gt;å¸¸ç”¨ç”¨æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;grep [-acinv] [--color=auto] &#39;å­—ç¬¦ä¸²æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼&#39; filename
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é€‰é¡¹å‚æ•°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;-aï¼šå°†binaryæ–‡ä»¶ä»¥textæ–‡ä»¶çš„æ–¹å¼æœç´¢ï¼Œå³ä¸è¦å¿½ç•¥äºŒè¿›åˆ¶æ•°æ®&lt;/li&gt;
&lt;li&gt;-A&amp;lt;æ˜¾ç¤ºåˆ—æ•°&amp;gt;ï¼šé™¤äº†æ˜¾ç¤ºåŒ¹é…åˆ°çš„é‚£ä¸€è¡Œä¹‹å¤–ï¼Œè¿˜æ˜¾ç¤ºè¯¥è¡Œä¹‹åçš„å†…å®¹&lt;/li&gt;
&lt;li&gt;-bï¼šé™¤äº†æ˜¾ç¤ºåŒ¹é…åˆ°çš„é‚£ä¸€è¡Œä¹‹å¤–ï¼Œè¿˜æ˜¾ç¤ºè¯¥è¡Œä¹‹å‰çš„å†…å®¹&lt;/li&gt;
&lt;li&gt;-cï¼šè®¡ç®—åŒ¹é…åˆ°&lt;strong&gt;å­—ç¬¦ä¸²&lt;/strong&gt;çš„æ¬¡æ•°&lt;/li&gt;
&lt;li&gt;-C&amp;lt;æ˜¾ç¤ºåˆ—æ•°&amp;gt;ï¼šé™¤äº†æ˜¾ç¤ºåŒ¹é…åˆ°çš„é‚£ä¸€åˆ—ä¹‹å¤–ï¼Œè¿˜æ˜¾ç¤ºè¯¥åˆ—ä¹‹å‰åçš„å†…å®¹&lt;/li&gt;
&lt;li&gt;-d&amp;lt;è¿›è¡ŒåŠ¨ä½œ&amp;gt; å½“æŒ‡å®šè¦æŸ¥æ‰¾çš„æ˜¯ç›®å½•è€Œéæ–‡ä»¶æ—¶ï¼Œå¿…é¡»ä½¿ç”¨è¿™é¡¹å‚æ•°ï¼Œå¦åˆ™grepå‘½ä»¤å°†å›æŠ¥ä¿¡æ¯å¹¶åœæ­¢åŠ¨ä½œ&lt;/li&gt;
&lt;li&gt;-e&amp;lt;èŒƒæœ¬æ ·å¼&amp;gt; æŒ‡å®šå­—ç¬¦ä¸²ä½œä¸ºæŸ¥æ‰¾æ–‡ä»¶å†…å®¹çš„èŒƒæœ¬æ ·å¼&lt;/li&gt;
&lt;li&gt;-E å°†èŒƒæœ¬æ ·å¼ä¸ºå»¶ä¼¸çš„æ™®é€šè¡¨ç¤ºæ³•æ¥ä½¿ç”¨ï¼Œæ„å‘³ç€ä½¿ç”¨èƒ½ä½¿ç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼&lt;/li&gt;
&lt;li&gt;-f&amp;lt;èŒƒæœ¬æ–‡ä»¶&amp;gt; æŒ‡å®šèŒƒæœ¬æ–‡ä»¶ï¼Œå…¶å†…å®¹æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªèŒƒæœ¬æ ·å¼ï¼Œè®©grepæŸ¥æ‰¾ç¬¦åˆèŒƒæœ¬æ¡ä»¶çš„æ–‡ä»¶å†…å®¹ï¼Œæ ¼å¼ä¸ºæ¯ä¸€åˆ—çš„èŒƒæœ¬æ ·å¼&lt;/li&gt;
&lt;li&gt;-F å°†èŒƒæœ¬æ ·å¼è§†ä¸ºå›ºå®šå­—ç¬¦ä¸²çš„åˆ—è¡¨&lt;/li&gt;
&lt;li&gt;-G å°†èŒƒæœ¬æ ·å¼è§†ä¸ºæ™®é€šçš„è¡¨ç¤ºæ³•æ¥ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;-h åœ¨æ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„é‚£ä¸€åˆ—ä¹‹å‰ï¼Œä¸æ ‡ç¤ºè¯¥åˆ—æ‰€å±çš„æ–‡ä»¶åç§°&lt;/li&gt;
&lt;li&gt;-H åœ¨æ˜¾ç¤ºç¬¦åˆèŒƒæœ¬æ ·å¼çš„é‚£ä¸€åˆ—ä¹‹å‰ï¼Œæ ‡ç¤ºè¯¥åˆ—çš„æ–‡ä»¶åç§°&lt;/li&gt;
&lt;li&gt;-l åˆ—å‡ºæ–‡ä»¶å†…å®¹ç¬¦åˆæŒ‡å®šçš„èŒƒæœ¬æ ·å¼çš„æ–‡ä»¶åç§°ã€‚&lt;/li&gt;
&lt;li&gt;-L åˆ—å‡ºæ–‡ä»¶å†…å®¹ä¸ç¬¦åˆæŒ‡å®šçš„èŒƒæœ¬æ ·å¼çš„æ–‡ä»¶åç§°ã€‚&lt;/li&gt;
&lt;li&gt;-q ä¸æ˜¾ç¤ºä»»ä½•ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;-R/-r æ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®šâ€œ-d recurseâ€å‚æ•°ç›¸åŒã€‚&lt;/li&gt;
&lt;li&gt;-s ä¸æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;-w åªæ˜¾ç¤ºå…¨å­—ç¬¦åˆçš„åˆ—ã€‚&lt;/li&gt;
&lt;li&gt;-x åªæ˜¾ç¤ºå…¨åˆ—ç¬¦åˆçš„åˆ—ã€‚&lt;/li&gt;
&lt;li&gt;-y æ­¤å‚æ•°æ•ˆæœè·Ÿâ€œ-iâ€ç›¸åŒã€‚&lt;/li&gt;
&lt;li&gt;-o åªè¾“å‡ºæ–‡ä»¶ä¸­åŒ¹é…åˆ°çš„éƒ¨åˆ†ã€‚&lt;/li&gt;
&lt;li&gt;-iï¼šå¿½ç•¥å¤§å°å†™&lt;/li&gt;
&lt;li&gt;-nï¼šè¾“å‡ºè¡Œå·&lt;/li&gt;
&lt;li&gt;-vï¼šæ–¹å‘é€‰æ‹©å³æ˜¾ç¤ºå‡ºæœªåŒ¹é…åˆ°&lt;strong&gt;å­—ç¬¦ä¸²&lt;/strong&gt;çš„é‚£ä¸€è¡Œ&lt;/li&gt;
&lt;li&gt;&amp;ndash;color=autoï¼šåŒ¹é…åˆ°çš„å­—ç¬¦ä¸²é¢œè‰²é«˜äº®&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬å®æˆ˜æ¼”ç»ƒä¸€ä¸‹ï¼Œæˆ‘ä»¬è¦ä»&lt;strong&gt;GTF&lt;/strong&gt;æ–‡ä»¶ä¸­æœç´¢åˆ°åŒ¹é…&lt;code&gt;Olfr418-ps1&lt;/code&gt;çš„è¡Œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ grep &#39;Olfr418-ps1&#39; Mus_musculus.GRCm38.75_chr1_genes.txt
ENSMUSG00000049605      Olfr418-ps1
#æ‰“å°å‡ºè¡Œå·
$ grep -n &#39;Olfr&#39; Mus_musculus.GRCm38.75_chr1_genes.txt|head -n 5
548:ENSMUSG00000067064  Olfr1416
549:ENSMUSG00000057464  Olfr1415
550:ENSMUSG00000042849  Olfr1414
551:ENSMUSG00000058904  Olfr1413
552:ENSMUSG00000046300  Olfr1412
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é€šè¿‡å‚æ•°&lt;code&gt;-v&lt;/code&gt;è®¾ç½®å¯ä»¥ä¸åŒ¹é…ä¸éœ€è¦çš„å­—ç¬¦ä¸²æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ grep Olfr Mus_musculus.GRCm38.75_chr1_genes.txt|grep -v Olfr1413|head -n 5
ENSMUSG00000067064      Olfr1416
ENSMUSG00000057464      Olfr1415
ENSMUSG00000042849      Olfr1414
ENSMUSG00000046300      Olfr1412
ENSMUSG00000062497      Olfr1411
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œæˆ‘ä»¬æ’é™¤æ‰&lt;code&gt;Olfr1413&lt;/code&gt;ï¼Œä½†æ˜¯å¦‚æœæ•°æ®é›†é‡Œå­˜åœ¨ç±»ä¼¼äº&lt;code&gt;Olfr1413a&lt;/code&gt;è¿™æ ·çš„å­—ç¬¦ï¼Œ&lt;code&gt;grep&lt;/code&gt;ä¹Ÿä¼šå°†ä¹‹å‰”é™¤ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦è®¾ç½®å‚æ•°&lt;code&gt;-w&lt;/code&gt;è¿›è¡Œç²¾å‡†åŒ¹é…ã€‚ä¸‹é¢ä¸¾ä¸ªä¾‹å­è¯´æ˜ï¼š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$ cat example.txt
bio
bioinfo
bioinformatics
computational biology
# grep without -w
$ grep -v bioinfo example.txt
bio
computational biology
#å¯ä»¥çœ‹å‡ºè¿™é‡Œå°†å«æœ‰bioinfoå­—ç¬¦ä¸²çš„bioinformaticsä¹Ÿå‰”é™¤æ‰äº†,ä½¿ç”¨å‚æ•°-wå¯ä»¥é¿å…
$ grep -v -w bioinfo example.txt
bio
bioinformatics
computational biology
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬å¹³å¸¸æ¥è§¦çš„ç»„å­¦æ•°æ®æ ¼å¼éƒ½æ˜¯å¾ˆå¤æ‚çš„ï¼Œå½“æˆ‘ä»¬åŒ¹é…çš„æ—¶å€™æˆ‘ä»¬å¸Œæœ›èƒ½è¿‡æµè§ˆåŒ¹é…åˆ°çš„å­—ç¬¦ä¸²çš„å‰åæ–‡ï¼Œ&lt;code&gt;Linux&lt;/code&gt;æä¾›äº†å‚æ•°è®¾ç½®ï¼š-Bï¼ˆå‰ï¼‰ã€-Aï¼ˆåï¼‰ä»¥åŠ-Cï¼ˆå‰åï¼‰ï¼Œæ¯ä¸ªå‚æ•°åé¢éƒ½è·Ÿç€ä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤ºè¦æ˜¾ç¤ºå‡ è¡Œ,å¦‚æœåŒ¹é…åˆ°å¤šè¡Œï¼Œåˆ™ä¸ªåŒ¹é…ä¹‹é—´ä¼šç”¨&amp;ndash;åˆ†å‰²å¼€ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ grep -B2 &#39;AGATCGG&#39; contam.fastq|head -n 6
@DJB775P1:248:D0MDGACXX:7:1202:12362:49613
TGCTTACTCTGCGTTGATACCACTGCTTAGATCGGAAGAGCACACGTCTGAA
--
JJJJJIIJJJJJJHIHHHGHFFFFFFCEEEEEDBD?DDDDDDBDDDABDDCA
@DJB775P1:248:D0MDGACXX:7:1202:12782:49716
CTCTGCGTTGATACCACTGCTTACTCTGCGTTGATACCACTGCTTAGATCGG
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;grep&lt;/code&gt;å¦‚æœç»“åˆæ­£åˆ™è¡¨è¾¾å¼åˆ™ä¼šæ˜¾å¾—ååˆ†å¼ºå¤§ï¼Œæ¯”å¦‚å¦‚æœæˆ‘ä»¬è¦åŒ¹é…&lt;code&gt;Olfr1413&lt;/code&gt;ä»¥åŠ&lt;code&gt;Olfr1411&lt;/code&gt;,å¯ä»¥ä½¿ç”¨ç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼å®Œæˆï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ grep &#39;Olfr141[13]&#39; Mus_musculus.GRCm38.75_chr1_genes.txt
ENSMUSG00000058904      Olfr1413
ENSMUSG00000062497      Olfr1411
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;å½“ç„¶å¦‚æœæˆ‘ä»¬è¦åŒ¹é…çš„ä¸å…·æœ‰ç›¸åŒçš„å‰ç¼€ï¼Œé‚£å°±å¾ˆå°´å°¬äº†ï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥åˆ©ç”¨**POSIX Extended Regular Expressions(ERE)**è¿›è¡ŒåŒ¹é…ï¼Œå¯ä»¥æ·»åŠ å‚æ•°-Eæˆ–è€…ç›´æ¥ä½¿ç”¨&lt;code&gt;egrep&lt;/code&gt;éƒ½è¡Œ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$ grep -E &amp;quot;(Olfr1413|Olfr12)&amp;quot; Mus_musculus.GRCm38.75_chr1_genes.txt
ENSMUSG00000058904      Olfr1413
ENSMUSG00000061616      Olfr12
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¾ˆå¤šæ—¶å€™æˆ‘ä»¬åªéœ€è¦å°†åŒ¹é…åˆ°çš„è¡Œæ‰“å°å‡ºæ¥ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‚æ•°-oï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ grep -o &amp;quot;Olfr.*&amp;quot; Mus_musculus.GRCm38.75_chr1_genes.txt|head -n 3
Olfr1416
Olfr1415
Olfr1414
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    
    <item>
      <title>Linuxå­¦ä¹ ç¬”è®°ï¼ˆä¸‰ï¼‰</title>
      <link>https://taoyan.netlify.app/post/2017-11-12.linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%89/</link>
      <pubDate>Sun, 12 Nov 2017 13:19:05 +0000</pubDate>
      <guid>https://taoyan.netlify.app/post/2017-11-12.linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%89/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://github.com/YTLogos/Pic_blog/blob/master/Be16KgagG1.png?raw=true&#34; alt=&#34;mark&#34;&gt;&lt;/p&gt;
&lt;p&gt;â€œwrite code for humans, write data for computersâ€&lt;/p&gt;
&lt;h2 id=&#34;cut&#34;&gt;&lt;strong&gt;cut&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;cut&lt;/code&gt;å…è®¸æˆ‘ä»¬ä»æ•°æ®é›†ä¸­æå–æŸå‡ åˆ—è¿›è¡ŒæŸ¥çœ‹ï¼Œé€šè¿‡å‚æ•°&lt;code&gt;f&lt;/code&gt;æ¥è®¾ç½®æŸ¥çœ‹å‡ åˆ—ï¼Œæ¯”å¦‚æˆ‘ä»¬æƒ³è¦æŸ¥çœ‹ç¬¬ä¸€å’Œç¬¬ä¸‰åˆ—æˆ–è€…åªæŸ¥çœ‹ç¬¬äºŒåˆ—ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cut -f 1,3 Mus_musculus.GRCm38.75_chr1.bed|head -n 3
1       3054733
1       3054733
1       3054733
$ cut -f 2 Mus_musculus.GRCm38.75_chr1.bed|head -n 3
3054233
3054233
3054233
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç»“åˆ&lt;code&gt;grep&lt;/code&gt;æˆ‘ä»¬å¯ä»¥ååˆ†æ–¹ä¾¿çš„å°†&lt;strong&gt;GTF&lt;/strong&gt;æ–‡ä»¶ä¸­çš„éƒ¨åˆ†ä¿¡æ¯æå–å‡ºæ¥è¿›è¡ŒæŸ¥çœ‹ï¼Œä½¿ç”¨&lt;code&gt;grep&lt;/code&gt;ä¸»è¦ç”¨æ¥å°†ä»¥&lt;code&gt;#&lt;/code&gt;å¼€å¤´çš„éƒ¨ä»½å†…å®¹å‰”é™¤æ‰ï¼Œè¿™å…¶ä¸­æ¶‰åŠåˆ°æ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ‘å°†åœ¨åé¢é›†ä¸­å­¦ä¹ ã€‚ä¸‹é¢çš„å‘½ä»¤å¯ä»¥å°†æŸ“è‰²ä½“ã€èµ·å§‹ä½ç½®ä»¥åŠç»ˆæ­¢ä½ç½®æå–å‡ºæ¥ï¼Œç±»ä¼¼äº&lt;code&gt;bed&lt;/code&gt;æ–‡ä»¶æ ¼å¼ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ grep -v &#39;^#&#39; Mus_musculus.GRCm38.75_chr1.gtf | cut -f 1,4,5 | head -n 3
1       3054233 3054733
1       3054233 3054733
1       3054233 3054733
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨&lt;code&gt;&amp;gt;&lt;/code&gt;å°†æå–çš„æ–‡ä»¶å¦å­˜ä¸ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ–¹ä¾¿ä»¥åä½¿ç”¨ã€‚è¿™é‡Œæˆ‘ä»¬å­˜ä¸º&lt;strong&gt;test.txt&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ grep -v &amp;quot;^#&amp;quot; Mus_musculus.GRCm38.75_chr1.gtf | cut -f 1,4,5 &amp;gt; test.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;cut&lt;/code&gt;é»˜è®¤åˆ†éš”ç¬¦ä¸ºç©ºæ ¼ï¼Œå› æ­¤å¦‚æœä½¿ç”¨&lt;code&gt;cut&lt;/code&gt;æ¥å¤„ç†&lt;strong&gt;CSV&lt;/strong&gt;æ–‡ä»¶çš„è¯ï¼Œæˆ‘ä»¬å°±éœ€è¦é€šè¿‡å‚æ•°&lt;code&gt;d&lt;/code&gt;æŒ‡å®šåˆ†éš”ç¬¦ &lt;strong&gt;&lt;code&gt;,&lt;/code&gt;&lt;/strong&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cut -d , -f 2,3 Mus_musculus.GRCm38.75_chr1_bed.csv | head -n 3
3054233,3054733
3054233,3054733
3054233,3054733
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;column&#34;&gt;&lt;strong&gt;column&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;å½“æˆ‘ä»¬å¤„ç†åˆ¶è¡¨ç¬¦æ–‡ä»¶æ—¶ï¼Œå¸¸å¸¸è¡Œåˆ—ä¹‹é—´æ— æ³•å¯¹å…¶ï¼Œæµè§ˆæ•ˆæœå¾ˆå·®,å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ grep -v &amp;quot;^#&amp;quot; Mus_musculus.GRCm38.75_chr1.gtf|cut -f1-8|head -n 3
1       pseudogene      gene    3054233 3054733 .       +       .
1       unprocessed_pseudogene  transcript      3054233 3054733 .       +      .
1       unprocessed_pseudogene  exon    3054233 3054733 .       +       .
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;column&lt;/code&gt;å¯ä»¥äº§ç”Ÿé˜…è¯»æ•ˆæœå¾ˆå¥½çš„æ–‡ä»¶æ ¼å¼ï¼Œå‚æ•°&lt;code&gt;t&lt;/code&gt;è¡¨ç¤º&lt;code&gt;column&lt;/code&gt;å°†å¯¹æ•°æ®é›†å½“ä½œä¸€ä¸ªtableæ¥å¤„ç†,ä¸‹é¢çš„é˜…è¯»æ•ˆæœæ˜æ˜¾å¥½äºå‰é¢çš„ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ grep -v &amp;quot;^#&amp;quot; Mus_musculus.GRCm38.75_chr1.gtf|cut -f1-8|head -n 3|column -t
1  pseudogene              gene        3054233  3054733  .  +  .
1  unprocessed_pseudogene  transcript  3054233  3054733  .  +  .
1  unprocessed_pseudogene  exon        3054233  3054733  .  +  .
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ&lt;code&gt;column -t&lt;/code&gt;åªèƒ½æ”¯æŒåœ¨ç»ˆç«¯è¿›è¡Œæµè§ˆæ•°æ®ï¼Œæ— æ³•å¯¹æ•°æ®é›†è¿›è¡Œæ ¼å¼é‡å†™æˆä¸€ä¸ªæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;column&lt;/code&gt;é»˜è®¤\tä¸ºåˆ†éš”ç¬¦ï¼Œå› æ­¤å½“æˆ‘ä»¬å¤„ç†å…¶ä»–åˆ†éš”ç¬¦æ•°æ®æ—¶ï¼Œéœ€è¦ä½¿ç”¨å‚æ•°&lt;code&gt;s&lt;/code&gt;è¿›è¡ŒæŒ‡å®šï¼Œæ¯”å¦‚å½“æˆ‘ä»¬å¤„ç†&lt;strong&gt;CSV&lt;/strong&gt;æ•°æ®æ—¶ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ column -s, -t Mus_musculus.GRCm38.75_chr1_bed.csv|head -n 3
1  3054233    3054733
1  3054233    3054733
1  3054233    3054733
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    
    <item>
      <title>Linuxå­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰</title>
      <link>https://taoyan.netlify.app/post/2017-11-11.linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%BA%8C/</link>
      <pubDate>Sat, 11 Nov 2017 13:19:05 +0000</pubDate>
      <guid>https://taoyan.netlify.app/post/2017-11-11.linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%BA%8C/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://github.com/YTLogos/Pic_blog/blob/master/E3kF9hl9jj.png?raw=true&#34; alt=&#34;mark&#34;&gt;&lt;/p&gt;
&lt;p&gt;é‰´äºä»¥åè¦å¤§é‡ä½¿ç”¨&lt;code&gt;Linux&lt;/code&gt;ç³»ç»Ÿå¤„ç†ç”Ÿç‰©ä¿¡æ¯å­¦æ•°æ®ï¼Œå› æ­¤åŠ å¼ºè‡ªèº«linuxç³»ç»Ÿçš„å­¦ä¹ ï¼Œå¼€è¾Ÿä¸€ä¸ªæ–°çš„åˆ†ç±»ä¸“é—¨è®°å½•æˆ‘å­¦ä¹ &lt;code&gt;Linux&lt;/code&gt;çš„å­¦ä¹ ç¬”è®°ï¼Œä¸€æ˜¯ä¸ºäº†æˆ‘è‡ªå·±ä»¥åæ–¹ä¾¿æŸ¥çœ‹ï¼ŒäºŒä¹Ÿæ˜¯å¸Œæœ›èƒ½å¸®åŠ©åˆ°å…¶ä»–å­¦ä¹ &lt;code&gt;Linux&lt;/code&gt;ç³»ç»Ÿçš„äººï¼Œå…±å‹‰ï¼ï¼ï¼&lt;/p&gt;
&lt;h2 id=&#34;head&#34;&gt;&lt;code&gt;head&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;å¿«é€ŸæŸ¥çœ‹æ•°æ®ï¼Œä»¥&lt;strong&gt;bed&lt;/strong&gt;(åªæœ‰ä¸‰åˆ—)æ ¼å¼æ•°æ®ä¸ºä¾‹&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ head Mus_musculus.GRCm38.75_chr1.bed
1       3054233 3054733
1       3054233 3054733
1       3054233 3054733
1       3102016 3102125
1       3102016 3102125
1       3102016 3102125
1       3205901 3671498
1       3205901 3216344
1       3213609 3216344
1       3205901 3207317
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;head&lt;/code&gt;é»˜è®¤æ˜¾ç¤ºå‰åè¡Œï¼Œå¯ä»¥é€šè¿‡å‚æ•°næ¥æŒ‡å®šæ˜¾ç¤ºå‡ è¡Œï¼Œæ¯”å¦‚åªæ˜¾ç¤ºä¸‰è¡Œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ head -n 3 Mus_musculus.GRCm38.75_chr1.bed
1       3054233 3054733
1       3054233 3054733
1       3054233 3054733
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;tail&#34;&gt;&lt;code&gt;tail&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;ä¸&lt;code&gt;head&lt;/code&gt;ç›¸å¯¹çš„æœ‰ä¸€ä¸ªå‘½ä»¤&lt;code&gt;tail&lt;/code&gt;,&lt;code&gt;tail&lt;/code&gt;æ˜¾ç¤ºåå‡ è¡Œï¼Œé»˜è®¤æ˜¾ç¤ºååè¡Œï¼Œä¹Ÿå¯ä»¥é€šè¿‡å‚æ•°næ¥æŒ‡å®šæ˜¾ç¤ºå‡ è¡Œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ tail Mus_musculus.GRCm38.75_chr1.bed
1       195166217       195166390
1       195165745       195165851
1       195165748       195165851
1       195165745       195165747
1       195228278       195228398
1       195228278       195228398
1       195228278       195228398
1       195240910       195241007
1       195240910       195241007
1       195240910       195241007
$ tail -n 3 Mus_musculus.GRCm38.75_chr1.bed
1       195240910       195241007
1       195240910       195241007
1       195240910       195241007
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;åŸºäºè¿™ä¸ªç‰¹æ€§ï¼Œ&lt;code&gt;tail&lt;/code&gt;å¯ä»¥ç”¨æ¥å»é™¤æ•°æ®é›†çš„å‰å‡ åˆ—ï¼Œé€šè¿‡åœ¨å‚æ•°nåé¢æ·»åŠ æ•°å­—(å³&lt;code&gt;-n +x&lt;/code&gt;,åŒºåˆ«äº&lt;code&gt;-n 2&lt;/code&gt;)æŒ‡å®šä»ç¬¬å‡ è¡Œå¼€å§‹ï¼Œæ¯”å¦‚ä»ç¬¬ä¸‰è¡Œå¼€å§‹ï¼Œä¹Ÿå°±æ˜¯å‰”é™¤äº†å‰ä¸¤è¡Œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$ seq 5 &amp;gt; nums.txt
$ cat nums.txt
1
2
3
4
5
# ä»ç¬¬ä¸‰è¡Œå¼€å§‹
$ tail -n +3 nums.txt
3
4
5
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç»“åˆè¿™ä¸¤ä¸ªå‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥ååˆ†æ–¹ä¾¿çš„æŸ¥çœ‹ä¸€ä¸ªæ•°æ®é›†çš„å‰å‡ è¡Œä»¥åŠåå‡ è¡Œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ (head -n 2; tail -n 2)&amp;lt; Mus_musculus.GRCm38.75_chr1.bed
1       3054233 3054733
1       3054233 3054733
1       195240910       195241007
1       195240910       195241007
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;less&#34;&gt;&lt;code&gt;less&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;ä¸€èˆ¬å°çš„æ–‡ä»¶æˆ‘ä»¬ç›´æ¥ç”¨&lt;code&gt;cat&lt;/code&gt;è¿›è¡ŒæŸ¥çœ‹ï¼Œä½†æ˜¯å¦‚æœå¤§æ•°æ®é›†çš„è¯ç”¨&lt;code&gt;cat&lt;/code&gt;å°±ååˆ†ä¸æ–¹ä¾¿æŸ¥çœ‹ï¼Œ&lt;code&gt;less&lt;/code&gt;å°±æ˜¯ç”¨æ¥æŸ¥çœ‹å¤§æ•°æ®é›†çš„å‘½ä»¤ã€‚&lt;code&gt;less&lt;/code&gt;ä¸€æ¬¡æ€§åªæ˜¾ç¤ºå‰å‡ è¡Œï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡æ»šåŠ¨æŸ¥çœ‹åé¢çš„ä¿¡æ¯ï¼Œæœ€åæŒ‰&lt;code&gt;q&lt;/code&gt;ç»“æŸã€‚ä¸‹é¢åˆ—å‡º&lt;code&gt;less&lt;/code&gt;å¸¸ç”¨çš„å‘½ä»¤ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Shortcut&lt;/th&gt;
&lt;th&gt;Action&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;space bar&lt;/td&gt;
&lt;td&gt;Next page&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;b&lt;/td&gt;
&lt;td&gt;Previous page&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;g&lt;/td&gt;
&lt;td&gt;First line&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;G&lt;/td&gt;
&lt;td&gt;Last line&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;j&lt;/td&gt;
&lt;td&gt;Down (one line at at time)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;k&lt;/td&gt;
&lt;td&gt;Up (one line at at time)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;/&amp;lt;pattern&amp;gt;&lt;/td&gt;
&lt;td&gt;Search down (forward) for string &amp;lt;pattern&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;?&amp;lt;pattern&amp;gt;&lt;/td&gt;
&lt;td&gt;Search up (backward) for string &amp;lt;pattern&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;n&lt;/td&gt;
&lt;td&gt;Repeat last search downward (forward)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;N&lt;/td&gt;
&lt;td&gt;Repeat last search upward (backward)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;wcword-count&#34;&gt;&lt;code&gt;wc(word count)&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;æŸ¥çœ‹æ•°æ®æœ‰å¤šå°‘è¡Œå¯ä»¥ç”¨&lt;code&gt;wc&lt;/code&gt;å‘½ä»¤,&lt;code&gt;wc&lt;/code&gt;ä¼šæ˜¾ç¤ºå‡ºæ•°æ®æœ‰å¤šå°‘è¡Œã€å¤šå°‘wordä»¥åŠå¤šå°‘å­—ç¬¦(characters)ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ wc Mus_musculus.GRCm38.75_chr1.bed
  81226  243678 1698545 Mus_musculus.GRCm38.75_chr1.bed
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;wc&lt;/code&gt;æ”¯æŒåŒæ—¶å¤„ç†å¤šä¸ªæ–‡ä»¶ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ wc Mus_musculus.GRCm38.75_chr1.bed Mus_musculus.GRCm38.75_chr1.gtf
   81226   243678  1698545 Mus_musculus.GRCm38.75_chr1.bed
   81231  2385570 26607149 Mus_musculus.GRCm38.75_chr1.gtf
  162457  2629248 28305694 æ€»ç”¨é‡
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœåªæƒ³æ˜¾ç¤ºå¤šå°‘è¡Œï¼Œæ·»åŠ å‚æ•°&lt;code&gt;l&lt;/code&gt;å°±è¡Œäº†ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ wc -l Mus_musculus.GRCm38.75_chr1.bed
81226 Mus_musculus.GRCm38.75_chr1.bed
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ›´å¤šç”¨æ³•å¯ä»¥ç”¨&lt;code&gt;man wc&lt;/code&gt;æŸ¥çœ‹ã€‚&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Linuxå­¦ä¹ ç¬”è®°(ä¸€)</title>
      <link>https://taoyan.netlify.app/post/2017-11-09.linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/</link>
      <pubDate>Sun, 25 Jun 2017 12:34:08 -0500</pubDate>
      <guid>https://taoyan.netlify.app/post/2017-11-09.linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://github.com/YTLogos/Pic_blog/blob/master/Jb7HLAJK63.png?raw=true&#34; alt=&#34;mark&#34;&gt;&lt;/p&gt;
&lt;p&gt;é‰´äºä»¥åè¦å¤§é‡ä½¿ç”¨&lt;code&gt;Linux&lt;/code&gt;ç³»ç»Ÿå¤„ç†ç”Ÿç‰©ä¿¡æ¯å­¦æ•°æ®ï¼Œå› æ­¤åŠ å¼ºè‡ªèº«linuxç³»ç»Ÿçš„å­¦ä¹ ï¼Œå¼€è¾Ÿä¸€ä¸ªæ–°çš„åˆ†ç±»ä¸“é—¨è®°å½•æˆ‘å­¦ä¹ &lt;code&gt;Linux&lt;/code&gt;çš„å­¦ä¹ ç¬”è®°ï¼Œä¸€æ˜¯ä¸ºäº†æˆ‘è‡ªå·±ä»¥åæ–¹ä¾¿æŸ¥çœ‹ï¼ŒäºŒä¹Ÿæ˜¯å¸Œæœ›èƒ½å¸®åŠ©åˆ°å…¶ä»–å­¦ä¹ &lt;code&gt;Linux&lt;/code&gt;ç³»ç»Ÿçš„äººï¼Œå…±å‹‰ï¼ï¼ï¼&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ›å»ºå«æœ‰å½“å‰æ—¶é—´çš„æ–‡ä»¶ï¼Œå¦‚åˆ›å»ºä¸€ä¸ªå«æœ‰ä»Šå¤©æ—¶é—´æ—¥æœŸçš„æ–‡ä»¶å¤¹&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$ mkdir results-$(date +%F)
$ ls
results-2017-11-02
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;è®¾ç½®è‡ªå·±çš„å¿«æ·å‘½ä»¤ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦åˆ›å»ºé¡¹ç›®æ—¶ï¼Œéœ€è¦åˆ›å»º&lt;code&gt;data/seqs&lt;/code&gt;,&lt;code&gt;scripts&lt;/code&gt;ä»¥åŠ&lt;code&gt;analysis&lt;/code&gt;æ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªå¿«æ·å‘½ä»¤ç¬¦ï¼Œä»¥åå°±å¯ä»¥ç›´æ¥è°ƒç”¨å³å¯ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;$ alias mkpr=&amp;quot;mkdir -p {data/seqs,scripts,analysis}&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™æ ·åé¢æˆ‘ä»¬æ¯æ¬¡è¿è¡Œ&lt;em&gt;mkpr&lt;/em&gt;å°±ä¼šåˆ›å»º&lt;code&gt;data/seqs&lt;/code&gt;,&lt;code&gt;scripts&lt;/code&gt;ä»¥åŠ&lt;code&gt;analysis&lt;/code&gt;æ–‡ä»¶å¤¹ã€‚å°†ä¸Šè¿°ä¸¤ç‚¹ç»¼åˆæˆ‘ä»¬å°±å¯ä»¥å¾ˆå®¹æ˜“åˆ›å»ºå«æœ‰å½“å‰æ—¶æœŸçš„æ–‡ä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬å°†&lt;code&gt;date +%F&lt;/code&gt;è®¾ç½®æˆå¿«æ·å‘½ä»¤&lt;em&gt;today&lt;/em&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$ alias today=&amp;quot;date +%F&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™æ ·æˆ‘ä»¬ä»¥ååªéœ€è¦è¿è¡Œä»¥ä¸‹å‘½ä»¤å°±å¯ä»¥åˆ›å»ºå«æœ‰å½“å‰æ—¶é—´æ—¥æœŸçš„æ–‡ä»¶äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;$ mkdir results-$(today)
$ls
results-2017-11-02
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„ä¸Šè¿°å‘½ä»¤åœ¨æˆ‘ä»¬é‡å¯ç»ˆç«¯æ—¶æ˜¯æ— æ³•å†æ¬¡ä½œç”¨çš„ï¼Œè¦ä½¿å¾—&lt;strong&gt;alias&lt;/strong&gt;å‘½ä»¤æ°¸ä¹…æœ‰æ•ˆï¼Œæˆ‘ä»¬å¯ä»¥å°†å‘½ä»¤æ·»åŠ åˆ°&lt;code&gt;.bashrc&lt;/code&gt;ä¸­ï¼Œä¹‹å&lt;code&gt;source ~/.bashrc&lt;/code&gt;å³å¯ç”Ÿæ•ˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;</description>
    </item>
    
  </channel>
</rss>
